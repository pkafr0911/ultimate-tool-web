(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["e5bef15d"],{f900ef50:function(e,t,l){"use strict";l.d(t,"__esModule",{value:!0}),l.d(t,"default",{enumerable:!0,get:function(){return w;}});var a=l("777fffbe"),i=l("1a7c85b4"),s=a._(l("b2a1469e")),n=a._(l("e9bcd22d")),r=a._(l("cec50f65")),h=a._(l("c9d8dc0b")),f=a._(l("ea21718c")),o=a._(l("6effc0fd")),d=l("d322be42"),c=a._(l("4fa5c282"));let{Title:u}=o.default,m=["#ff7875","#ffa940","#ffd666","#95de64","#69c0ff","#b37feb"];var w=()=>{let[e,t]=(0,d.useState)("Alice\nBob\nCharlie\nDavid"),[l,a]=(0,d.useState)([]),[o,w]=(0,d.useState)(0),[g,v]=(0,d.useState)(!1),[b,x]=(0,d.useState)(null),[p,T]=(0,d.useState)(!1),[S,j]=(0,d.useState)(450),M=(0,d.useRef)(null);(0,d.useEffect)(()=>{a(e.split("\n").filter(e=>""!==e.trim()));},[e]),(0,d.useEffect)(()=>{let e=()=>{j(Math.min(.8*window.innerWidth,450));};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e);},[]),(0,d.useEffect)(()=>{_(o);},[o,l,S]);let _=e=>{let t=M.current;if(!t)return;let a=t.getContext("2d");if(!a)return;let i=2*Math.PI/(l.length||1);a.clearRect(0,0,t.width,t.height),a.save(),a.translate(t.width/2,t.height/2),a.rotate(e*Math.PI/180),l.forEach((e,l)=>{a.beginPath(),a.fillStyle=m[l%m.length],a.moveTo(0,0),a.arc(0,0,t.width/2,l*i,(l+1)*i),a.fill(),a.save(),a.fillStyle="#fff",a.font=`bold ${Math.max(14,t.width/22)}px sans-serif`,a.translate(Math.cos(l*i+i/2)*(t.width/3),Math.sin(l*i+i/2)*(t.height/3)),a.rotate(l*i+i/2),a.fillText(e,-a.measureText(e).width/2,5),a.restore();}),g||(a.fillStyle="#fff",a.font=`bold ${Math.max(18,t.width/18)}px sans-serif`,a.fillText("Tap or Spin",-a.measureText("Tap or Spin").width/2,10)),a.restore();},y=()=>{if(l.length<2){h.default.error("Add at least two names!");return;}x(null),v(!0);let e=o+1800+Math.floor(360*Math.random());N(o,e,4e3);},N=(e,t,a)=>{let i=Date.now(),s=()=>{let n=Math.min((Date.now()-i)/a,1);if(w(e+(t-e)*(1-Math.pow(1-n,3))),n<1)requestAnimationFrame(s);else{let e=Math.floor((360-(t%360+360)%360)/(360/l.length))%l.length,a=l[e];x(a),v(!1),h.default.success(`Winner: ${a}`),T(!0),setTimeout(()=>T(!1),15e3);}};requestAnimationFrame(s);};return(0,i.jsxs)("div",{className:"wheel-light-container",children:[p&&(0,i.jsx)(c.default,{}),(0,i.jsxs)(n.default,{className:"wheel-light-card",variant:"borderless",children:[(0,i.jsx)(u,{level:3,className:"wheel-light-title",children:"\u{1F3A1} Wheel of Names"}),(0,i.jsxs)("div",{className:"wheel-light-content",children:[(0,i.jsxs)("div",{className:"wheel-light-canvas",children:[(0,i.jsx)("canvas",{ref:M,width:S,height:S,onClick:y,onTouchStart:e=>{e.preventDefault(),g||y();},style:{cursor:"pointer"}}),(0,i.jsx)("div",{className:"wheel-light-pointer"})]}),(0,i.jsxs)("div",{className:"wheel-light-controls",children:[(0,i.jsx)(s.default,{type:"primary",size:"large",className:"spin-btn-light",onClick:y,disabled:g,children:"Spin the Wheel"}),b&&(0,i.jsxs)(u,{level:4,style:{color:"#52c41a",marginTop:10},children:["Winner: ",b]}),(0,i.jsx)(f.default,{direction:"vertical",style:{width:"100%",marginTop:16},children:(0,i.jsx)(r.default.TextArea,{rows:8,value:e,onChange:e=>t(e.target.value),placeholder:"Enter names, each on a new line"})})]})]})]})]});};}}]);
//# sourceMappingURL=e5bef15d-async.11e7fa9a.js.map