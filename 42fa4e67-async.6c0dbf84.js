(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["42fa4e67"],{bc7b36fe:function(e,t,l){e.exports="";},f5a76419:function(e,t,l){l.d(t,"__esModule",{value:!0}),l.e(t,{default:function(){return eo;}});var a=l("777fffbe"),r=l("852bbaa9"),i=l("1a7c85b4"),n=l("47ffc2fb"),s=l("3cdaadee"),o=l("d43df923"),d=l("c0340237"),c=a._(d),u=l("1ee4d6ad"),f=a._(u),h=l("84cd549f"),p=a._(h),g=l("07d5c3d6"),m=a._(g),x=l("d2d0b3b6"),v=a._(x),w=l("d322be42"),j=r._(w),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M957.6 507.4L603.2 158.2a7.9 7.9 0 00-11.2 0L353.3 393.4a8.03 8.03 0 00-.1 11.3l.1.1 40 39.4-117.2 115.3a8.03 8.03 0 00-.1 11.3l.1.1 39.5 38.9-189.1 187H72.1c-4.4 0-8.1 3.6-8.1 8V860c0 4.4 3.6 8 8 8h344.9c2.1 0 4.1-.8 5.6-2.3l76.1-75.6 40.4 39.8a7.9 7.9 0 0011.2 0l117.1-115.6 40.1 39.5a7.9 7.9 0 0011.2 0l238.7-235.2c3.4-3 3.4-8 .3-11.2zM389.8 796.2H229.6l134.4-133 80.1 78.9-54.3 54.1zm154.8-62.1L373.2 565.2l68.6-67.6 171.4 168.9-68.6 67.6zM713.1 658L450.3 399.1 597.6 254l262.8 259-147.3 145z"}}]},name:"highlight",theme:"outlined"},b=l("85c4e0d9"),S=a._(b),k=j.forwardRef(function(e,t){return j.createElement(S.default,(0,v.default)((0,v.default)({},e),{},{ref:t,icon:y}));}),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},G=j.forwardRef(function(e,t){return j.createElement(S.default,(0,v.default)((0,v.default)({},e),{},{ref:t,icon:C}));}),V=l("820c05df"),N=a._(V),z=j.forwardRef(function(e,t){return j.createElement(S.default,(0,v.default)((0,v.default)({},e),{},{ref:t,icon:N.default}));}),$=l("376b0022"),_=a._($),R=l("8a2df7b6"),P=a._(R),B=l("70bd2056"),T=a._(B),U=l("7e7852f8"),L=l("b2a1469e"),M=a._(L),W=l("e9bcd22d"),D=a._(W),F=l("cec50f65"),I=a._(F),A=l("c9d8dc0b"),E=a._(A),O=l("ae31d792"),H=a._(O),q=l("ea21718c"),K=a._(q),Z=l("88b618ad"),Q=a._(Z),X=l("92be0fc5"),Y=a._(X),J=l("d4a32650"),ee=a._(J),et=l("6effc0fd"),el=a._(et),ea=l("34f06567"),er=a._(ea),ei=l("7d44fa59"),en={container:"container-ifNp8X8v",black:"black-dzYcsv8L",white:"white-g7ji-nsv",previewSection:"previewSection-GnZ3WSda","svg-viewer-guide":"svg-viewer-guide-nxbycxb3",topActions:"topActions-UFx2oxkx",actions:"actions-66jwCBOd",previewTabs:"previewTabs-U_y_MWg8","ant-tabs-content-holder":"ant-tabs-content-holder-L5RM32NU",previewFooter:"previewFooter-vj4VT2rT",grey:"grey-uQ7R7QeA",previewWrapper:"previewWrapper-BjYbvX_x",editorBox:"editorBox-3UW17M3X",editorSection:"editorSection-QVl5cWPc",transparent:"transparent-P7OSMWzA",previewActions:"previewActions-CkErfeph","ant-tabs-content":"ant-tabs-content-K3XRNHSw",content:"content-MeCNiq_y",previewCodeBox:"previewCodeBox-TPkKQJk7"};let{Text:es}=el.default,eo=()=>{let{darkMode:e}=(0,s.useDarkMode)(),[t,l]=(0,j.useState)(""),[a,r]=(0,j.useState)(""),[d,u]=(0,j.useState)(""),[h,g]=(0,j.useState)(""),[x,v]=(0,j.useState)("grey"),[w,y]=(0,j.useState)(null),[b,S]=(0,j.useState)("svg"),[C,V]=(0,j.useState)(!1),[N,$]=(0,j.useState)({width:"",height:""}),[R,B]=(0,j.useState)(1),L=(0,o.useIsMobile)(),W=(0,j.useRef)(0),F=(0,j.useRef)(null),A=(0,j.useRef)(null),O=(0,j.useRef)(null),[q,Z]=(0,j.useState)(null);(0,j.useEffect)(()=>{console.log("selectedElement",q);},[q]);let X=e=>{let a=new FileReader;return a.onload=e=>{var a;let i=null===(a=e.target)||void 0===a?void 0:a.result;if(!i.includes("<svg")){E.default.error("Invalid SVG file");return;}let n=i.trim(),s="";l(s=t.trim()?`${t.trim()}

<!-- New SVG appended -->
${n}`:n),r(s),et(s),y({before:new Blob([s]).size}),E.default.success(t?"Appended new SVG!":"SVG loaded!");},a.readAsText(e),!1;},J=(e,t)=>{F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{e&&t&&ea(e,t);},500);},et=e=>{let t=e.match(/width="([^"]+)"/),l=e.match(/height="([^"]+)"/);$({width:t?t[1]:"",height:l?l[1]:""});},ea=(e,a)=>{if(!t.trim()){E.default.warning("No SVG loaded.");return;}if(!e||!a){E.default.warning("Please enter both width and height.");return;}let i=t;l(i=(i=i.includes("width=")?i.replace(/width="[^"]*"/,`width="${e}"`):i.replace("<svg",`<svg width="${e}"`)).includes("height=")?i.replace(/height="[^"]*"/,`height="${a}"`):i.replace("<svg",`<svg height="${a}"`)),r(i),E.default.success(`SVG resized to ${e} \xd7 ${a}`);},eo=(e,t,l)=>{let a=new Blob([e],{type:l}),r=document.createElement("a");r.href=URL.createObjectURL(a),r.download=t,r.click(),URL.revokeObjectURL(r.href);},ed=e=>{let t=(e=(e=e.replace(/>\s+</g,"><").replace(/\r|\n/g,"").trim()).replace(/(>)(<)(\/*)/g,"$1\n$2$3")).split("\n"),l=0,a=[];return t.forEach(e=>{e.match(/^<\/\w/)&&l--;let t="  ".repeat(l),r=t+e.trim();r.match(/^<\w.*\s+\w+=/)&&(r=r.replace(/(\s+\w+=)/g,"\n"+t+"  $1")),a.push(r),e.match(/^<\w[^>]*[^/]>$/)&&l++;}),a.join("\n").trim();},ec=()=>`data:image/svg+xml;utf8,${encodeURIComponent(t)}`,eu=()=>`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(t)))}`,ef=async e=>new Promise((t,l)=>{let a=new Image;a.onload=()=>{let r=document.createElement("canvas");r.width=a.width,r.height=a.height;let i=r.getContext("2d");if(!i)return l("Canvas context not found");i.drawImage(a,0,0),t(r.toDataURL(e));},a.onerror=l,a.src=ec();}),eh=async()=>{try{let e=await ef("image/png"),t=document.createElement("a");t.href=e,t.download="image.png",t.click();}catch{E.default.error("Failed to convert to PNG.");}},ep=async()=>{try{let e=await ef("image/x-icon"),t=document.createElement("a");t.href=e,t.download="favicon.ico",t.click();}catch{E.default.error("Failed to convert to ICO.");}};return(0,i.jsxs)("div",{onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),W.current++,V(!0);},onDragOver:e=>{e.preventDefault(),e.stopPropagation();},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),W.current--,W.current<=0&&(W.current=0,V(!1));},onDrop:e=>{e.preventDefault(),e.stopPropagation(),V(!1),W.current=0;let t=e.dataTransfer.files;t.length>0&&X(t[0]);},style:{position:"relative",minHeight:"100vh"},children:[(0,i.jsxs)(D.default,{title:"\u{1F9E9} SVG Viewer",variant:"borderless",className:en.container,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(el.default.Title,{level:4,children:"\u{1F4D8} About SVG Viewer"}),(0,i.jsxs)(el.default.Paragraph,{children:["This tool allows you to ",(0,i.jsx)(es,{strong:!0,children:"upload"}),", ",(0,i.jsx)(es,{strong:!0,children:"edit"}),", and",(0,i.jsx)(es,{strong:!0,children:" preview SVG files"}),". You can optimize, prettify, resize, flip, and export SVGs as SVG, PNG, ICO, Data URI, or Base64 formats."]})]}),(0,i.jsx)("div",{className:en.content,children:(0,i.jsxs)(Q.default,{layout:L?"vertical":"horizontal",style:L?{height:1600}:{},children:[(0,i.jsx)(Q.default.Panel,{defaultSize:"50%",min:"20%",max:"70%",style:{padding:"0px 10px"},children:(0,i.jsxs)("div",{className:en.editorSection,children:[(0,i.jsxs)(K.default,{className:en.topActions,style:{marginTop:12,marginBottom:8},wrap:!0,children:[(0,i.jsx)(er.default,{beforeUpload:X,showUploadList:!1,accept:".svg",children:(0,i.jsx)(M.default,{icon:(0,i.jsx)(T.default,{}),children:"Upload SVG"})}),(0,i.jsx)(M.default,{onClick:()=>{if(!t.trim()){E.default.warning("No SVG code to prettify.");return;}try{let e=ed(t);l(e),r(e),et(e),E.default.success("SVG prettified!");}catch(e){console.error(e),E.default.error("Failed to prettify SVG.");}},icon:(0,i.jsx)(k,{}),children:"Prettify"}),(0,i.jsx)(M.default,{onClick:()=>{if(!t.trim()){E.default.warning("No SVG code to optimize.");return;}try{let e=new Blob([t]).size,a=(0,ei.optimize)(t,{multipass:!0}).data;a=a.replace(/\n+/g,"").replace(/\r+/g,"").replace(/\t+/g,"").replace(/\s{2,}/g," ").replace(/> </g,"><").trim();let i=new Blob([a]).size;l(a),r(a),y({before:e,after:i});let n=((e-i)/e*100).toFixed(1);E.default.success(`SVG optimized! Reduced by ${n}%`);}catch(e){console.error(e),E.default.error("Failed to optimize SVG.");}},icon:(0,i.jsx)(c.default,{}),children:"Optimize"})]}),w&&(0,i.jsxs)(es,{type:"secondary",className:"mb-2 block",children:["Size: ",(0,i.jsxs)("b",{children:[(w.before/1024).toFixed(2)," KB"]}),w.after&&(0,i.jsxs)(i.Fragment,{children:[" ","\u2192 ",(0,i.jsxs)("b",{children:[(w.after/1024).toFixed(2)," KB"]})," (",((w.before-w.after)/w.before*100).toFixed(1),"% smaller)"]})]}),(0,i.jsx)("div",{className:en.editorBox,children:(0,i.jsx)(U.Editor,{height:"100%",defaultLanguage:"xml",value:t,onChange:e=>{let t=e||"";l(t),r(t),et(t);},onMount:e=>{O.current=e;let t=null,l=null;e.onDidChangeCursorPosition(()=>{let a=e.getValue(),r=e.getPosition();if(!r)return;let i=e.getModel();if(!i)return;let n=i.getOffsetAt(r),s=a.lastIndexOf("<",n),o=a.indexOf(">",n);if(-1===s||-1===o)return;let d=a.slice(s,o+1).match(/<([a-zA-Z][\w:-]*)\b([^>]*)>/i);if(!d)return;let c=d[1].toLowerCase(),u=d[2]||"";if(c===t&&l)return;t=c;let f=A.current;if(!f)return;let h=f.querySelector("svg");if(!h)return;let p=h.querySelectorAll(c);if(!p.length)return;let g=null,m=u.replace(/\s*\/?\s*>?\s*$/,"").trim();(g=Array.from(p).find(e=>e.outerHTML.replace(/\s+/g," ").includes(m)))||(g=p[0]),l&&l!==g&&(l.style.stroke="",l.style.strokeWidth=""),g.style.stroke="#1890ff",g.style.strokeWidth="5",l=g,Z(g);});let a=A.current;a&&a.addEventListener("click",e=>{let r=e.target,i=a.querySelector("svg");if(!i||!i.contains(r))return;let n=r.tagName.toLowerCase();["path","rect","circle","polygon"].includes(n)&&(l&&l!==r&&(l.style.stroke="",l.style.strokeWidth=""),r.style.stroke="#1890ff",r.style.strokeWidth="2",l=r,Z(r),t=n);}),document.addEventListener("click",e=>{let a=A.current;if(!a)return;let r=a.querySelector("svg");r&&!r.contains(e.target)&&(l&&(l.style.stroke="",l.style.strokeWidth="",l=null),Z(null),t=null);});},theme:e?"vs-dark":"light",options:{minimap:{enabled:!1},wordWrap:"on",fontSize:14,lineNumbersMinChars:2,lineDecorationsWidth:0,lineNumbers:"on"}})}),(0,i.jsxs)(K.default,{className:en.actions,wrap:!0,children:[(0,i.jsx)(M.default,{type:"primary",onClick:()=>(0,n.handleCopy)(t,"Copied SVG code to clipboard!"),icon:(0,i.jsx)(f.default,{}),children:"Copy"}),(0,i.jsx)(M.default,{danger:!0,onClick:()=>{l(""),r(""),y(null),$({width:"",height:""});},icon:(0,i.jsx)(p.default,{}),children:"Clear"})]}),(0,i.jsxs)(K.default,{style:{float:"right",marginTop:16},children:[(0,i.jsx)(es,{strong:!0,children:"Resize:"}),(0,i.jsx)(I.default,{size:"small",prefix:(0,i.jsx)(c.default,{}),placeholder:"W",style:{width:90},value:N.width,onChange:e=>{let t=e.target.value;$(e=>({...e,width:t})),t&&N.height&&J(t,N.height);}}),"x",(0,i.jsx)(I.default,{size:"small",prefix:(0,i.jsx)(c.default,{}),placeholder:"H",style:{width:90},value:N.height,onChange:e=>{let t=e.target.value;$(e=>({...e,height:t})),t&&N.width&&J(N.width,t);}}),(0,i.jsx)(ee.default,{title:"Flip H",children:(0,i.jsx)(M.default,{onClick:()=>{if(!t.trim()){E.default.warning("No SVG loaded.");return;}let e=t;l(e=e.replace(/<svg([^>]*)>/,(e,t)=>t.includes("transform=")?`<svg${t.replace(/transform="([^"]*)"/,'transform="scale(-1,1) $1"')}>`:`<svg${t} transform="scale(-1,1)">`)),r(e),E.default.success("Flipped horizontally!");},icon:(0,i.jsx)(_.default,{})})}),(0,i.jsx)(ee.default,{title:"Flip V",children:(0,i.jsx)(M.default,{onClick:()=>{if(!t.trim()){E.default.warning("No SVG loaded.");return;}let e=t;l(e=e.replace(/<svg([^>]*)>/,(e,t)=>t.includes("transform=")?`<svg${t.replace(/transform="([^"]*)"/,'transform="scale(1,-1) $1"')}>`:`<svg${t} transform="scale(1,-1)">`)),r(e),E.default.success("Flipped vertically!");},icon:(0,i.jsx)(_.default,{style:{transform:"rotate(90deg)"}})})})]})]})}),(0,i.jsx)(Q.default.Panel,{style:{padding:"0px 10px"},children:(0,i.jsxs)("div",{className:en.previewWrapper,children:[(0,i.jsx)(Y.default,{activeKey:b,onChange:e=>S(e),items:[{key:"svg",label:"SVG",children:(0,i.jsx)("div",{className:`${en.previewSection} ${en[x]}`,children:(0,i.jsx)("div",{ref:A,style:{transform:`scale(${R})`,transformOrigin:"top left",maxWidth:"100%",maxHeight:"100%",display:"inline-block"},dangerouslySetInnerHTML:{__html:a.split("<!-- New SVG appended -->").map((e,t)=>`<div>${e}</div>`).join("")}})})},{key:"png",label:"PNG",children:(0,i.jsx)("div",{className:`${en.previewSection} ${en[x]}`,children:(0,i.jsx)("img",{src:ec(),alt:"PNG preview",style:{maxWidth:"100%"}})})},{key:"ico",label:"ICO",children:(0,i.jsx)("div",{className:`${en.previewSection} ${en[x]}`,children:(0,i.jsx)("img",{src:ec(),alt:"ICO preview",style:{maxWidth:"100%"}})})},{key:"datauri",label:"Data URI",children:(0,i.jsx)("pre",{className:en.previewCodeBox,children:ec()})},{key:"base64",label:"Base64",children:(0,i.jsx)("pre",{className:en.previewCodeBox,children:eu()})}]}),(0,i.jsx)("div",{className:en.previewFooter,children:(0,i.jsxs)(K.default,{children:[(0,i.jsx)(H.default,{options:[{label:"Transparent",value:"transparent"},{label:"White",value:"white"},{label:"Grey",value:"grey"},{label:"Black",value:"black"}],value:x,onChange:e=>v(e)}),(0,i.jsx)(ee.default,{title:"Zoom Out",children:(0,i.jsx)(M.default,{icon:(0,i.jsx)(G,{}),onClick:()=>B(e=>Math.max(e-.1,.2))})}),(0,i.jsx)(ee.default,{title:"Zoom In",children:(0,i.jsx)(M.default,{icon:(0,i.jsx)(z,{}),onClick:()=>B(e=>Math.min(e+.1,3))})}),(0,i.jsx)(ee.default,{title:"Reset Zoom",children:(0,i.jsx)(M.default,{icon:(0,i.jsx)(P.default,{}),onClick:()=>B(1)})}),(0,i.jsxs)(es,{type:"secondary",children:[Math.round(100*R),"%"]})]})}),(0,i.jsxs)("div",{className:en.previewActions,children:[["svg","png","ico"].includes(b)&&(0,i.jsxs)(M.default,{type:"primary",icon:(0,i.jsx)(m.default,{}),onClick:"svg"===b?()=>eo(t,"image.svg","image/svg+xml"):"png"===b?eh:ep,children:["Download ",b.toUpperCase()]}),["datauri","base64"].includes(b)&&(0,i.jsxs)(M.default,{icon:(0,i.jsx)(f.default,{}),onClick:()=>(0,n.handleCopy)("datauri"===b?ec():eu(),`Copied ${b.toUpperCase()} to clipboard!`),children:["Copy ",b.toUpperCase()]})]})]})})]})}),(0,i.jsxs)("div",{className:en["svg-viewer-guide"],children:[(0,i.jsx)(el.default.Title,{level:5,children:"\u{1F9ED} How to Use"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:"Upload an SVG file via drag-and-drop or the upload button."}),(0,i.jsx)("li",{children:"Edit SVG code directly in the editor."}),(0,i.jsx)("li",{children:"Resize SVG using width/height inputs."}),(0,i.jsx)("li",{children:"Flip horizontally or vertically using the buttons."}),(0,i.jsx)("li",{children:"Prettify or optimize SVG with the respective buttons."}),(0,i.jsx)("li",{children:"Preview your SVG in different formats using the tabs."}),(0,i.jsx)("li",{children:"Download or copy the SVG, PNG, ICO, Data URI, or Base64 output."})]}),(0,i.jsx)(el.default.Paragraph,{type:"secondary",children:"\u26A0\uFE0F Always check optimized SVGs to ensure no critical elements are removed."})]})]}),C&&(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.1)",border:"2px dashed #1890ff",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",zIndex:1e3},children:[(0,i.jsx)(T.default,{style:{fontSize:48,color:"#1890ff"}}),(0,i.jsx)("p",{style:{fontSize:18,marginTop:8},children:"Drop your SVG file here to upload"})]})]});};}}]);
//# sourceMappingURL=42fa4e67-async.6c0dbf84.js.map