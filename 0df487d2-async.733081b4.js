(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["0df487d2"],{c7dc93e1:function(e,t,a){a.d(t,"__esModule",{value:!0}),a.e(t,{default:function(){return Y;}});var l=a("777fffbe"),r=a("852bbaa9"),i=a("95bd365d"),d=a("434db6d0"),n=a("2ac36d38"),s=l._(n),c=a("314fd1a3"),o=r._(c),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},u=a("8fb0e3f9"),h=l._(u),g=o.forwardRef(function(e,t){return o.createElement(h.default,(0,s.default)((0,s.default)({},e),{},{ref:t,icon:f}));}),p=a("4f4539af"),x=l._(p),j=a("30963339"),m=l._(j),v=a("1d2482ba"),b=l._(v),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 472a40 40 0 1080 0 40 40 0 10-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 01-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"}}]},name:"experiment",theme:"outlined"},w=o.forwardRef(function(e,t){return o.createElement(h.default,(0,s.default)((0,s.default)({},e),{},{ref:t,icon:y}));}),A=a("d8d15d11"),C=l._(A),k=a("5f92d263"),I=l._(k),_=a("0ec3d373"),D=l._(_),R=a("bb4b9fac"),S=l._(R),z=a("a9a67fa4"),L=l._(z),M=a("4f331305"),U=l._(M),T=a("5a83e636"),E=l._(T),V=a("0c5bfc2e"),B=l._(V),H=a("cb204712"),O=l._(H),$=a("522a0302"),P=l._($),N=a("e0fc3175"),W=l._(N),F=a("0ed998a9"),G=l._(F),q=a("8cfd10fc"),J=a("27501cdb"),K=l._(J);let{Text:Q}=P.default,X={classic:"@%#*+=-:. ",blocks:"\u2588\u2593\u2592\u2591 ",dots:"\u283F\u283E\u2837\u2836\u2826\u2824\u2812\u2802 ",punctuation:"@#$%&*?!;:,. ",emoji:"\u{1F600}\u{1F604}\u{1F606}\u{1F605}\u{1F602}\u{1F923}\u{1F60A}\u{1F642}\u{1F609}\u{1F60B}\u{1F60E}\u{1F929}\u{1F60D}\u{1F970}\u{1F618}\u{1F617}\u{1F619}\u{1F61A}"},Y=()=>{let[e,t]=(0,o.useState)([]),[a,l]=(0,o.useState)(100),[r,n]=(0,o.useState)("classic"),[s,c]=(0,o.useState)(!1),[,f]=(0,o.useState)(!1),u=(0,o.useRef)(0),h=(0,o.useRef)(null),[p,j]=(0,o.useState)("dark"),v=(0,o.useRef)(null);(0,o.useEffect)(()=>{e.length>0&&R();},[p,r]);let y=()=>{var e;null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"});},A=e=>{let a=[];return e.forEach(l=>{let r=new FileReader;r.onload=r=>{var i;a.push({file:l,preview:null===(i=r.target)||void 0===i?void 0:i.result}),a.length===e.length&&(t(e=>[...e,...a]),setTimeout(y,100));},r.readAsDataURL(l);}),c(!1),u.current=0,!1;},k=e=>{let t;let l=h.current,i=l.getContext("2d"),d=e.height/e.width,n=Math.max(1,Math.round(a)),s=Math.round(n*d*.5);l.width=n,l.height=s,i.drawImage(e,0,0,n,s);try{t=i.getImageData(0,0,n,s).data;}catch(e){return console.error("Canvas getImageData failed",e),"";}let c=X[r],o="";for(let e=0;e<s;e++){for(let a=0;a<n;a++){let l=(e*n+a)*4,r=(t[l]+t[l+1]+t[l+2])/3/255,i=Math.floor(("dark"===p?1-r:r)*(c.length-1));o+=c[i];}o+="\n";}return o;},_=a=>{let l=new Image;l.onload=()=>{let e=k(l);t(t=>{let l=[...t];return l[a].asciiArt=e,l;}),f(!1);},l.src=e[a].preview;},R=()=>{f(!0),t(e.map(e=>{let t=new Image;return t.src=e.preview,{...e,asciiArt:k(t)};})),f(!1),G.default.success("All images converted to ASCII!");},z=e=>{t(t=>t.filter((t,a)=>a!==e));},M=(e,t)=>{let a=new Blob([e],{type:"text/plain"}),l=URL.createObjectURL(a),r=document.createElement("a");r.href=l,r.download=t,r.click(),URL.revokeObjectURL(l);},T=async()=>{if(!e.length)return;let t=new K.default;e.forEach((e,a)=>{e.asciiArt&&t.file(`text-art-${a+1}.txt`,e.asciiArt);});let a=await t.generateAsync({type:"blob"});(0,q.saveAs)(a,"ascii-art-files.zip");};return(0,i.jsx)("div",{className:"text-art-page",onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),u.current++,c(!0);},onDragOver:e=>{e.preventDefault(),e.stopPropagation();},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),u.current--,u.current<=0&&(u.current=0,c(!1));},onDrop:e=>{e.preventDefault(),e.stopPropagation(),c(!1),u.current=0;let t=Array.from(e.dataTransfer.files);t.length>0&&A(t);},children:(0,i.jsx)(S.default,{title:"\u{1F5BC}\uFE0F Multi Image \u2192 ASCII Text Art Generator",variant:"borderless",children:(0,i.jsxs)(E.default,{direction:"vertical",style:{width:"100%"},size:"large",children:[s&&(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999,background:"rgba(0,0,0,0.1)",border:"2px dashed #1890ff",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:20},children:[(0,i.jsx)(I.default,{style:{fontSize:48,color:"#000"}}),(0,i.jsx)("p",{style:{fontSize:18,marginTop:8},children:"Drop files here to upload"})]}),(0,i.jsx)(W.default,{beforeUpload:e=>(A([e]),!1),multiple:!0,showUploadList:!1,accept:".png,.jpg,.jpeg,.gif",children:(0,i.jsx)(D.default,{icon:(0,i.jsx)(I.default,{}),children:"Upload Images"})}),(0,i.jsxs)(E.default,{wrap:!0,children:[(0,i.jsx)(L.default,{min:40,max:500,value:a,onChange:e=>l(e||100),addonBefore:"Width"}),(0,i.jsx)(U.default,{value:r,onChange:n,children:Object.keys(X).map(e=>(0,i.jsx)(U.default.Option,{value:e,children:e},e))}),"|",(0,i.jsxs)(E.default,{children:[(0,i.jsx)(O.default,{title:`Current mode: ${"dark"===p?"Dark":"Light"}`,children:(0,i.jsx)(B.default,{checked:"dark"===p,onChange:e=>j(e?"dark":"light")})}),"dark"===p?(0,i.jsx)(C.default,{style:{color:"dark"===p?"#1890ff":"#888"}}):(0,i.jsx)(g,{style:{color:"light"===p?"#ffc107":"#888"}})]})]}),e.length>0&&(0,i.jsxs)(E.default,{wrap:!0,children:[(0,i.jsx)(D.default,{type:"primary",icon:(0,i.jsx)(w,{}),onClick:R,children:"Convert All"}),(0,i.jsx)(D.default,{icon:(0,i.jsx)(b.default,{}),onClick:T,disabled:!e.some(e=>e.asciiArt),children:"Download All"}),(0,i.jsx)(D.default,{danger:!0,icon:(0,i.jsx)(m.default,{}),onClick:()=>{t([]),G.default.info("All images cleared.");},children:"Remove All"})]}),e.map((e,t)=>(0,i.jsx)(S.default,{size:"small",style:{marginBottom:12},children:(0,i.jsxs)(E.default,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,i.jsx)("img",{src:e.preview,alt:"preview",style:{maxWidth:100,maxHeight:100,borderRadius:6,border:"1px solid #eee"}}),(0,i.jsxs)(E.default,{wrap:!0,children:[(0,i.jsx)(O.default,{title:"Convert this image to ASCII art",children:(0,i.jsx)(D.default,{icon:(0,i.jsx)(w,{}),onClick:()=>_(t)})}),(0,i.jsx)(O.default,{title:"Copy ASCII art to clipboard",children:(0,i.jsx)(D.default,{icon:(0,i.jsx)(x.default,{}),onClick:()=>e.asciiArt&&(0,d.handleCopy)(e.asciiArt,"Copied!"),disabled:!e.asciiArt})}),(0,i.jsx)(O.default,{title:"Download ASCII art as text file",children:(0,i.jsx)(D.default,{icon:(0,i.jsx)(b.default,{}),onClick:()=>e.asciiArt&&M(e.asciiArt,`text-art-${t+1}.txt`),disabled:!e.asciiArt})}),(0,i.jsx)(O.default,{title:"Remove this image",children:(0,i.jsx)(D.default,{danger:!0,icon:(0,i.jsx)(m.default,{}),onClick:()=>z(t)})})]})]}),e.asciiArt&&(0,i.jsx)("pre",{className:`ascii-output ${p}`,children:(0,i.jsx)("code",{children:e.asciiArt})})]})},t)),(0,i.jsx)("div",{ref:v}),(0,i.jsx)("canvas",{ref:h,style:{display:"none"}}),!e.length&&(0,i.jsx)(Q,{type:"secondary",children:"Upload images to generate ASCII art."})]})})});};}}]);
//# sourceMappingURL=0df487d2-async.733081b4.js.map