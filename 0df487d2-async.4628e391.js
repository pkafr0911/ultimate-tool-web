(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["0df487d2"],{"0271f6f8":function(e,t,a){a.d(t,"__esModule",{value:!0}),a.e(t,{default:function(){return ea;}});var l=a("777fffbe"),d=a("852bbaa9"),i=a("1a7c85b4"),r=a("47ffc2fb"),s=a("d2d0b3b6"),c=l._(s),n=a("d322be42"),o=d._(n),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M632 888H392c-4.4 0-8 3.6-8 8v32c0 17.7 14.3 32 32 32h192c17.7 0 32-14.3 32-32v-32c0-4.4-3.6-8-8-8zM512 64c-181.1 0-328 146.9-328 328 0 121.4 66 227.4 164 284.1V792c0 17.7 14.3 32 32 32h264c17.7 0 32-14.3 32-32V676.1c98-56.7 164-162.7 164-284.1 0-181.1-146.9-328-328-328zm127.9 549.8L604 634.6V752H420V634.6l-35.9-20.8C305.4 568.3 256 484.5 256 392c0-141.4 114.6-256 256-256s256 114.6 256 256c0 92.5-49.4 176.3-128.1 221.8z"}}]},name:"bulb",theme:"outlined"},u=a("85c4e0d9"),h=l._(u),x=o.forwardRef(function(e,t){return o.createElement(h.default,(0,c.default)((0,c.default)({},e),{},{ref:t,icon:f}));}),g=a("1ee4d6ad"),m=l._(g),j=a("84cd549f"),p=l._(j),b=a("07d5c3d6"),v=l._(b),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 472a40 40 0 1080 0 40 40 0 10-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 01-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"}}]},name:"experiment",theme:"outlined"},A=o.forwardRef(function(e,t){return o.createElement(h.default,(0,c.default)((0,c.default)({},e),{},{ref:t,icon:w}));}),C=a("c4a4ea4b"),_=l._(C),k=a("70bd2056"),y=l._(k),I=a("b2a1469e"),R=l._(I),L=a("e9bcd22d"),S=l._(L),M=a("2aa4d12e"),z=l._(M),U=a("3eb6f542"),D=l._(U),V=a("ea21718c"),E=l._(V),T=a("5d5723f8"),B=l._(T),H=a("d4a32650"),$=l._(H),O=a("6effc0fd"),N=l._(O),W=a("34f06567"),F=l._(W),G=a("c9d8dc0b"),q=l._(G),J=a("18d71451"),K=a("c558adc1"),P=l._(K),Q=a("85d53cee"),X=l._(Q),Y=a("13dfe186"),Z=l._(Y);let{Text:ee}=N.default,et={classic:"@%#*+=-:. ",blocks:"\u2588\u2593\u2592\u2591 ",dots:"\u283F\u283E\u2837\u2836\u2826\u2824\u2812\u2802 ",punctuation:"@#$%&*?!;:,. ",emoji:"\u{1F600}\u{1F604}\u{1F606}\u{1F605}\u{1F602}\u{1F923}\u{1F60A}\u{1F642}\u{1F609}\u{1F60B}\u{1F60E}\u{1F929}\u{1F60D}\u{1F970}\u{1F618}\u{1F617}\u{1F619}\u{1F61A}"},ea=()=>{let[e,t]=(0,o.useState)([]),[a,l]=(0,o.useState)(100),[d,s]=(0,o.useState)("classic"),[c,n]=(0,o.useState)(!1),[,f]=(0,o.useState)(!1),u=(0,o.useRef)(0),h=(0,o.useRef)(null),[g,j]=(0,o.useState)("dark"),b=(0,o.useRef)(null);(0,o.useEffect)(()=>{e.length>0&&L();},[g,d]);let w=()=>{var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"});},C=e=>{let a=[];return e.forEach(l=>{let d=new FileReader;d.onload=d=>{var i;a.push({file:l,preview:null===(i=d.target)||void 0===i?void 0:i.result}),a.length===e.length&&(t(e=>[...e,...a]),setTimeout(w,100));},d.readAsDataURL(l);}),n(!1),u.current=0,!1;},k=e=>{let t;let l=h.current,i=l.getContext("2d"),r=e.height/e.width,s=Math.max(1,Math.round(a)),c=Math.round(s*r*.5);l.width=s,l.height=c,i.drawImage(e,0,0,s,c);try{t=i.getImageData(0,0,s,c).data;}catch(e){return console.error("Canvas getImageData failed",e),"";}let n=et[d],o="";for(let e=0;e<c;e++){for(let a=0;a<s;a++){let l=(e*s+a)*4,d=(t[l]+t[l+1]+t[l+2])/3/255,i=Math.floor(("dark"===g?1-d:d)*(n.length-1));o+=n[i];}o+="\n";}return o;},I=a=>{let l=new Image;l.onload=()=>{let e=k(l);t(t=>{let l=[...t];return l[a].asciiArt=e,l;}),f(!1);},l.src=e[a].preview;},L=()=>{f(!0),t(e.map(e=>{let t=new Image;return t.src=e.preview,{...e,asciiArt:k(t)};})),f(!1),q.default.success("All images converted to ASCII!");},M=e=>{t(t=>t.filter((t,a)=>a!==e));},U=(e,t)=>{let a=new Blob([e],{type:"text/plain"}),l=URL.createObjectURL(a),d=document.createElement("a");d.href=l,d.download=t,d.click(),URL.revokeObjectURL(l);},V=async()=>{if(!e.length)return;let t=new P.default;e.forEach((e,a)=>{e.asciiArt&&t.file(`text-art-${a+1}.txt`,e.asciiArt);});let a=await t.generateAsync({type:"blob"});(0,J.saveAs)(a,"ascii-art-files.zip");};return(0,i.jsx)(Z.default,{className:"text-art-page",setDragging:n,dragCounter:u,handleUpload:C,multiple:!0,children:(0,i.jsx)(S.default,{title:"\u{1F5BC}\uFE0F Multi Image \u2192 ASCII Text Art Generator",variant:"borderless",children:(0,i.jsxs)(E.default,{direction:"vertical",style:{width:"100%"},size:"large",children:[c&&(0,i.jsx)(X.default,{}),(0,i.jsx)(F.default,{beforeUpload:e=>(C([e]),!1),multiple:!0,showUploadList:!1,accept:".png,.jpg,.jpeg,.gif",children:(0,i.jsx)(R.default,{icon:(0,i.jsx)(y.default,{}),children:"Upload Images"})}),(0,i.jsxs)(E.default,{wrap:!0,children:[(0,i.jsx)(z.default,{min:10,max:1e3,value:a,onChange:e=>l(e||100),addonBefore:"Width"}),(0,i.jsx)(D.default,{value:d,onChange:s,children:Object.keys(et).map(e=>(0,i.jsx)(D.default.Option,{value:e,children:e},e))}),"|",(0,i.jsxs)(E.default,{children:[(0,i.jsx)($.default,{title:`Current mode: ${"dark"===g?"Dark":"Light"}`,children:(0,i.jsx)(B.default,{checked:"dark"===g,onChange:e=>j(e?"dark":"light")})}),"dark"===g?(0,i.jsx)(_.default,{style:{color:"dark"===g?"#1890ff":"#888"}}):(0,i.jsx)(x,{style:{color:"light"===g?"#ffc107":"#888"}})]})]}),e.length>0&&(0,i.jsxs)(E.default,{wrap:!0,children:[(0,i.jsx)(R.default,{type:"primary",icon:(0,i.jsx)(A,{}),onClick:L,children:"Convert All"}),(0,i.jsx)(R.default,{icon:(0,i.jsx)(v.default,{}),onClick:V,disabled:!e.some(e=>e.asciiArt),children:"Download All"}),(0,i.jsx)(R.default,{danger:!0,icon:(0,i.jsx)(p.default,{}),onClick:()=>{t([]),q.default.info("All images cleared.");},children:"Remove All"})]}),e.map((e,t)=>(0,i.jsx)(S.default,{size:"small",style:{marginBottom:12},children:(0,i.jsxs)(E.default,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,i.jsx)("img",{src:e.preview,alt:"preview",style:{maxWidth:100,maxHeight:100,borderRadius:6,border:"1px solid #eee"}}),(0,i.jsxs)(E.default,{wrap:!0,children:[(0,i.jsx)($.default,{title:"Convert this image to ASCII art",children:(0,i.jsx)(R.default,{icon:(0,i.jsx)(A,{}),onClick:()=>I(t)})}),(0,i.jsx)($.default,{title:"Copy ASCII art to clipboard",children:(0,i.jsx)(R.default,{icon:(0,i.jsx)(m.default,{}),onClick:()=>e.asciiArt&&(0,r.handleCopy)(e.asciiArt,"Copied!"),disabled:!e.asciiArt})}),(0,i.jsx)($.default,{title:"Download ASCII art as text file",children:(0,i.jsx)(R.default,{icon:(0,i.jsx)(v.default,{}),onClick:()=>e.asciiArt&&U(e.asciiArt,`text-art-${t+1}.txt`),disabled:!e.asciiArt})}),(0,i.jsx)($.default,{title:"Remove this image",children:(0,i.jsx)(R.default,{danger:!0,icon:(0,i.jsx)(p.default,{}),onClick:()=>M(t)})})]})]}),e.asciiArt&&(0,i.jsx)("pre",{className:`ascii-output ${g}`,children:(0,i.jsx)("code",{children:e.asciiArt})})]})},t)),(0,i.jsx)("div",{ref:b}),(0,i.jsx)("canvas",{ref:h,style:{display:"none"}}),!e.length&&(0,i.jsx)(ee,{type:"secondary",children:"Upload images to generate ASCII art."})]})})});};}}]);
//# sourceMappingURL=0df487d2-async.4628e391.js.map