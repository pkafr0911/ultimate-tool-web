{"version":3,"sources":["src/pages/ColorPicker/index.tsx","node_modules/@ctrl/tinycolor/dist/module/readability.js"],"sourcesContent":["import {\r\n  CopyOutlined,\r\n  BgColorsOutlined,\r\n  ExperimentOutlined,\r\n  EyeOutlined,\r\n  AppstoreOutlined,\r\n  FileImageOutlined,\r\n  CloudUploadOutlined,\r\n  DeleteOutlined,\r\n} from '@ant-design/icons';\r\nimport { TinyColor, readability } from '@ctrl/tinycolor';\r\nimport {\r\n  Button,\r\n  Card,\r\n  ColorPicker,\r\n  Divider,\r\n  Input,\r\n  Radio,\r\n  Space,\r\n  Typography,\r\n  message,\r\n  Tabs,\r\n  Row,\r\n  Col,\r\n  Slider,\r\n  Tooltip,\r\n  Tag,\r\n  Upload,\r\n  Image,\r\n} from 'antd';\r\nimport type { Color } from 'antd/es/color-picker';\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport DragDropWrapper from '@/components/DragDropWrapper';\r\nimport DragOverlay from '@/components/DragOverlay';\r\nimport './styles.less';\r\n\r\nconst { Title, Paragraph, Text } = Typography;\r\nconst { Dragger } = Upload;\r\n\r\nconst ColorPickerPage: React.FC = () => {\r\n  // --- State ---\r\n  const [activeTab, setActiveTab] = useState('picker');\r\n\r\n  // Picker & Gradient State\r\n  const [mode, setMode] = useState<'single' | 'gradient'>('single');\r\n  const [color1, setColor1] = useState<Color | string>('#1677ff');\r\n  const [color2, setColor2] = useState<Color | string>('#ff718b');\r\n  const [gradientDeg, setGradientDeg] = useState(90);\r\n\r\n  // Palette State\r\n  const [baseColor, setBaseColor] = useState<Color | string>('#1890ff');\r\n  const [palette, setPalette] = useState<string[]>([]);\r\n\r\n  // Contrast State\r\n  const [fgColor, setFgColor] = useState<Color | string>('#ffffff');\r\n  const [bgColor, setBgColor] = useState<Color | string>('#1677ff');\r\n  const [contrastRatio, setContrastRatio] = useState(0);\r\n\r\n  // Image Picker State\r\n  const [dragging, setDragging] = useState(false);\r\n  const dragCounter = useRef(0);\r\n  const [imageFile, setImageFile] = useState<File | null>(null);\r\n  const [imageUrl, setImageUrl] = useState<string>('');\r\n  const [pickedColor, setPickedColor] = useState<string>('');\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n\r\n  // --- Helpers ---\r\n  const toTiny = (value: Color | string) =>\r\n    new TinyColor(typeof value === 'string' ? value : value.toHexString());\r\n\r\n  const handleCopy = (text: string) => {\r\n    navigator.clipboard.writeText(text);\r\n    message.success('Copied!');\r\n  };\r\n\r\n  // --- Effects ---\r\n  useEffect(() => {\r\n    generatePalette();\r\n  }, [baseColor]);\r\n\r\n  useEffect(() => {\r\n    calculateContrast();\r\n  }, [fgColor, bgColor]);\r\n\r\n  useEffect(() => {\r\n    if (imageUrl && canvasRef.current) {\r\n      const canvas = canvasRef.current;\r\n      const ctx = canvas.getContext('2d');\r\n      const img = new window.Image();\r\n      img.crossOrigin = 'Anonymous';\r\n      img.src = imageUrl;\r\n      img.onload = () => {\r\n        canvas.width = img.width;\r\n        canvas.height = img.height;\r\n        ctx?.drawImage(img, 0, 0);\r\n      };\r\n    }\r\n  }, [imageUrl]);\r\n\r\n  // --- Logic ---\r\n\r\n  const generatePalette = () => {\r\n    const tiny = toTiny(baseColor);\r\n    const colors: string[] = [];\r\n    // Monochromatic palette generation\r\n    for (let i = 10; i <= 90; i += 10) {\r\n      colors.push(tiny.lighten(i).toHexString());\r\n    }\r\n    colors.push(tiny.toHexString());\r\n    for (let i = 10; i <= 90; i += 10) {\r\n      colors.push(tiny.darken(i).toHexString());\r\n    }\r\n    // Remove duplicates and sort by lightness\r\n    const unique = [...new Set(colors)].sort(\r\n      (a, b) => toTiny(b).getBrightness() - toTiny(a).getBrightness(),\r\n    );\r\n    setPalette(unique.slice(0, 10)); // Keep top 10\r\n  };\r\n\r\n  const calculateContrast = () => {\r\n    const c1 = toTiny(fgColor);\r\n    const c2 = toTiny(bgColor);\r\n    setContrastRatio(readability(c1, c2));\r\n  };\r\n\r\n  const getContrastRating = (ratio: number) => {\r\n    if (ratio >= 7) return { label: 'AAA (Excellent)', color: 'success' };\r\n    if (ratio >= 4.5) return { label: 'AA (Good)', color: 'processing' };\r\n    if (ratio >= 3) return { label: 'AA Large (Fair)', color: 'warning' };\r\n    return { label: 'Fail', color: 'error' };\r\n  };\r\n\r\n  const handleUpload = (file: File) => {\r\n    setImageFile(file);\r\n    const url = URL.createObjectURL(file);\r\n    setImageUrl(url);\r\n    setPickedColor('');\r\n    return false;\r\n  };\r\n\r\n  const handleImageClick = (e: React.MouseEvent<HTMLCanvasElement>) => {\r\n    if (!canvasRef.current) return;\r\n    const canvas = canvasRef.current;\r\n    const rect = canvas.getBoundingClientRect();\r\n    const scaleX = canvas.width / rect.width;\r\n    const scaleY = canvas.height / rect.height;\r\n    const x = (e.clientX - rect.left) * scaleX;\r\n    const y = (e.clientY - rect.top) * scaleY;\r\n\r\n    const ctx = canvas.getContext('2d');\r\n    if (ctx) {\r\n      const pixel = ctx.getImageData(x, y, 1, 1).data;\r\n      const hex = new TinyColor({ r: pixel[0], g: pixel[1], b: pixel[2] }).toHexString();\r\n      setPickedColor(hex);\r\n    }\r\n  };\r\n\r\n  const handleClearImage = () => {\r\n    setImageFile(null);\r\n    setImageUrl('');\r\n    setPickedColor('');\r\n  };\r\n\r\n  // --- Renderers ---\r\n\r\n  const renderPickerTab = () => {\r\n    const tiny1 = toTiny(color1);\r\n    const tiny2 = toTiny(color2);\r\n    const hex1 = tiny1.toHexString();\r\n    const hex2 = tiny2.toHexString();\r\n    const gradient = `linear-gradient(${gradientDeg}deg, ${hex1}, ${hex2})`;\r\n\r\n    return (\r\n      <div className=\"tab-content\">\r\n        <Radio.Group\r\n          value={mode}\r\n          onChange={(e) => setMode(e.target.value)}\r\n          options={[\r\n            { label: 'Single Color', value: 'single' },\r\n            { label: 'Gradient', value: 'gradient' },\r\n          ]}\r\n          optionType=\"button\"\r\n          buttonStyle=\"solid\"\r\n          style={{ marginBottom: 24 }}\r\n        />\r\n\r\n        {mode === 'single' ? (\r\n          <Row gutter={[32, 32]}>\r\n            <Col xs={24} md={12}>\r\n              <Card title=\"Color Selector\" bordered={false} className=\"inner-card\">\r\n                <div className=\"picker-wrapper\">\r\n                  <ColorPicker value={color1} onChange={setColor1} panelRender={(panel) => panel} />\r\n                </div>\r\n              </Card>\r\n            </Col>\r\n            <Col xs={24} md={12}>\r\n              <Card title=\"Color Values\" bordered={false} className=\"inner-card\">\r\n                <div className=\"preview-box\" style={{ background: hex1 }} />\r\n                <Space direction=\"vertical\" style={{ width: '100%', marginTop: 16 }}>\r\n                  <Input\r\n                    addonBefore=\"HEX\"\r\n                    value={hex1}\r\n                    suffix={<CopyOutlined onClick={() => handleCopy(hex1)} />}\r\n                    readOnly\r\n                  />\r\n                  <Input\r\n                    addonBefore=\"RGB\"\r\n                    value={tiny1.toRgbString()}\r\n                    suffix={<CopyOutlined onClick={() => handleCopy(tiny1.toRgbString())} />}\r\n                    readOnly\r\n                  />\r\n                  <Input\r\n                    addonBefore=\"HSL\"\r\n                    value={tiny1.toHslString()}\r\n                    suffix={<CopyOutlined onClick={() => handleCopy(tiny1.toHslString())} />}\r\n                    readOnly\r\n                  />\r\n                </Space>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        ) : (\r\n          <Row gutter={[32, 32]}>\r\n            <Col xs={24} md={12}>\r\n              <Card title=\"Gradient Controls\" bordered={false} className=\"inner-card\">\r\n                <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\r\n                  <div className=\"gradient-pickers\">\r\n                    <Space>\r\n                      <ColorPicker value={color1} onChange={setColor1} showText />\r\n                      <Text strong>â†’</Text>\r\n                      <ColorPicker value={color2} onChange={setColor2} showText />\r\n                    </Space>\r\n                  </div>\r\n                  <div>\r\n                    <Text>Angle: {gradientDeg}Â°</Text>\r\n                    <Slider min={0} max={360} value={gradientDeg} onChange={setGradientDeg} />\r\n                  </div>\r\n                </Space>\r\n              </Card>\r\n            </Col>\r\n            <Col xs={24} md={12}>\r\n              <Card title=\"Preview & Code\" bordered={false} className=\"inner-card\">\r\n                <div className=\"preview-box\" style={{ background: gradient }} />\r\n                <Input.TextArea\r\n                  value={`background: ${gradient};`}\r\n                  autoSize={{ minRows: 2 }}\r\n                  style={{ marginTop: 16, fontFamily: 'monospace' }}\r\n                  readOnly\r\n                />\r\n                <Button\r\n                  type=\"primary\"\r\n                  icon={<CopyOutlined />}\r\n                  block\r\n                  style={{ marginTop: 8 }}\r\n                  onClick={() => handleCopy(`background: ${gradient};`)}\r\n                >\r\n                  Copy CSS\r\n                </Button>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderPaletteTab = () => (\r\n    <div className=\"tab-content\">\r\n      <Space align=\"center\" style={{ marginBottom: 24 }}>\r\n        <Text strong>Base Color:</Text>\r\n        <ColorPicker value={baseColor} onChange={setBaseColor} showText />\r\n      </Space>\r\n\r\n      <div className=\"palette-grid\">\r\n        {palette.map((color, index) => (\r\n          <div key={index} className=\"palette-item\">\r\n            <div\r\n              className=\"color-swatch\"\r\n              style={{ background: color }}\r\n              onClick={() => handleCopy(color)}\r\n            >\r\n              <span className=\"copy-hint\">Copy</span>\r\n            </div>\r\n            <Text code>{color}</Text>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderContrastTab = () => {\r\n    const rating = getContrastRating(contrastRatio);\r\n    return (\r\n      <div className=\"tab-content\">\r\n        <Row gutter={[32, 32]}>\r\n          <Col xs={24} md={10}>\r\n            <Card title=\"Colors\" bordered={false} className=\"inner-card\">\r\n              <Space direction=\"vertical\" style={{ width: '100%' }} size=\"large\">\r\n                <div>\r\n                  <Text>Text Color</Text>\r\n                  <div style={{ marginTop: 8 }}>\r\n                    <ColorPicker value={fgColor} onChange={setFgColor} showText />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Text>Background Color</Text>\r\n                  <div style={{ marginTop: 8 }}>\r\n                    <ColorPicker value={bgColor} onChange={setBgColor} showText />\r\n                  </div>\r\n                </div>\r\n              </Space>\r\n            </Card>\r\n          </Col>\r\n          <Col xs={24} md={14}>\r\n            <Card title=\"Result\" bordered={false} className=\"inner-card\">\r\n              <div\r\n                className=\"contrast-preview\"\r\n                style={{\r\n                  background: toTiny(bgColor).toHexString(),\r\n                  color: toTiny(fgColor).toHexString(),\r\n                }}\r\n              >\r\n                <Title level={3} style={{ color: 'inherit', margin: 0 }}>\r\n                  Aa\r\n                </Title>\r\n                <Text style={{ color: 'inherit' }}>\r\n                  The quick brown fox jumps over the lazy dog.\r\n                </Text>\r\n              </div>\r\n\r\n              <div className=\"contrast-stats\">\r\n                <div className=\"stat-item\">\r\n                  <Text type=\"secondary\">Contrast Ratio</Text>\r\n                  <div className=\"ratio-value\">{contrastRatio.toFixed(2)}</div>\r\n                </div>\r\n                <div className=\"stat-item\">\r\n                  <Text type=\"secondary\">Rating</Text>\r\n                  <Tag color={rating.color} style={{ fontSize: 16, padding: '4px 12px' }}>\r\n                    {rating.label}\r\n                  </Tag>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderImagePickerTab = () => (\r\n    <div className=\"tab-content\">\r\n      <Row gutter={[32, 32]}>\r\n        <Col xs={24} lg={16}>\r\n          <Card title=\"Image Source\" bordered={false} className=\"inner-card\">\r\n            {!imageUrl ? (\r\n              <Dragger\r\n                accept=\"image/*\"\r\n                showUploadList={false}\r\n                beforeUpload={handleUpload}\r\n                className=\"custom-dragger\"\r\n                style={{ padding: '40px 0' }}\r\n              >\r\n                <p className=\"ant-upload-drag-icon\">\r\n                  <CloudUploadOutlined />\r\n                </p>\r\n                <p className=\"ant-upload-text\">Click or drag image to this area to upload</p>\r\n                <p className=\"ant-upload-hint\">Support for a single upload.</p>\r\n              </Dragger>\r\n            ) : (\r\n              <div\r\n                className=\"image-preview-wrapper\"\r\n                style={{ position: 'relative', overflow: 'hidden', textAlign: 'center' }}\r\n              >\r\n                <canvas\r\n                  ref={canvasRef}\r\n                  onClick={handleImageClick}\r\n                  style={{\r\n                    maxWidth: '100%',\r\n                    cursor: 'crosshair',\r\n                    borderRadius: 8,\r\n                    boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\r\n                  }}\r\n                />\r\n                <div style={{ marginTop: 16 }}>\r\n                  <Button danger icon={<DeleteOutlined />} onClick={handleClearImage}>\r\n                    Remove Image\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} lg={8}>\r\n          <Card title=\"Picked Color\" bordered={false} className=\"inner-card\">\r\n            {pickedColor ? (\r\n              <>\r\n                <div className=\"preview-box\" style={{ background: pickedColor }} />\r\n                <Space direction=\"vertical\" style={{ width: '100%', marginTop: 16 }}>\r\n                  <Input\r\n                    addonBefore=\"HEX\"\r\n                    value={pickedColor}\r\n                    suffix={<CopyOutlined onClick={() => handleCopy(pickedColor)} />}\r\n                    readOnly\r\n                  />\r\n                  <Input\r\n                    addonBefore=\"RGB\"\r\n                    value={toTiny(pickedColor).toRgbString()}\r\n                    suffix={\r\n                      <CopyOutlined onClick={() => handleCopy(toTiny(pickedColor).toRgbString())} />\r\n                    }\r\n                    readOnly\r\n                  />\r\n                  <Input\r\n                    addonBefore=\"HSL\"\r\n                    value={toTiny(pickedColor).toHslString()}\r\n                    suffix={\r\n                      <CopyOutlined onClick={() => handleCopy(toTiny(pickedColor).toHslString())} />\r\n                    }\r\n                    readOnly\r\n                  />\r\n                </Space>\r\n              </>\r\n            ) : (\r\n              <div style={{ textAlign: 'center', padding: '40px 0', color: '#999' }}>\r\n                <BgColorsOutlined style={{ fontSize: 32, marginBottom: 8 }} />\r\n                <p>Click on the image to pick a color</p>\r\n              </div>\r\n            )}\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <DragDropWrapper\r\n      setDragging={setDragging}\r\n      dragCounter={dragCounter}\r\n      handleUpload={handleUpload}\r\n    >\r\n      <div className=\"color-tool-container\">\r\n        <Card\r\n          bordered={false}\r\n          className=\"color-main-card\"\r\n          title={\r\n            <div className=\"header-container\">\r\n              <Title level={3} style={{ margin: 0 }}>\r\n                ðŸŽ¨ Color Studio\r\n              </Title>\r\n              <Text type=\"secondary\">All-in-one color tools for developers & designers</Text>\r\n            </div>\r\n          }\r\n        >\r\n          <Tabs\r\n            activeKey={activeTab}\r\n            onChange={setActiveTab}\r\n            items={[\r\n              {\r\n                key: 'picker',\r\n                label: (\r\n                  <span>\r\n                    <BgColorsOutlined /> Picker & Gradient\r\n                  </span>\r\n                ),\r\n                children: renderPickerTab(),\r\n              },\r\n              {\r\n                key: 'palette',\r\n                label: (\r\n                  <span>\r\n                    <AppstoreOutlined /> Palette Generator\r\n                  </span>\r\n                ),\r\n                children: renderPaletteTab(),\r\n              },\r\n              {\r\n                key: 'contrast',\r\n                label: (\r\n                  <span>\r\n                    <EyeOutlined /> Contrast Checker\r\n                  </span>\r\n                ),\r\n                children: renderContrastTab(),\r\n              },\r\n              {\r\n                key: 'image',\r\n                label: (\r\n                  <span>\r\n                    <FileImageOutlined /> Extract from Image\r\n                  </span>\r\n                ),\r\n                children: renderImagePickerTab(),\r\n              },\r\n            ]}\r\n          />\r\n        </Card>\r\n      </div>\r\n      {dragging && <DragOverlay />}\r\n    </DragDropWrapper>\r\n  );\r\n};\r\n\r\nexport default ColorPickerPage;\r\n","import { TinyColor } from './index.js';\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n/**\n * AKA `contrast`\n *\n * Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\n */\nexport function readability(color1, color2) {\n    var c1 = new TinyColor(color1);\n    var c2 = new TinyColor(color2);\n    return ((Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) /\n        (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05));\n}\n/**\n * Ensure that foreground and background color combinations meet WCAG2 guidelines.\n * The third argument is an object.\n *      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n *      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n * If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n *\n * Example\n * ```ts\n * new TinyColor().isReadable('#000', '#111') => false\n * new TinyColor().isReadable('#000', '#111', { level: 'AA', size: 'large' }) => false\n * ```\n */\nexport function isReadable(color1, color2, wcag2) {\n    var _a, _b;\n    if (wcag2 === void 0) { wcag2 = { level: 'AA', size: 'small' }; }\n    var readabilityLevel = readability(color1, color2);\n    switch (((_a = wcag2.level) !== null && _a !== void 0 ? _a : 'AA') + ((_b = wcag2.size) !== null && _b !== void 0 ? _b : 'small')) {\n        case 'AAsmall':\n        case 'AAAlarge':\n            return readabilityLevel >= 4.5;\n        case 'AAlarge':\n            return readabilityLevel >= 3;\n        case 'AAAsmall':\n            return readabilityLevel >= 7;\n        default:\n            return false;\n    }\n}\n/**\n * Given a base color and a list of possible foreground or background\n * colors for that base, returns the most readable color.\n * Optionally returns Black or White if the most readable color is unreadable.\n *\n * @param baseColor - the base color.\n * @param colorList - array of colors to pick the most readable one from.\n * @param args - and object with extra arguments\n *\n * Example\n * ```ts\n * new TinyColor().mostReadable('#123', ['#124\", \"#125'], { includeFallbackColors: false }).toHexString(); // \"#112255\"\n * new TinyColor().mostReadable('#123', ['#124\", \"#125'],{ includeFallbackColors: true }).toHexString();  // \"#ffffff\"\n * new TinyColor().mostReadable('#a8015a', [\"#faf3f3\"], { includeFallbackColors:true, level: 'AAA', size: 'large' }).toHexString(); // \"#faf3f3\"\n * new TinyColor().mostReadable('#a8015a', [\"#faf3f3\"], { includeFallbackColors:true, level: 'AAA', size: 'small' }).toHexString(); // \"#ffffff\"\n * ```\n */\nexport function mostReadable(baseColor, colorList, args) {\n    if (args === void 0) { args = { includeFallbackColors: false, level: 'AA', size: 'small' }; }\n    var bestColor = null;\n    var bestScore = 0;\n    var includeFallbackColors = args.includeFallbackColors, level = args.level, size = args.size;\n    for (var _i = 0, colorList_1 = colorList; _i < colorList_1.length; _i++) {\n        var color = colorList_1[_i];\n        var score = readability(baseColor, color);\n        if (score > bestScore) {\n            bestScore = score;\n            bestColor = new TinyColor(color);\n        }\n    }\n    if (isReadable(baseColor, bestColor, { level: level, size: size }) || !includeFallbackColors) {\n        return bestColor;\n    }\n    args.includeFallbackColors = false;\n    return mostReadable(baseColor, ['#fff', '#000'], args);\n}\n"],"names":[],"mappings":"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"}