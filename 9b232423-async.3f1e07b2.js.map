{"version":3,"sources":["node_modules/jose/dist/webapi/lib/sign.js","node_modules/jose/dist/webapi/jws/flattened/sign.js","node_modules/jose/dist/webapi/jws/compact/sign.js","node_modules/jose/dist/webapi/lib/epoch.js","node_modules/jose/dist/webapi/lib/secs.js","node_modules/jose/dist/webapi/lib/jwt_claims_set.js","node_modules/jose/dist/webapi/jwt/sign.js","node_modules/jose/dist/webapi/lib/verify.js","node_modules/jose/dist/webapi/lib/validate_algorithms.js","node_modules/jose/dist/webapi/jws/flattened/verify.js","node_modules/jose/dist/webapi/jws/compact/verify.js","node_modules/jose/dist/webapi/jwt/verify.js","node_modules/jose/dist/webapi/lib/asn1.js","node_modules/jose/dist/webapi/key/import.js","node_modules/@ant-design/icons-svg/es/asn/ArrowRightOutlined.js","node_modules/@ant-design/icons/es/icons/ArrowRightOutlined.js","node_modules/@ant-design/icons-svg/es/asn/ArrowLeftOutlined.js","node_modules/@ant-design/icons/es/icons/ArrowLeftOutlined.js","src/pages/JWT/index.tsx","node_modules/jose/dist/webapi/util/decode_protected_header.js","node_modules/jose/dist/webapi/util/decode_jwt.js"],"sourcesContent":["import subtleAlgorithm from './subtle_dsa.js';\nimport checkKeyLength from './check_key_length.js';\nimport getSignKey from './get_sign_verify_key.js';\nexport default async (alg, key, data) => {\n    const cryptoKey = await getSignKey(alg, key, 'sign');\n    checkKeyLength(alg, cryptoKey);\n    const signature = await crypto.subtle.sign(subtleAlgorithm(alg, cryptoKey.algorithm), cryptoKey, data);\n    return new Uint8Array(signature);\n};\n","import { encode as b64u } from '../../util/base64url.js';\nimport sign from '../../lib/sign.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { encoder, decoder, concat } from '../../lib/buffer_utils.js';\nimport checkKeyType from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport normalizeKey from '../../lib/normalize_key.js';\nexport class FlattenedSign {\n    #payload;\n    #protectedHeader;\n    #unprotectedHeader;\n    constructor(payload) {\n        if (!(payload instanceof Uint8Array)) {\n            throw new TypeError('payload must be an instance of Uint8Array');\n        }\n        this.#payload = payload;\n    }\n    setProtectedHeader(protectedHeader) {\n        if (this.#protectedHeader) {\n            throw new TypeError('setProtectedHeader can only be called once');\n        }\n        this.#protectedHeader = protectedHeader;\n        return this;\n    }\n    setUnprotectedHeader(unprotectedHeader) {\n        if (this.#unprotectedHeader) {\n            throw new TypeError('setUnprotectedHeader can only be called once');\n        }\n        this.#unprotectedHeader = unprotectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        if (!this.#protectedHeader && !this.#unprotectedHeader) {\n            throw new JWSInvalid('either setProtectedHeader or setUnprotectedHeader must be called before #sign()');\n        }\n        if (!isDisjoint(this.#protectedHeader, this.#unprotectedHeader)) {\n            throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n        }\n        const joseHeader = {\n            ...this.#protectedHeader,\n            ...this.#unprotectedHeader,\n        };\n        const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, this.#protectedHeader, joseHeader);\n        let b64 = true;\n        if (extensions.has('b64')) {\n            b64 = this.#protectedHeader.b64;\n            if (typeof b64 !== 'boolean') {\n                throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n            }\n        }\n        const { alg } = joseHeader;\n        if (typeof alg !== 'string' || !alg) {\n            throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n        }\n        checkKeyType(alg, key, 'sign');\n        let payload = this.#payload;\n        if (b64) {\n            payload = encoder.encode(b64u(payload));\n        }\n        let protectedHeader;\n        if (this.#protectedHeader) {\n            protectedHeader = encoder.encode(b64u(JSON.stringify(this.#protectedHeader)));\n        }\n        else {\n            protectedHeader = encoder.encode('');\n        }\n        const data = concat(protectedHeader, encoder.encode('.'), payload);\n        const k = await normalizeKey(key, alg);\n        const signature = await sign(alg, k, data);\n        const jws = {\n            signature: b64u(signature),\n            payload: '',\n        };\n        if (b64) {\n            jws.payload = decoder.decode(payload);\n        }\n        if (this.#unprotectedHeader) {\n            jws.header = this.#unprotectedHeader;\n        }\n        if (this.#protectedHeader) {\n            jws.protected = decoder.decode(protectedHeader);\n        }\n        return jws;\n    }\n}\n","import { FlattenedSign } from '../flattened/sign.js';\nexport class CompactSign {\n    #flattened;\n    constructor(payload) {\n        this.#flattened = new FlattenedSign(payload);\n    }\n    setProtectedHeader(protectedHeader) {\n        this.#flattened.setProtectedHeader(protectedHeader);\n        return this;\n    }\n    async sign(key, options) {\n        const jws = await this.#flattened.sign(key, options);\n        if (jws.payload === undefined) {\n            throw new TypeError('use the flattened module for creating JWS with b64: false');\n        }\n        return `${jws.protected}.${jws.payload}.${jws.signature}`;\n    }\n}\n","export default (date) => Math.floor(date.getTime() / 1000);\n","const minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nexport default (str) => {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n};\n","import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { decoder } from './buffer_utils.js';\nimport epoch from './epoch.js';\nimport secs from './secs.js';\nimport isObject from './is_object.js';\nimport { encoder } from './buffer_utils.js';\nfunction validateInput(label, input) {\n    if (!Number.isFinite(input)) {\n        throw new TypeError(`Invalid ${label} input`);\n    }\n    return input;\n}\nconst normalizeTyp = (value) => {\n    if (value.includes('/')) {\n        return value.toLowerCase();\n    }\n    return `application/${value.toLowerCase()}`;\n};\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport function validateClaimsSet(protectedHeader, encodedPayload, options = {}) {\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', payload, 'typ', 'check_failed');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, payload, claim, 'missing');\n        }\n    }\n    if (issuer &&\n        !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', payload, 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', payload, 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', payload, 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', payload, 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', payload, 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', payload, 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', payload, 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', payload, 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', payload, 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', payload, 'iat', 'check_failed');\n        }\n    }\n    return payload;\n}\nexport class JWTClaimsBuilder {\n    #payload;\n    constructor(payload) {\n        if (!isObject(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this.#payload = structuredClone(payload);\n    }\n    data() {\n        return encoder.encode(JSON.stringify(this.#payload));\n    }\n    get iss() {\n        return this.#payload.iss;\n    }\n    set iss(value) {\n        this.#payload.iss = value;\n    }\n    get sub() {\n        return this.#payload.sub;\n    }\n    set sub(value) {\n        this.#payload.sub = value;\n    }\n    get aud() {\n        return this.#payload.aud;\n    }\n    set aud(value) {\n        this.#payload.aud = value;\n    }\n    set jti(value) {\n        this.#payload.jti = value;\n    }\n    set nbf(value) {\n        if (typeof value === 'number') {\n            this.#payload.nbf = validateInput('setNotBefore', value);\n        }\n        else if (value instanceof Date) {\n            this.#payload.nbf = validateInput('setNotBefore', epoch(value));\n        }\n        else {\n            this.#payload.nbf = epoch(new Date()) + secs(value);\n        }\n    }\n    set exp(value) {\n        if (typeof value === 'number') {\n            this.#payload.exp = validateInput('setExpirationTime', value);\n        }\n        else if (value instanceof Date) {\n            this.#payload.exp = validateInput('setExpirationTime', epoch(value));\n        }\n        else {\n            this.#payload.exp = epoch(new Date()) + secs(value);\n        }\n    }\n    set iat(value) {\n        if (typeof value === 'undefined') {\n            this.#payload.iat = epoch(new Date());\n        }\n        else if (value instanceof Date) {\n            this.#payload.iat = validateInput('setIssuedAt', epoch(value));\n        }\n        else if (typeof value === 'string') {\n            this.#payload.iat = validateInput('setIssuedAt', epoch(new Date()) + secs(value));\n        }\n        else {\n            this.#payload.iat = validateInput('setIssuedAt', value);\n        }\n    }\n}\n","import { CompactSign } from '../jws/compact/sign.js';\nimport { JWTInvalid } from '../util/errors.js';\nimport { JWTClaimsBuilder } from '../lib/jwt_claims_set.js';\nexport class SignJWT {\n    #protectedHeader;\n    #jwt;\n    constructor(payload = {}) {\n        this.#jwt = new JWTClaimsBuilder(payload);\n    }\n    setIssuer(issuer) {\n        this.#jwt.iss = issuer;\n        return this;\n    }\n    setSubject(subject) {\n        this.#jwt.sub = subject;\n        return this;\n    }\n    setAudience(audience) {\n        this.#jwt.aud = audience;\n        return this;\n    }\n    setJti(jwtId) {\n        this.#jwt.jti = jwtId;\n        return this;\n    }\n    setNotBefore(input) {\n        this.#jwt.nbf = input;\n        return this;\n    }\n    setExpirationTime(input) {\n        this.#jwt.exp = input;\n        return this;\n    }\n    setIssuedAt(input) {\n        this.#jwt.iat = input;\n        return this;\n    }\n    setProtectedHeader(protectedHeader) {\n        this.#protectedHeader = protectedHeader;\n        return this;\n    }\n    async sign(key, options) {\n        const sig = new CompactSign(this.#jwt.data());\n        sig.setProtectedHeader(this.#protectedHeader);\n        if (Array.isArray(this.#protectedHeader?.crit) &&\n            this.#protectedHeader.crit.includes('b64') &&\n            this.#protectedHeader.b64 === false) {\n            throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n        }\n        return sig.sign(key, options);\n    }\n}\n","import subtleAlgorithm from './subtle_dsa.js';\nimport checkKeyLength from './check_key_length.js';\nimport getVerifyKey from './get_sign_verify_key.js';\nexport default async (alg, key, signature, data) => {\n    const cryptoKey = await getVerifyKey(alg, key, 'verify');\n    checkKeyLength(alg, cryptoKey);\n    const algorithm = subtleAlgorithm(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch {\n        return false;\n    }\n};\n","export default (option, algorithms) => {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n};\n","import { decode as b64u } from '../../util/base64url.js';\nimport verify from '../../lib/verify.js';\nimport { JOSEAlgNotAllowed, JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport { concat, encoder, decoder } from '../../lib/buffer_utils.js';\nimport isDisjoint from '../../lib/is_disjoint.js';\nimport isObject from '../../lib/is_object.js';\nimport checkKeyType from '../../lib/check_key_type.js';\nimport validateCrit from '../../lib/validate_crit.js';\nimport validateAlgorithms from '../../lib/validate_algorithms.js';\nimport normalizeKey from '../../lib/normalize_key.js';\nexport async function flattenedVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !isObject(jws.header)) {\n        throw new JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = b64u(jws.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jws.header)) {\n        throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && validateAlgorithms('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    checkKeyType(alg, key, 'verify');\n    const data = concat(encoder.encode(jws.protected ?? ''), encoder.encode('.'), typeof jws.payload === 'string' ? encoder.encode(jws.payload) : jws.payload);\n    let signature;\n    try {\n        signature = b64u(jws.signature);\n    }\n    catch {\n        throw new JWSInvalid('Failed to base64url decode the signature');\n    }\n    const k = await normalizeKey(key, alg);\n    const verified = await verify(alg, k, signature, data);\n    if (!verified) {\n        throw new JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = b64u(jws.payload);\n        }\n        catch {\n            throw new JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key: k };\n    }\n    return result;\n}\n","import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await flattenedVerify({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n","import { compactVerify } from '../jws/compact/verify.js';\nimport { validateClaimsSet } from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    const verified = await compactVerify(jwt, key, options);\n    if (verified.protectedHeader.crit?.includes('b64') && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = validateClaimsSet(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n","import invalidKeyInput from './invalid_key_input.js';\nimport { encodeBase64, decodeBase64 } from '../lib/base64.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { isCryptoKey, isKeyObject } from './is_key_like.js';\nconst formatPEM = (b64, descriptor) => {\n    const newlined = (b64.match(/.{1,64}/g) || []).join('\\n');\n    return `-----BEGIN ${descriptor}-----\\n${newlined}\\n-----END ${descriptor}-----`;\n};\nconst genericExport = async (keyType, keyFormat, key) => {\n    if (isKeyObject(key)) {\n        if (key.type !== keyType) {\n            throw new TypeError(`key is not a ${keyType} key`);\n        }\n        return key.export({ format: 'pem', type: keyFormat });\n    }\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, 'CryptoKey', 'KeyObject'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('CryptoKey is not extractable');\n    }\n    if (key.type !== keyType) {\n        throw new TypeError(`key is not a ${keyType} key`);\n    }\n    return formatPEM(encodeBase64(new Uint8Array(await crypto.subtle.exportKey(keyFormat, key))), `${keyType.toUpperCase()} KEY`);\n};\nexport const toSPKI = (key) => {\n    return genericExport('public', 'spki', key);\n};\nexport const toPKCS8 = (key) => {\n    return genericExport('private', 'pkcs8', key);\n};\nconst bytesEqual = (a, b) => {\n    if (a.byteLength !== b.length)\n        return false;\n    for (let i = 0; i < a.byteLength; i++) {\n        if (a[i] !== b[i])\n            return false;\n    }\n    return true;\n};\nconst createASN1State = (data) => ({ data, pos: 0 });\nconst parseLength = (state) => {\n    const first = state.data[state.pos++];\n    if (first & 0x80) {\n        const lengthOfLen = first & 0x7f;\n        let length = 0;\n        for (let i = 0; i < lengthOfLen; i++) {\n            length = (length << 8) | state.data[state.pos++];\n        }\n        return length;\n    }\n    return first;\n};\nconst skipElement = (state, count = 1) => {\n    if (count <= 0)\n        return;\n    state.pos++;\n    const length = parseLength(state);\n    state.pos += length;\n    if (count > 1) {\n        skipElement(state, count - 1);\n    }\n};\nconst expectTag = (state, expectedTag, errorMessage) => {\n    if (state.data[state.pos++] !== expectedTag) {\n        throw new Error(errorMessage);\n    }\n};\nconst getSubarray = (state, length) => {\n    const result = state.data.subarray(state.pos, state.pos + length);\n    state.pos += length;\n    return result;\n};\nconst parseAlgorithmOID = (state) => {\n    expectTag(state, 0x06, 'Expected algorithm OID');\n    const oidLen = parseLength(state);\n    return getSubarray(state, oidLen);\n};\nfunction parsePKCS8Header(state) {\n    expectTag(state, 0x30, 'Invalid PKCS#8 structure');\n    parseLength(state);\n    expectTag(state, 0x02, 'Expected version field');\n    const verLen = parseLength(state);\n    state.pos += verLen;\n    expectTag(state, 0x30, 'Expected algorithm identifier');\n    const algIdLen = parseLength(state);\n    const algIdStart = state.pos;\n    return { algIdStart, algIdLength: algIdLen };\n}\nfunction parseSPKIHeader(state) {\n    expectTag(state, 0x30, 'Invalid SPKI structure');\n    parseLength(state);\n    expectTag(state, 0x30, 'Expected algorithm identifier');\n    const algIdLen = parseLength(state);\n    const algIdStart = state.pos;\n    return { algIdStart, algIdLength: algIdLen };\n}\nconst parseECAlgorithmIdentifier = (state) => {\n    const algOid = parseAlgorithmOID(state);\n    if (bytesEqual(algOid, [0x2b, 0x65, 0x6e])) {\n        return 'X25519';\n    }\n    if (!bytesEqual(algOid, [0x2a, 0x86, 0x48, 0xce, 0x3d, 0x02, 0x01])) {\n        throw new Error('Unsupported key algorithm');\n    }\n    expectTag(state, 0x06, 'Expected curve OID');\n    const curveOidLen = parseLength(state);\n    const curveOid = getSubarray(state, curveOidLen);\n    for (const { name, oid } of [\n        { name: 'P-256', oid: [0x2a, 0x86, 0x48, 0xce, 0x3d, 0x03, 0x01, 0x07] },\n        { name: 'P-384', oid: [0x2b, 0x81, 0x04, 0x00, 0x22] },\n        { name: 'P-521', oid: [0x2b, 0x81, 0x04, 0x00, 0x23] },\n    ]) {\n        if (bytesEqual(curveOid, oid)) {\n            return name;\n        }\n    }\n    throw new Error('Unsupported named curve');\n};\nconst genericImport = async (keyFormat, keyData, alg, options) => {\n    let algorithm;\n    let keyUsages;\n    const isPublic = keyFormat === 'spki';\n    const getSigUsages = () => (isPublic ? ['verify'] : ['sign']);\n    const getEncUsages = () => isPublic ? ['encrypt', 'wrapKey'] : ['decrypt', 'unwrapKey'];\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            algorithm = { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = getSigUsages();\n            break;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = getSigUsages();\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            algorithm = {\n                name: 'RSA-OAEP',\n                hash: `SHA-${parseInt(alg.slice(-3), 10) || 1}`,\n            };\n            keyUsages = getEncUsages();\n            break;\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            const curveMap = { ES256: 'P-256', ES384: 'P-384', ES512: 'P-521' };\n            algorithm = { name: 'ECDSA', namedCurve: curveMap[alg] };\n            keyUsages = getSigUsages();\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            try {\n                const namedCurve = options.getNamedCurve(keyData);\n                algorithm = namedCurve === 'X25519' ? { name: 'X25519' } : { name: 'ECDH', namedCurve };\n            }\n            catch (cause) {\n                throw new JOSENotSupported('Invalid or unsupported key format');\n            }\n            keyUsages = isPublic ? [] : ['deriveBits'];\n            break;\n        }\n        case 'Ed25519':\n        case 'EdDSA':\n            algorithm = { name: 'Ed25519' };\n            keyUsages = getSigUsages();\n            break;\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            algorithm = { name: alg };\n            keyUsages = getSigUsages();\n            break;\n        default:\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (Algorithm) value');\n    }\n    return crypto.subtle.importKey(keyFormat, keyData, algorithm, options?.extractable ?? (isPublic ? true : false), keyUsages);\n};\nconst processPEMData = (pem, pattern) => {\n    return decodeBase64(pem.replace(pattern, ''));\n};\nexport const fromPKCS8 = (pem, alg, options) => {\n    const keyData = processPEMData(pem, /(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g);\n    let opts = options;\n    if (alg?.startsWith?.('ECDH-ES')) {\n        opts ||= {};\n        opts.getNamedCurve = (keyData) => {\n            const state = createASN1State(keyData);\n            parsePKCS8Header(state);\n            return parseECAlgorithmIdentifier(state);\n        };\n    }\n    return genericImport('pkcs8', keyData, alg, opts);\n};\nexport const fromSPKI = (pem, alg, options) => {\n    const keyData = processPEMData(pem, /(?:-----(?:BEGIN|END) PUBLIC KEY-----|\\s)/g);\n    let opts = options;\n    if (alg?.startsWith?.('ECDH-ES')) {\n        opts ||= {};\n        opts.getNamedCurve = (keyData) => {\n            const state = createASN1State(keyData);\n            parseSPKIHeader(state);\n            return parseECAlgorithmIdentifier(state);\n        };\n    }\n    return genericImport('spki', keyData, alg, opts);\n};\nfunction spkiFromX509(buf) {\n    const state = createASN1State(buf);\n    expectTag(state, 0x30, 'Invalid certificate structure');\n    parseLength(state);\n    expectTag(state, 0x30, 'Invalid tbsCertificate structure');\n    parseLength(state);\n    if (buf[state.pos] === 0xa0) {\n        skipElement(state, 6);\n    }\n    else {\n        skipElement(state, 5);\n    }\n    const spkiStart = state.pos;\n    expectTag(state, 0x30, 'Invalid SPKI structure');\n    const spkiContentLen = parseLength(state);\n    return buf.subarray(spkiStart, spkiStart + spkiContentLen + (state.pos - spkiStart));\n}\nfunction extractX509SPKI(x509) {\n    const derBytes = processPEMData(x509, /(?:-----(?:BEGIN|END) CERTIFICATE-----|\\s)/g);\n    return spkiFromX509(derBytes);\n}\nexport const fromX509 = (pem, alg, options) => {\n    let spki;\n    try {\n        spki = extractX509SPKI(pem);\n    }\n    catch (cause) {\n        throw new TypeError('Failed to parse the X.509 certificate', { cause });\n    }\n    return fromSPKI(formatPEM(encodeBase64(spki), 'PUBLIC KEY'), alg, options);\n};\n","import { decode as decodeBase64URL } from '../util/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../lib/asn1.js';\nimport toCryptoKey from '../lib/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport isObject from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg, options) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    let ext;\n    alg ??= jwk.alg;\n    ext ??= options?.extractable ?? jwk.ext;\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if ('oth' in jwk && jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n            return toCryptoKey({ ...jwk, alg, ext });\n        case 'AKP': {\n            if (typeof jwk.alg !== 'string' || !jwk.alg) {\n                throw new TypeError('missing \"alg\" (Algorithm) Parameter value');\n            }\n            if (alg !== undefined && alg !== jwk.alg) {\n                throw new TypeError('JWK alg and alg option value mismatch');\n            }\n            return toCryptoKey({ ...jwk, ext });\n        }\n        case 'EC':\n        case 'OKP':\n            return toCryptoKey({ ...jwk, alg, ext });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n","// This icon file is generated automatically.\nvar ArrowRightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z\" } }] }, \"name\": \"arrow-right\", \"theme\": \"outlined\" };\nexport default ArrowRightOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ArrowRightOutlinedSvg from \"@ant-design/icons-svg/es/asn/ArrowRightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ArrowRightOutlined = function ArrowRightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ArrowRightOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(ArrowRightOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ArrowRightOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar ArrowLeftOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"arrow-left\", \"theme\": \"outlined\" };\nexport default ArrowLeftOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ArrowLeftOutlinedSvg from \"@ant-design/icons-svg/es/asn/ArrowLeftOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ArrowLeftOutlined = function ArrowLeftOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ArrowLeftOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(ArrowLeftOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ArrowLeftOutlined';\n}\nexport default RefIcon;","import {\r\n  Button,\r\n  Card,\r\n  Col,\r\n  Divider,\r\n  Input,\r\n  Row,\r\n  Select,\r\n  Space,\r\n  Tabs,\r\n  Typography,\r\n  message,\r\n  Tooltip,\r\n} from 'antd';\r\nimport {\r\n  SignJWT,\r\n  decodeJwt,\r\n  decodeProtectedHeader,\r\n  jwtVerify,\r\n  importPKCS8,\r\n  importSPKI,\r\n} from 'jose';\r\nimport React, { useState, useMemo } from 'react';\r\nimport {\r\n  ArrowRightOutlined,\r\n  ArrowLeftOutlined,\r\n  EyeOutlined,\r\n  CopyOutlined,\r\n  LockOutlined,\r\n  UnlockOutlined,\r\n} from '@ant-design/icons';\r\nimport './styles.less';\r\n\r\nconst { TextArea } = Input;\r\nconst { Title, Text, Paragraph } = Typography;\r\nconst { Option } = Select;\r\n\r\nconst JWTTool: React.FC = () => {\r\n  // --- State ---\r\n  const [algorithm, setAlgorithm] = useState('HS256');\r\n  const [headerStr, setHeaderStr] = useState('{\\n  \"alg\": \"HS256\",\\n  \"typ\": \"JWT\"\\n}');\r\n  const [payloadStr, setPayloadStr] = useState(\r\n    '{\\n  \"sub\": \"1234567890\",\\n  \"name\": \"John Doe\",\\n  \"iat\": 1516239022\\n}',\r\n  );\r\n  const [secret, setSecret] = useState('secret');\r\n  const [privateKey, setPrivateKey] = useState('');\r\n  const [publicKey, setPublicKey] = useState('');\r\n  const [token, setToken] = useState('');\r\n  const [expiration, setExpiration] = useState('2h');\r\n\r\n  const encoder = new TextEncoder();\r\n\r\n  // Determine if algorithm is symmetric (HMAC) or asymmetric (RSA/ECDSA/PS)\r\n  const isSymmetric = useMemo(() => {\r\n    return algorithm.startsWith('HS');\r\n  }, [algorithm]);\r\n\r\n  // --- Helpers ---\r\n  const parseJSON = (text: string, label: string) => {\r\n    try {\r\n      return JSON.parse(text);\r\n    } catch (e) {\r\n      throw new Error(`Invalid JSON in ${label}`);\r\n    }\r\n  };\r\n\r\n  const formatJSON = (obj: any) => JSON.stringify(obj, null, 2);\r\n\r\n  // --- Actions ---\r\n\r\n  const handleEncrypt = async () => {\r\n    try {\r\n      const header = parseJSON(headerStr, 'Header');\r\n      const payload = parseJSON(payloadStr, 'Payload');\r\n\r\n      // Ensure algorithm in header matches selected algorithm\r\n      header.alg = algorithm;\r\n      setHeaderStr(formatJSON(header));\r\n\r\n      let cryptoKey: Uint8Array | CryptoKey;\r\n\r\n      if (isSymmetric) {\r\n        // Use secret for HMAC algorithms\r\n        cryptoKey = encoder.encode(secret);\r\n      } else {\r\n        // Use private key for asymmetric algorithms\r\n        if (!privateKey) {\r\n          message.error('Private key is required for asymmetric algorithms');\r\n          return;\r\n        }\r\n        try {\r\n          cryptoKey = await importPKCS8(privateKey, algorithm);\r\n        } catch (err: any) {\r\n          message.error('Invalid private key format. Expected PKCS8 PEM format.');\r\n          return;\r\n        }\r\n      }\r\n\r\n      let jwtBuilder = new SignJWT(payload).setProtectedHeader(header).setIssuedAt();\r\n\r\n      if (expiration) {\r\n        jwtBuilder = jwtBuilder.setExpirationTime(expiration);\r\n      }\r\n\r\n      const jwt = await jwtBuilder.sign(cryptoKey);\r\n\r\n      setToken(jwt);\r\n      message.success('Token generated successfully!');\r\n    } catch (err: any) {\r\n      message.error(err.message || 'Error generating token');\r\n    }\r\n  };\r\n\r\n  const handleVerify = async () => {\r\n    if (!token) return;\r\n    try {\r\n      let cryptoKey: Uint8Array | CryptoKey;\r\n\r\n      if (isSymmetric) {\r\n        // Use secret for HMAC algorithms\r\n        cryptoKey = encoder.encode(secret);\r\n      } else {\r\n        // Use public key for asymmetric algorithms\r\n        if (!publicKey) {\r\n          message.warning('Public key not provided. Decoding without verification...');\r\n          handleDecodeOnly();\r\n          return;\r\n        }\r\n        try {\r\n          cryptoKey = await importSPKI(publicKey, algorithm);\r\n        } catch (err: any) {\r\n          message.warning('Invalid public key. Decoding without verification...');\r\n          handleDecodeOnly();\r\n          return;\r\n        }\r\n      }\r\n\r\n      const { payload, protectedHeader } = await jwtVerify(token, cryptoKey, {\r\n        algorithms: [algorithm],\r\n      });\r\n\r\n      setHeaderStr(formatJSON(protectedHeader));\r\n      setPayloadStr(formatJSON(payload));\r\n      message.success('Token verified successfully!');\r\n    } catch (err: any) {\r\n      message.warning(`Verification failed: ${err.message}. Decoding without verification...`);\r\n      handleDecodeOnly();\r\n    }\r\n  };\r\n\r\n  const handleDecodeOnly = () => {\r\n    if (!token) return;\r\n    try {\r\n      const header = decodeProtectedHeader(token);\r\n      const payload = decodeJwt(token);\r\n\r\n      setHeaderStr(formatJSON(header));\r\n      setPayloadStr(formatJSON(payload));\r\n\r\n      if (header.alg) {\r\n        setAlgorithm(header.alg);\r\n      }\r\n\r\n      message.info('Token decoded (signature not verified)');\r\n    } catch (err: any) {\r\n      message.error(`Decoding failed: ${err.message}`);\r\n    }\r\n  };\r\n\r\n  // --- Render Helpers ---\r\n\r\n  // Color-coded token visualizer\r\n  const renderTokenVisualizer = () => {\r\n    if (!token) return null;\r\n    const parts = token.split('.');\r\n    if (parts.length !== 3) return <Text type=\"secondary\">Invalid token format</Text>;\r\n\r\n    return (\r\n      <div className=\"token-visualizer\">\r\n        <span className=\"token-part-header\">{parts[0]}</span>\r\n        <span className=\"token-dot\">.</span>\r\n        <span className=\"token-part-payload\">{parts[1]}</span>\r\n        <span className=\"token-dot\">.</span>\r\n        <span className=\"token-part-signature\">{parts[2]}</span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"jwt-container\">\r\n      <Card bordered={false} className=\"jwt-main-card\">\r\n        <div style={{ textAlign: 'center', marginBottom: 24 }}>\r\n          <Title level={2}>üîê JWT Debugger</Title>\r\n          <Paragraph type=\"secondary\">\r\n            Encode and Decode JSON Web Tokens. Verify signatures with secrets.\r\n          </Paragraph>\r\n        </div>\r\n\r\n        <Row gutter={[32, 32]}>\r\n          {/* --- Left Column: Decoded --- */}\r\n          <Col xs={24} lg={12}>\r\n            <Card title=\"Decoded\" className=\"section-card\" bordered={false}>\r\n              {/* Algorithm & Secret */}\r\n              <Space direction=\"vertical\" style={{ width: '100%', marginBottom: 16 }}>\r\n                <Row gutter={16}>\r\n                  <Col span={12}>\r\n                    <Text strong>Algorithm</Text>\r\n                    <Select\r\n                      value={algorithm}\r\n                      onChange={(val) => {\r\n                        setAlgorithm(val);\r\n                        // Update header JSON automatically\r\n                        try {\r\n                          const h = JSON.parse(headerStr);\r\n                          h.alg = val;\r\n                          setHeaderStr(formatJSON(h));\r\n                        } catch {}\r\n                      }}\r\n                      style={{ width: '100%' }}\r\n                    >\r\n                      <Option value=\"HS256\">HS256</Option>\r\n                      <Option value=\"HS384\">HS384</Option>\r\n                      <Option value=\"HS512\">HS512</Option>\r\n                      <Option value=\"RS256\">RS256</Option>\r\n                      <Option value=\"RS384\">RS384</Option>\r\n                      <Option value=\"RS512\">RS512</Option>\r\n                      <Option value=\"ES256\">ES256</Option>\r\n                      <Option value=\"ES384\">ES384</Option>\r\n                      <Option value=\"ES512\">ES512</Option>\r\n                      <Option value=\"PS256\">PS256</Option>\r\n                      <Option value=\"PS384\">PS384</Option>\r\n                      <Option value=\"PS512\">PS512</Option>\r\n                    </Select>\r\n                  </Col>\r\n                  <Col span={12}>\r\n                    <Text strong>Expiration</Text>\r\n                    <Input\r\n                      value={expiration}\r\n                      onChange={(e) => setExpiration(e.target.value)}\r\n                      placeholder=\"e.g. 2h, 10m, 7d\"\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n              </Space>\r\n\r\n              {/* Header & Payload Tabs */}\r\n              <Tabs\r\n                defaultActiveKey=\"payload\"\r\n                items={[\r\n                  {\r\n                    key: 'header',\r\n                    label: 'Header',\r\n                    children: (\r\n                      <div className=\"json-editor-container header-editor\">\r\n                        <TextArea\r\n                          value={headerStr}\r\n                          onChange={(e) => setHeaderStr(e.target.value)}\r\n                          autoSize={{ minRows: 4, maxRows: 8 }}\r\n                          className=\"code-font\"\r\n                        />\r\n                      </div>\r\n                    ),\r\n                  },\r\n                  {\r\n                    key: 'payload',\r\n                    label: 'Payload',\r\n                    children: (\r\n                      <div className=\"json-editor-container payload-editor\">\r\n                        <TextArea\r\n                          value={payloadStr}\r\n                          onChange={(e) => setPayloadStr(e.target.value)}\r\n                          autoSize={{ minRows: 8, maxRows: 16 }}\r\n                          className=\"code-font\"\r\n                        />\r\n                      </div>\r\n                    ),\r\n                  },\r\n                ]}\r\n              />\r\n\r\n              {/* Secret Key */}\r\n              <div style={{ marginTop: 16 }}>\r\n                {isSymmetric ? (\r\n                  <>\r\n                    <Text strong>Secret Key</Text>\r\n                    <Input.Password\r\n                      value={secret}\r\n                      onChange={(e) => setSecret(e.target.value)}\r\n                      placeholder=\"your-256-bit-secret\"\r\n                      iconRender={(visible) => (visible ? <UnlockOutlined /> : <LockOutlined />)}\r\n                    />\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Text strong>Private Key (PKCS8 PEM)</Text>\r\n                    <TextArea\r\n                      value={privateKey}\r\n                      onChange={(e) => setPrivateKey(e.target.value)}\r\n                      placeholder=\"-----BEGIN PRIVATE KEY-----&#10;...&#10;-----END PRIVATE KEY-----\"\r\n                      autoSize={{ minRows: 4, maxRows: 8 }}\r\n                      className=\"code-font\"\r\n                      style={{ marginBottom: 16 }}\r\n                    />\r\n                    <Text strong>Public Key (SPKI PEM) - for verification</Text>\r\n                    <TextArea\r\n                      value={publicKey}\r\n                      onChange={(e) => setPublicKey(e.target.value)}\r\n                      placeholder=\"-----BEGIN PUBLIC KEY-----&#10;...&#10;-----END PUBLIC KEY-----\"\r\n                      autoSize={{ minRows: 4, maxRows: 8 }}\r\n                      className=\"code-font\"\r\n                    />\r\n                  </>\r\n                )}\r\n              </div>\r\n\r\n              {/* Action: Encode */}\r\n              <div style={{ marginTop: 24, textAlign: 'right' }}>\r\n                <Button\r\n                  type=\"primary\"\r\n                  icon={<ArrowRightOutlined />}\r\n                  onClick={handleEncrypt}\r\n                  size=\"large\"\r\n                >\r\n                  Sign / Encode\r\n                </Button>\r\n              </div>\r\n            </Card>\r\n          </Col>\r\n\r\n          {/* --- Right Column: Encoded --- */}\r\n          <Col xs={24} lg={12}>\r\n            <Card title=\"Encoded\" className=\"section-card\" bordered={false}>\r\n              <div className=\"encoded-container\">\r\n                <TextArea\r\n                  value={token}\r\n                  onChange={(e) => setToken(e.target.value)}\r\n                  placeholder=\"Paste a JWT here...\"\r\n                  autoSize={{ minRows: 8, maxRows: 12 }}\r\n                  className=\"code-font token-input\"\r\n                />\r\n\r\n                <Space style={{ marginTop: 16, width: '100%', justifyContent: 'space-between' }}>\r\n                  <Space>\r\n                    <Button icon={<EyeOutlined />} onClick={handleDecodeOnly}>\r\n                      Decode Only\r\n                    </Button>\r\n                    <Tooltip title=\"Copy Token\">\r\n                      <Button\r\n                        icon={<CopyOutlined />}\r\n                        onClick={() => {\r\n                          navigator.clipboard.writeText(token);\r\n                          message.success('Copied!');\r\n                        }}\r\n                      />\r\n                    </Tooltip>\r\n                  </Space>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    icon={<ArrowLeftOutlined />}\r\n                    onClick={handleVerify}\r\n                    size=\"large\"\r\n                  >\r\n                    Verify / Decode\r\n                  </Button>\r\n                </Space>\r\n              </div>\r\n\r\n              <Divider orientation=\"left\">Visualizer</Divider>\r\n              <div className=\"visualizer-container\">{renderTokenVisualizer()}</div>\r\n\r\n              <div className=\"legend\" style={{ marginTop: 16 }}>\r\n                <Space size=\"large\">\r\n                  <Space>\r\n                    <div className=\"dot header-dot\" />\r\n                    <Text type=\"secondary\">Header</Text>\r\n                  </Space>\r\n                  <Space>\r\n                    <div className=\"dot payload-dot\" />\r\n                    <Text type=\"secondary\">Payload</Text>\r\n                  </Space>\r\n                  <Space>\r\n                    <div className=\"dot signature-dot\" />\r\n                    <Text type=\"secondary\">Signature</Text>\r\n                  </Space>\r\n                </Space>\r\n              </div>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JWTTool;\r\n","import { decode as b64u } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nexport function decodeProtectedHeader(token) {\n    let protectedB64u;\n    if (typeof token === 'string') {\n        const parts = token.split('.');\n        if (parts.length === 3 || parts.length === 5) {\n            ;\n            [protectedB64u] = parts;\n        }\n    }\n    else if (typeof token === 'object' && token) {\n        if ('protected' in token) {\n            protectedB64u = token.protected;\n        }\n        else {\n            throw new TypeError('Token does not contain a Protected Header');\n        }\n    }\n    try {\n        if (typeof protectedB64u !== 'string' || !protectedB64u) {\n            throw new Error();\n        }\n        const result = JSON.parse(decoder.decode(b64u(protectedB64u)));\n        if (!isObject(result)) {\n            throw new Error();\n        }\n        return result;\n    }\n    catch {\n        throw new TypeError('Invalid Token or Protected Header formatting');\n    }\n}\n","import { decode as b64u } from './base64url.js';\nimport { decoder } from '../lib/buffer_utils.js';\nimport isObject from '../lib/is_object.js';\nimport { JWTInvalid } from './errors.js';\nexport function decodeJwt(jwt) {\n    if (typeof jwt !== 'string')\n        throw new JWTInvalid('JWTs must use Compact JWS serialization, JWT must be a string');\n    const { 1: payload, length } = jwt.split('.');\n    if (length === 5)\n        throw new JWTInvalid('Only JWTs using Compact JWS serialization can be decoded');\n    if (length !== 3)\n        throw new JWTInvalid('Invalid JWT');\n    if (!payload)\n        throw new JWTInvalid('JWTs must contain a payload');\n    let decoded;\n    try {\n        decoded = b64u(payload);\n    }\n    catch {\n        throw new JWTInvalid('Failed to base64url decode the payload');\n    }\n    let result;\n    try {\n        result = JSON.parse(decoder.decode(decoded));\n    }\n    catch {\n        throw new JWTInvalid('Failed to parse the decoded payload as JSON');\n    }\n    if (!isObject(result))\n        throw new JWTInvalid('Invalid JWT Claims Set');\n    return result;\n}\n"],"names":[],"mappings":"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"}