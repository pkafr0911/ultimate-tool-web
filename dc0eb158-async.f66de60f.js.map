{"version":3,"sources":["src/pages/QR/index.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport { Card, InputNumber, Button, Space, Input, Select, Slider, message } from 'antd';\r\nimport QRCode from 'qrcode.react';\r\n\r\nconst { Option } = Select;\r\n\r\nconst QRPage: React.FC = () => {\r\n  const [text, setText] = useState('https://example.com');\r\n  const [size, setSize] = useState(256);\r\n  const [format, setFormat] = useState<'png' | 'svg'>('svg');\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const svgRef = useRef<SVGSVGElement>(null);\r\n\r\n  const handleSizeChange = (value: number | null) => {\r\n    if (value) setSize(value);\r\n  };\r\n\r\n  const downloadQRCode = () => {\r\n    try {\r\n      if (format === 'png' && canvasRef.current) {\r\n        const url = canvasRef.current.toDataURL('image/png');\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = 'qrcode.png';\r\n        a.click();\r\n      } else if (format === 'svg' && svgRef.current) {\r\n        const svg = new XMLSerializer().serializeToString(svgRef.current);\r\n        const blob = new Blob([svg], { type: 'image/svg+xml;charset=utf-8' });\r\n        const url = URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = url;\r\n        a.download = 'qrcode.svg';\r\n        a.click();\r\n        URL.revokeObjectURL(url);\r\n      } else {\r\n        message.error('QR code not available');\r\n      }\r\n    } catch (err) {\r\n      message.error('Failed to download QR code');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card title=\"QR Generator\" style={{ width: '100%' }}>\r\n      <Space\r\n        direction=\"vertical\"\r\n        style={{ maxWidth: 400, textAlign: 'center', display: 'flex' }}\r\n        size=\"middle\"\r\n      >\r\n        {/* Text Input */}\r\n        <Input placeholder=\"Text or URL\" value={text} onChange={(e) => setText(e.target.value)} />\r\n\r\n        {/* Size Control: Slider + InputNumber */}\r\n        <div style={{ width: '100%' }}>\r\n          <div style={{ marginBottom: 4, fontWeight: 500 }}>Size: {size}px</div>\r\n          <Space.Compact style={{ width: '100%' }}>\r\n            <Slider\r\n              min={64}\r\n              max={1024}\r\n              value={size}\r\n              onChange={handleSizeChange}\r\n              style={{ flex: 1 }}\r\n            />\r\n            <InputNumber\r\n              min={64}\r\n              max={1024}\r\n              value={size}\r\n              onChange={handleSizeChange}\r\n              style={{ width: 100 }}\r\n            />\r\n          </Space.Compact>\r\n        </div>\r\n\r\n        {/* Format Selector */}\r\n        <Select value={format} onChange={setFormat} style={{ width: '100%' }}>\r\n          <Option value=\"png\">PNG</Option>\r\n          <Option value=\"svg\">SVG</Option>\r\n        </Select>\r\n\r\n        {/* Download Button */}\r\n        <Button type=\"primary\" onClick={downloadQRCode} block>\r\n          Download {format.toUpperCase()}\r\n        </Button>\r\n\r\n        {/* QR Code Display */}\r\n        <div style={{ marginTop: 12 }}>\r\n          {format === 'png' ? (\r\n            <QRCode ref={canvasRef} value={text} size={size} includeMargin renderAs=\"canvas\" />\r\n          ) : (\r\n            <QRCode ref={svgRef} value={text} size={size} includeMargin renderAs=\"svg\" />\r\n          )}\r\n        </div>\r\n      </Space>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default QRPage;\r\n"],"names":[],"mappings":"iQAiGA,+CAAA,8CAjGwC,4LAErB,aAEnB,GAAM,CAAE,OAAA,CAAM,CAAE,CAAG,SAAM,KA6FzB,EA3FyB,KACvB,GAAM,CAAC,EAAM,EAAQ,CAAG,GAAA,UAAQ,EAAC,uBAC3B,CAAC,EAAM,EAAQ,CAAG,GAAA,UAAQ,EAAC,KAC3B,CAAC,EAAQ,EAAU,CAAG,GAAA,UAAQ,EAAgB,OAC9C,EAAY,GAAA,QAAM,EAAoB,MACtC,EAAS,GAAA,QAAM,EAAgB,MAE/B,EAAmB,AAAC,IACpB,GAAO,EAAQ,GACrB,EA2BA,MACE,UAAC,SAAI,EAAC,MAAM,eAAe,MAAO,CAAE,MAAO,MAAO,WAChD,WAAC,SAAK,EACJ,UAAU,WACV,MAAO,CAAE,SAAU,IAAK,UAAW,SAAU,QAAS,MAAO,EAC7D,KAAK,mBAGL,UAAC,SAAK,EAAC,YAAY,cAAc,MAAO,EAAM,SAAU,AAAC,GAAM,EAAQ,EAAE,MAAM,CAAC,KAAK,IAGrF,WAAC,OAAI,MAAO,CAAE,MAAO,MAAO,YAC1B,WAAC,OAAI,MAAO,CAAE,aAAc,EAAG,WAAY,GAAI,YAAG,SAAO,EAAK,QAC9D,WAAC,SAAK,CAAC,OAAO,EAAC,MAAO,CAAE,MAAO,MAAO,YACpC,UAAC,SAAM,EACL,IAAK,GACL,IAAK,KACL,MAAO,EACP,SAAU,EACV,MAAO,CAAE,KAAM,CAAE,IAEnB,UAAC,SAAW,EACV,IAAK,GACL,IAAK,KACL,MAAO,EACP,SAAU,EACV,MAAO,CAAE,MAAO,GAAI,UAM1B,WAAC,SAAM,EAAC,MAAO,EAAQ,SAAU,EAAW,MAAO,CAAE,MAAO,MAAO,YACjE,UAAC,GAAO,MAAM,eAAM,QACpB,UAAC,GAAO,MAAM,eAAM,WAItB,WAAC,SAAM,EAAC,KAAK,UAAU,QA/DN,KACrB,GAAI,CACF,GAAI,AAAW,QAAX,GAAoB,EAAU,OAAO,CAAE,CACzC,IAAM,EAAM,EAAU,OAAO,CAAC,SAAS,CAAC,aAClC,EAAI,SAAS,aAAa,CAAC,KACjC,EAAE,IAAI,CAAG,EACT,EAAE,QAAQ,CAAG,aACb,EAAE,KAAK,GACT,MAAO,GAAI,AAAW,QAAX,GAAoB,EAAO,OAAO,CAAE,CAC7C,IAAM,EAAM,IAAI,gBAAgB,iBAAiB,CAAC,EAAO,OAAO,EAC1D,EAAO,IAAI,KAAK,CAAC,EAAI,CAAE,CAAE,KAAM,6BAA8B,GAC7D,EAAM,IAAI,eAAe,CAAC,GAC1B,EAAI,SAAS,aAAa,CAAC,KACjC,EAAE,IAAI,CAAG,EACT,EAAE,QAAQ,CAAG,aACb,EAAE,KAAK,GACP,IAAI,eAAe,CAAC,GACtB,MACE,SAAO,CAAC,KAAK,CAAC,yBAElB,CAAE,MAAO,EAAK,CACZ,SAAO,CAAC,KAAK,CAAC,8BAChB,CACF,EAwCsD,KAAK,cAAC,YAC1C,EAAO,WAAW,MAI9B,UAAC,OAAI,MAAO,CAAE,UAAW,EAAG,WACzB,AAAW,QAAX,EACC,UAAC,SAAM,EAAC,IAAK,EAAW,MAAO,EAAM,KAAM,EAAM,aAAa,IAAC,SAAS,WAExE,UAAC,SAAM,EAAC,IAAK,EAAQ,MAAO,EAAM,KAAM,EAAM,aAAa,IAAC,SAAS,eAMjF"}