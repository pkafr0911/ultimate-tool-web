(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["42fa4e67"],{"212b58af":function(e,t,i){i.d(t,"__esModule",{value:!0}),i.e(t,{default:function(){return e3;}});var r=i("777fffbe"),l=i("852bbaa9"),n=i("95bd365d"),a=i("20c112ff"),o=i("0ec3d373"),s=r._(o),d=i("bb4b9fac"),c=r._(d),u=i("0ed998a9"),h=r._(u),f=i("5a83e636"),g=r._(f),p=i("49402d9c"),x=r._(p),m=i("522a0302"),v=r._(m),w=i("314fd1a3"),y=l._(w),j={container:"container-N8utMQ39",black:"black-XKi5n_Zc",white:"white-OyOL651q",previewSection:"previewSection-0MbHaDww","svg-viewer-guide":"svg-viewer-guide-Bkus_91A",topActions:"topActions-sqz9om7E",actions:"actions-D1aTqXUy",previewTabs:"previewTabs-z6fCjTbY","ant-tabs-content-holder":"ant-tabs-content-holder-BAjZ8OG6",previewFooter:"previewFooter-uwNtj5Tv",grey:"grey-byNWOYpg",previewWrapper:"previewWrapper-d49S0jT_",editorBox:"editorBox-yd3ohj5M",editorSection:"editorSection-GdXoa-Wa",transparent:"transparent-4OlCYO9U",previewActions:"previewActions-ELOrQmEq","ant-tabs-content":"ant-tabs-content-3kBABj5S",content:"content-N7YpnWSD",previewCodeBox:"previewCodeBox-7-fgpWTJ"},b=i("5bea8dfc"),S=i("94e78bcf"),k=r._(S),C=i("5f92d263"),z=r._(C),_=i("5b30eb7f"),G=r._(_),R=i("27aee2a8"),B=r._(R),V=i("26d7a926"),E=r._(V),N=i("65094f81"),M=r._(N),A=i("7a7f784d"),$=r._(A),F=i("a7018c48"),L=r._(F),U=i("2ac36d38"),I=r._(U),T=i("e6a46a2c"),O=r._(T),P=i("8fb0e3f9"),D=r._(P),H=y.forwardRef(function(e,t){return y.createElement(D.default,(0,I.default)((0,I.default)({},e),{},{ref:t,icon:O.default}));}),W=i("307d4d2d"),Y=r._(W),q=i("5e015b19"),X=r._(q),Z=i("31cf2e3f"),K=r._(Z),J=i("1d2482ba"),Q=r._(J),ee=i("4f4539af"),et=r._(ee),ei=i("fb315213"),er=r._(ei),el={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},en=y.forwardRef(function(e,t){return y.createElement(D.default,(0,I.default)((0,I.default)({},e),{},{ref:t,icon:el}));}),ea={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h360c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H184V184h656v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V144c0-17.7-14.3-32-32-32zM653.3 599.4l52.2-52.2a8.01 8.01 0 00-4.7-13.6l-179.4-21c-5.1-.6-9.5 3.7-8.9 8.9l21 179.4c.8 6.6 8.9 9.4 13.6 4.7l52.4-52.4 256.2 256.2c3.1 3.1 8.2 3.1 11.3 0l42.4-42.4c3.1-3.1 3.1-8.2 0-11.3L653.3 599.4z"}}]},name:"select",theme:"outlined"},eo=y.forwardRef(function(e,t){return y.createElement(D.default,(0,I.default)((0,I.default)({},e),{},{ref:t,icon:ea}));}),es=i("674a8f9a"),ed=r._(es),ec=i("c9122736"),eu=r._(ec),eh=i("46f73fdb"),ef=r._(eh);let{Title:eg,Paragraph:ep,Text:ex}=v.default,em=[{icon:(0,n.jsx)(z.default,{}),text:"Upload an SVG file via drag-and-drop or by clicking the \u201CUpload SVG\u201D button."},{icon:(0,n.jsx)(G.default,{}),text:"Edit SVG source code directly in the built-in Monaco Editor with syntax highlighting."},{icon:(0,n.jsx)(B.default,{}),text:"Prettify your SVG for better readability using the \u201CPrettify\u201D button."},{icon:(0,n.jsx)(E.default,{}),text:"Optimize your SVG with SVGO to reduce file size without losing visual quality."},{icon:(0,n.jsx)($.default,{}),text:"Lock the aspect ratio to maintain proportions while resizing width or height."},{icon:(0,n.jsx)(L.default,{}),text:"Unlock aspect ratio if you want to freely adjust width and height independently."},{icon:(0,n.jsx)(M.default,{}),text:"Flip your SVG horizontally or vertically with one click."},{icon:(0,n.jsx)(H,{}),text:"Rotate your SVG by 90\xb0 increments with the rotation control."},{icon:(0,n.jsx)(Y.default,{}),text:"Preview your SVG interactively with real-time updates, background color modes, and zoom controls."},{icon:(0,n.jsx)(eo,{}),text:(0,n.jsxs)(n.Fragment,{children:["Use the ",(0,n.jsx)(ex,{strong:!0,children:"Select (V)"})," tool to click and inspect individual SVG elements. You\u2019ll see their tag name, size, and on-screen bounding box highlighted."]})},{icon:(0,n.jsx)(ed.default,{}),text:(0,n.jsxs)(n.Fragment,{children:["Switch to the ",(0,n.jsx)(ex,{strong:!0,children:"Hand (H)(Space)"})," tool to pan the SVG around freely. Click and drag to move your view."]})},{icon:(0,n.jsx)(eu.default,{}),text:(0,n.jsxs)(n.Fragment,{children:["Use the ",(0,n.jsx)(ex,{strong:!0,children:"Color Picker (C)"})," tool to hover and sample pixel colors directly from your SVG."]})},{icon:(0,n.jsx)(ef.default,{}),text:(0,n.jsxs)(n.Fragment,{children:["Activate the ",(0,n.jsx)(ex,{strong:!0,children:"Measure (R)"})," tool to measure distances from the mouse to the SVG edges in pixels."]})},{icon:(0,n.jsx)(X.default,{}),text:"Zoom in for detailed inspection, or use zoom out/reset controls to fit the entire SVG."},{icon:(0,n.jsx)(er.default,{}),text:(0,n.jsxs)(n.Fragment,{children:["Hold ",(0,n.jsx)(ex,{keyboard:!0,children:"Ctrl"})," + scroll to smoothly zoom in and out centered around your cursor \u2014 just like in Figma or Illustrator."]})},{icon:(0,n.jsx)(K.default,{}),text:"Reset zoom and pan instantly using the reset button to restore the original view."},{icon:(0,n.jsx)(eu.default,{}),text:(0,n.jsxs)(n.Fragment,{children:["Change background color modes between ",(0,n.jsx)(ex,{strong:!0,children:"Transparent"}),","," ",(0,n.jsx)(ex,{strong:!0,children:"White"}),", ",(0,n.jsx)(ex,{strong:!0,children:"Grey"}),", or ",(0,n.jsx)(ex,{strong:!0,children:"Black"})," for better visibility."]})},{icon:(0,n.jsx)(Q.default,{}),text:(0,n.jsxs)(n.Fragment,{children:["Download your work in multiple formats: ",(0,n.jsx)(ex,{strong:!0,children:"SVG"}),", ",(0,n.jsx)(ex,{strong:!0,children:"PNG"}),", or"," ",(0,n.jsx)(ex,{strong:!0,children:"ICO"}),"."]})},{icon:(0,n.jsx)(et.default,{}),text:(0,n.jsxs)(n.Fragment,{children:["Copy the ",(0,n.jsx)(ex,{strong:!0,children:"Data URI"})," or ",(0,n.jsx)(ex,{strong:!0,children:"Base64"})," encoded version of your SVG to clipboard for web embedding."]})},{icon:(0,n.jsx)(en,{}),text:"All tools have keyboard shortcuts (V, H, C, R, Space) \u2014 making design inspection faster and smoother."}],ev=({callback:e})=>(0,n.jsxs)("div",{className:j["svg-viewer-guide"],children:[(0,n.jsx)(eg,{level:5,children:"\u{1F9ED} How to Use the SVG Editor & Preview"}),(0,n.jsxs)("ul",{className:j["guide-list"],children:[em.map((e,t)=>(0,n.jsxs)("li",{children:[(0,n.jsx)("span",{className:j["guide-icon"],children:e.icon}),(0,n.jsx)("span",{children:e.text})]},t)),(0,n.jsxs)("li",{children:["Click here to open advance ",(0,n.jsx)("a",{onClick:()=>e("openSettings"),children:" Settings"})]},"more")]}),(0,n.jsx)(k.default,{style:{margin:"12px 0"}}),(0,n.jsxs)(ep,{type:"secondary",children:[(0,n.jsx)(en,{style:{marginRight:8,color:"#faad14"}}),"Always ",(0,n.jsx)(ex,{strong:!0,children:"check optimized SVGs"})," to ensure that no essential shapes or paths were removed during optimization."]})]});var ew=i("d6f53458"),ey=r._(ew),ej=i("e0fc3175"),eb=r._(ej),eS=i("d977ab6b"),ek=r._(eS),eC=i("cb204712"),ez=r._(eC),e_=i("b3c6b30b"),eG=i("30963339"),eR=r._(eG),eB=i("434db6d0"),eV=i("494468b5"),eE=i("e8bc7d33");let eN=()=>{let[e,t]=(0,y.useState)((0,b.loadSettings)());return(0,y.useEffect)(()=>{(0,b.saveSettings)(e);},[e]),{settings:e,setSettings:t};},eM=(e,t,i)=>{let r=null,l=null,n=e=>{if(e){let t=e.querySelector("#__highlight_overlay__"),i=e.querySelector("#__highlight_tooltip__");t&&t.remove(),i&&i.remove();}},a=e=>{l&&(l.style.stroke="",l.style.strokeWidth="",n(l.ownerSVGElement),l=null),r=null;},o=(e,t)=>{let i;let r=e.ownerSVGElement;if(!r)return;if(t.highlightBorder&&(e.style.stroke="#1890ff",e.style.strokeWidth="3"),n(r),"getBBox"in e&&"function"==typeof e.getBBox)try{i=e.getBBox();}catch(r){let t=e.getBoundingClientRect();i={x:t.x,y:t.y,width:t.width,height:t.height};}else{let t=e.getBoundingClientRect();i={x:t.x,y:t.y,width:t.width,height:t.height};}if(t.highlightArea){let e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("id","__highlight_overlay__"),e.setAttribute("x",i.x.toString()),e.setAttribute("y",i.y.toString()),e.setAttribute("width",i.width.toString()),e.setAttribute("height",i.height.toString()),e.setAttribute("fill","#1890ff"),e.setAttribute("fill-opacity","0.15"),e.setAttribute("stroke","#1890ff"),e.setAttribute("pointer-events","none"),e.style.transition="all 0.15s ease",r.appendChild(e);}let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("id","__highlight_tooltip__"),a.setAttribute("x",(i.x+i.width+5).toString()),a.setAttribute("y",(i.y+15).toString()),a.setAttribute("fill","#1890ff"),a.setAttribute("font-size","12"),a.setAttribute("font-family","monospace"),a.setAttribute("pointer-events","none"),a.textContent=`W: ${i.width.toFixed(1)} H: ${i.height.toFixed(1)}`,r.appendChild(a),l=e;};e.onDidChangeCursorPosition(t=>{let r=e.getPosition();r&&i&&i("position",r);}),e.onMouseMove(i=>{let n=(0,b.loadSettings)(),s=e.getValue(),d=i.target.position;if(!d)return;let c=e.getModel();if(!c)return;let u=c.getOffsetAt(d),h=s.lastIndexOf("<",u),f=s.indexOf(">",u);if(-1===h||-1===f||u<h||u>f){a(n);return;}let g=s.slice(h,f+1).replace(/\s+/g," ").trim(),p=g.match(/<([a-zA-Z][\w:-]*)\b([^>]*)>/i);if(!p)return;let x=p[1].toLowerCase(),m=p[2]||"";if(g===r&&l)return;r=g;let v=t.current;if(!v)return;let w=v.querySelector("svg");if(!w)return;let y=w.querySelectorAll(x);if(!y.length){a(n);return;}let j=(e=>{let t={};return e.replace(/([\w:-]+)\s*=\s*(['"])(.*?)\2/g,(e,i,r,l)=>(t[i]=l.replace(/\s+/g," ").trim(),"")),t;})(m),S=null;if(!(S=Array.from(y).find(e=>{let t={};for(let{name:i,value:r}of Array.from(e.attributes))t[i]=r.replace(/\s+/g," ").trim();return Object.entries(j).every(([e,i])=>t[e]===i);}))&&y.length>1){var k,C;let e=(null===(k=i.event.browserEvent)||void 0===k?void 0:k.clientY)||0;S=null===(C=Array.from(y).map(e=>({el:e,box:e.getBoundingClientRect()})).sort((t,i)=>Math.abs(t.box.top-e)-Math.abs(i.box.top-e))[0])||void 0===C?void 0:C.el;}S||(S=y[0]),l&&l!==S&&(l.style.stroke="",l.style.strokeWidth=""),o(S,n);}),e.onMouseLeave(()=>{a((0,b.loadSettings)());});},{Text:eA}=v.default,e$=({svgCode:e,setSvgCode:t,setPreview:i,sizeInfo:r,setSizeInfo:l,svgSize:a,setSvgSize:o,svgContainerRef:d,handleUpload:c})=>{let{darkMode:u}=(0,eE.useDarkMode)(),f=(0,y.useRef)(null),p=(0,y.useRef)(null),[x,m]=(0,y.useState)({line:1,column:1}),[v,w]=(0,y.useState)(!0),S=(0,y.useRef)(null),[k,C]=(0,y.useState)(0),{settings:_,setSettings:G}=eN();(0,y.useEffect)(()=>{l(t=>({...t,before:new Blob([e]).size}));},[]),(0,y.useEffect)(()=>{let e=parseFloat(a.width),t=parseFloat(a.height);e&&t&&!isNaN(e)&&!isNaN(t)&&(S.current=e/t);},[a.width,a.height]),(0,y.useEffect)(()=>{v!==_.lockRatio&&G({..._,lockRatio:v});},[v]);let R=(e,t)=>{p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{e&&t&&V(e,t);},500);},V=(r,l)=>{if(!e.trim()){h.default.warning("No SVG loaded.");return;}if(!r||!l){h.default.warning("Please enter both width and height.");return;}let n=e,a=n.match(/<svg[^>]*>/i);if(!a){h.default.error("Invalid SVG.");return;}let o=a[0];o=/width=/.test(o)?o.replace(/width="[^"]*"/,`width="${r}"`):o.replace("<svg",`<svg width="${r}"`),o=/height=/.test(o)?o.replace(/height="[^"]*"/,`height="${l}"`):o.replace("<svg",`<svg height="${l}"`),t(n=n.replace(/<svg[^>]*>/i,o)),i(n),h.default.success(`SVG resized to ${r} \xd7 ${l}`);},N=(e,t)=>{o(i=>{let r={...i},l=parseFloat(t);r[e]=t,v&&S.current&&!isNaN(l)&&l>0&&("width"===e?r.height=l/S.current:r.width=l*S.current);let n=parseFloat(r.width),a=parseFloat(r.height);return!isNaN(n)&&!isNaN(a)&&n>0&&a>0&&R(r.width,r.height),r;});};return(0,n.jsxs)("div",{className:j.editorSection,children:[(0,n.jsxs)(g.default,{className:j.topActions,style:{marginTop:12,marginBottom:8},wrap:!0,children:[(0,n.jsx)(eb.default,{beforeUpload:c,showUploadList:!1,accept:".svg",children:(0,n.jsx)(s.default,{size:"small",icon:(0,n.jsx)(z.default,{}),children:"Upload SVG"})}),(0,n.jsx)(s.default,{size:"small",onClick:()=>{if(!e.trim()){h.default.warning("No SVG code to prettify.");return;}try{let r=(0,b.loadSettings)(),n=e;(null==r?void 0:r.optimizeBeforePrettify)&&(n=(0,eV.optimize)(e,{multipass:!0}).data);let a=(0,b.formatXML)(n);t(a),i(a),(0,b.extractSize)(a,o),l(e=>({...e,before:new Blob([a]).size})),h.default.success("SVG prettified!");}catch(e){console.error(e),h.default.error("Failed to prettify SVG.");}},icon:(0,n.jsx)(B.default,{}),children:"Prettify"}),(0,n.jsx)(s.default,{size:"small",onClick:()=>{if(!e.trim()){h.default.warning("No SVG code to optimize.");return;}try{let r=new Blob([e]).size,n=(0,eV.optimize)(e,{multipass:!0}).data;n=n.replace(/\n+/g,"").replace(/\r+/g,"").replace(/\t+/g,"").replace(/\s{2,}/g," ").replace(/> </g,"><").trim();let a=new Blob([n]).size;t(n),i(n),l({before:r,after:a});let o=((r-a)/r*100).toFixed(1);h.default.success(`SVG optimized! Reduced by ${o}%`);}catch(e){console.error(e),h.default.error("Failed to optimize SVG.");}},icon:(0,n.jsx)(E.default,{}),children:"Optimize"})]}),(0,n.jsxs)(g.default,{direction:"horizontal",size:"large",children:[(0,n.jsx)("div",{style:{height:28,display:"flex",alignItems:"center",justifyContent:"flex-end",borderBottom:"1px solid #ddd"},children:(0,n.jsxs)(eA,{type:"secondary",children:["Ln ",x.line,", Col ",x.column]})}),r&&(0,n.jsxs)(eA,{type:"secondary",className:"mb-2 block",children:["Size: ",(0,n.jsxs)("b",{children:[(r.before/1024).toFixed(2)," KB"]}),r.after&&(0,n.jsxs)(n.Fragment,{children:[" ","\u2192 ",(0,n.jsxs)("b",{children:[(r.after/1024).toFixed(2)," KB"]})," (",((r.before-r.after)/r.before*100).toFixed(1),"% smaller)"]})]})]}),(0,n.jsx)("div",{className:j.editorBox,children:(0,n.jsx)(e_.Editor,{height:"100%",defaultLanguage:"xml",value:e,onChange:e=>{let r=e||"";t(r),i(r),(0,b.extractSize)(r,o),l(e=>({...e,before:new Blob([r]).size}));},onMount:e=>{f.current=e,eM(e,d,(e,t)=>{"position"===e&&m({line:t.lineNumber,column:t.column});});},theme:u?"vs-dark":"light",options:{minimap:{enabled:!1},wordWrap:"on",fontSize:14,lineNumbersMinChars:2,lineDecorationsWidth:0,lineNumbers:"on"}})}),(0,n.jsxs)(g.default,{className:j.actions,wrap:!0,children:[(0,n.jsx)(s.default,{size:"small",type:"primary",onClick:()=>(0,eB.handleCopy)(e,"Copied SVG code to clipboard!"),icon:(0,n.jsx)(et.default,{}),children:"Copy"}),(0,n.jsx)(s.default,{size:"small",danger:!0,onClick:()=>{t(""),i(""),l(null),o({width:"",height:""});},icon:(0,n.jsx)(eR.default,{}),children:"Clear"})]}),(0,n.jsxs)(g.default,{style:{float:"right",marginTop:16},children:[(0,n.jsx)(eA,{strong:!0,children:"Resize:"}),(0,n.jsx)(ez.default,{title:v?"Unlock aspect ratio":"Lock aspect ratio",children:(0,n.jsx)(s.default,{size:"small",icon:v?(0,n.jsx)($.default,{}):(0,n.jsx)(L.default,{}),type:v?"primary":"default",onClick:()=>w(e=>!e)})}),(0,n.jsx)(ek.default,{size:"small",prefix:(0,n.jsx)(E.default,{}),placeholder:"W",style:{width:90},value:a.width,onChange:e=>N("width",e.target.value.trim())}),"x",(0,n.jsx)(ek.default,{size:"small",prefix:(0,n.jsx)(E.default,{}),placeholder:"H",style:{width:90},value:a.height,onChange:e=>N("height",e.target.value.trim())}),(0,n.jsx)(ez.default,{title:"Flip H",children:(0,n.jsx)(s.default,{size:"small",onClick:()=>{if(!e.trim()){h.default.warning("No SVG loaded.");return;}let r=e;t(r=r.replace(/<svg([^>]*)>/,(e,t)=>t.includes("transform=")?`<svg${t.replace(/transform="([^"]*)"/,'transform="scale(-1,1) $1"')}>`:`<svg${t} transform="scale(-1,1)">`)),i(r),h.default.success("Flipped horizontally!");},icon:(0,n.jsx)(M.default,{})})}),(0,n.jsx)(ez.default,{title:"Flip V",children:(0,n.jsx)(s.default,{size:"small",onClick:()=>{if(!e.trim()){h.default.warning("No SVG loaded.");return;}let r=e;t(r=r.replace(/<svg([^>]*)>/,(e,t)=>t.includes("transform=")?`<svg${t.replace(/transform="([^"]*)"/,'transform="scale(1,-1) $1"')}>`:`<svg${t} transform="scale(1,-1)">`)),i(r),h.default.success("Flipped vertically!");},icon:(0,n.jsx)(M.default,{style:{transform:"rotate(90deg)"}})})}),(0,n.jsx)(ez.default,{title:"Rotate 90\xb0",children:(0,n.jsx)(s.default,{size:"small",icon:(0,n.jsx)(H,{}),onClick:()=>{if(!e.trim()){h.default.warning("No SVG loaded.");return;}let r=(k+90)%360;C(r);let l=e;t(l=l.replace(/<svg([^>]*)>/,(e,t)=>{let i=`rotate(${r})`;return t.includes("transform=")?`<svg${t.replace(/transform="([^"]*)"/,`transform="${i}"`)}>`:`<svg${t} transform="${i}">`;})),i(l),h.default.success(`Rotated SVG to ${r}\xb0!`);}})})]})]});};var eF=i("05c9ca64"),eL=r._(eF),eU=i("319e910c"),eI=r._(eU),eT={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},eO=y.forwardRef(function(e,t){return y.createElement(D.default,(0,I.default)((0,I.default)({},e),{},{ref:t,icon:eT}));}),eP=i("473d97c7"),eD=r._(eP);let{Text:eH}=v.default,eW=({preview:e,svgCode:t,handleDownload:i,svgContainerRef:r,getDataURI:l,getBase64:a})=>{let[o,d]=(0,y.useState)("svg"),[c,u]=(0,y.useState)("grey"),[f,p]=(0,y.useState)("select"),[x,m]=(0,y.useState)(null),[v,w]=(0,y.useState)(null),[S,k]=(0,y.useState)(null),[C,z]=(0,y.useState)(!1),[_,G]=(0,y.useState)({x:0,y:0}),[R,B]=(0,y.useState)(null),[V,E]=(0,y.useState)(1),[N,M]=(0,y.useState)(1),A=(0,y.useRef)(null),[$,F]=(0,y.useState)(null),[L,U]=(0,y.useState)(null),I=(0,y.useRef)(null);(0,y.useEffect)(()=>{let e=()=>{let e=A.current,t=r.current;if(!e||!t)return;let i=t.querySelector("svg");if(!i)return;let l=i.getBBox(),n=e.getBoundingClientRect();if(!l.width||!l.height)return;let a=Math.min(n.width/l.width,n.height/l.height,1);M(a),E(a),G({x:0,y:0});};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e);},[e]);let T=()=>{let e=new Image;e.src=l(),e.onload=()=>{let t=document.createElement("canvas");t.width=e.width,t.height=e.height;let i=t.getContext("2d",{willReadFrequently:!0});i&&i.drawImage(e,0,0),I.current=t;};};(0,y.useEffect)(()=>T(),[e]),(0,y.useEffect)(()=>{let e=e=>{"Space"===e.code&&(e.preventDefault(),"hand"!==f&&(k(f),p("hand"))),["h","H"].includes(e.key)&&p("hand"),["c","C"].includes(e.key)&&p("color"),["r","R"].includes(e.key)&&p("measure"),(["v","V"].includes(e.key)||"Escape"===e.key)&&p("select");},t=e=>{"Space"===e.code&&S&&(p(S),k(null));};return window.addEventListener("keydown",e,{passive:!1}),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t);};},[f,S]);let O=()=>{z(!1),B(null);};(0,y.useEffect)(()=>{var e,t;let i=null===(e=r.current)||void 0===e?void 0:e.parentElement,l=null===(t=r.current)||void 0===t?void 0:t.querySelector("svg");if(!i||!l)return;let n=e=>{if(!e.ctrlKey)return;e.preventDefault(),i.getBoundingClientRect();let t=l.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;E(t=>{let i=Math.min(Math.max(t*(e.deltaY<0?1.1:.9),.1),10),l=i/t;return G(e=>({x:r-(r-e.x)*l,y:n-(n-e.y)*l})),i;});};return i.addEventListener("wheel",n,{passive:!1}),()=>i.removeEventListener("wheel",n);},[r]),(0,y.useEffect)(()=>{var e;let t=null===(e=r.current)||void 0===e?void 0:e.querySelector("svg");if(!t)return;let i=e=>{let i=I.current;if(!i)return null;let r=t.getBoundingClientRect(),l=Math.floor((e.clientX-r.left)/r.width*i.width),n=Math.floor((e.clientY-r.top)/r.height*i.height);if(l<0||n<0||l>=i.width||n>=i.height)return null;try{let e=i.getContext("2d",{willReadFrequently:!0}).getImageData(l,n,1,1).data;return`#${[e[0],e[1],e[2]].map(e=>e.toString(16).padStart(2,"0")).join("")}`;}catch{return null;}},l=e=>{if("measure"===f){let i=t.getBoundingClientRect();F({x:e.clientX,y:e.clientY,distances:{top:e.clientY-i.top,bottom:i.height-(e.clientY-i.top),left:e.clientX-i.left,right:i.width-(e.clientX-i.left)}});}else if("color"===f){let t=i(e);U(t?{x:e.clientX,y:e.clientY,color:t}:null);}},n=e=>{if("select"===f){let i=e.target;for(;i&&1!==i.nodeType;)i=i.parentElement;if(!i||i===t)return m(null),w(null);let r=i.getBoundingClientRect();m(r),w({tag:i.tagName,width:r.width,height:r.height});}else if("color"===f){let t=i(e);t&&(U({x:e.clientX,y:e.clientY,color:t}),(0,eB.handleCopy)(t));}},a=()=>{F(null),"color"!==f&&U(null);};return t.addEventListener("mousemove",l),t.addEventListener("click",n),t.addEventListener("mouseleave",a),()=>{t.removeEventListener("mousemove",l),t.removeEventListener("click",n),t.removeEventListener("mouseleave",a);};},[f]);let P=async e=>new Promise((t,i)=>{let r=new Image;r.onload=()=>{let l=document.createElement("canvas");l.width=r.width,l.height=r.height;let n=l.getContext("2d",{willReadFrequently:!0});if(!n)return i("Canvas missing");n.drawImage(r,0,0),t(l.toDataURL(e));},r.onerror=i,r.src=l();}),D=async()=>{try{let e=await P("image/png"),t=document.createElement("a");t.href=e,t.download="image.png",t.click();}catch{h.default.error("Failed to convert to PNG.");}},H=async()=>{try{let e=await P("image/x-icon"),t=document.createElement("a");t.href=e,t.download="favicon.ico",t.click();}catch{h.default.error("Failed to convert to ICO.");}};return(0,n.jsxs)("div",{className:j.previewWrapper,children:[(0,n.jsx)(eL.default,{size:"small",style:{marginTop:17},activeKey:o,onChange:d,items:[{key:"svg",label:"SVG",children:(0,n.jsxs)("div",{className:`${j.previewSection} ${j[c]}`,ref:A,style:{cursor:"hand"===f?C?"grabbing":"grab":"select"===f?"pointer":"crosshair"},onMouseDown:e=>{"hand"===f&&(e.preventDefault(),z(!0),B({x:e.clientX-_.x,y:e.clientY-_.y}));},onMouseMove:e=>{"hand"===f&&C&&R&&G({x:e.clientX-R.x,y:e.clientY-R.y});},onMouseUp:O,onMouseLeave:O,children:[(0,n.jsx)("div",{ref:r,style:{transform:`translate(${_.x}px, ${_.y}px) scale(${V})`,transformOrigin:"top left",display:"inline-block"},dangerouslySetInnerHTML:{__html:(0,b.ensureSvgSize)(e,512,512)}}),x&&"select"===f&&(0,n.jsx)("div",{style:{position:"fixed",top:x.y,left:x.x,width:x.width,height:x.height,border:"2px solid #1890ff",pointerEvents:"none",boxShadow:"0 0 4px rgba(24,144,255,0.5)"}}),v&&"select"===f&&(0,n.jsxs)("div",{style:{position:"fixed",top:((null==x?void 0:x.y)??0)-30,left:(null==x?void 0:x.x)??0,background:"#1890ff",color:"white",padding:"2px 6px",borderRadius:4,fontSize:12},children:["<",v.tag,"> \u2022 ",Math.round(v.width),"\xd7",Math.round(v.height),"px"]}),$&&"measure"===f&&(0,n.jsxs)("div",{style:{position:"fixed",top:$.y+15,left:$.x+15,background:"rgba(255,255,255,0.9)",border:"1px solid #ccc",borderRadius:4,padding:"2px 4px",fontSize:12,pointerEvents:"none",boxShadow:"0 1px 3px rgba(0,0,0,0.15)"},children:["\u{1F4CF} ",Math.round($.distances.top),"px \u2191\u2193"," ",Math.round($.distances.bottom),"px"]}),L&&"color"===f&&(0,n.jsxs)("div",{style:{position:"fixed",top:L.y+15,left:L.x+15,background:"white",border:"1px solid #ccc",borderRadius:4,padding:"2px 6px",display:"flex",alignItems:"center",gap:6,fontSize:12,zIndex:999},children:[(0,n.jsx)("span",{style:{width:14,height:14,background:L.color,border:"1px solid #aaa",borderRadius:2}}),L.color]})]})},{key:"png",label:"PNG",children:(0,n.jsx)("img",{src:l(),style:{maxWidth:"100%"}})},{key:"ico",label:"ICO",children:(0,n.jsx)("img",{src:l(),style:{maxWidth:"100%"}})},{key:"datauri",label:"Data URI",children:(0,n.jsx)("pre",{className:j.previewCodeBox,children:l()})},{key:"base64",label:"Base64",children:(0,n.jsx)("pre",{className:j.previewCodeBox,children:a()})}]}),(0,n.jsx)("div",{className:j.previewFooter,children:(0,n.jsxs)(g.default,{wrap:!0,children:[(0,n.jsx)(eI.default,{style:{padding:5},size:"small",options:[{label:(0,n.jsx)(ez.default,{title:"Transparent",children:(0,n.jsx)("div",{style:{margin:2,width:16,height:16,border:"1px solid #ccc",borderRadius:2,backgroundImage:`
                          linear-gradient(45deg, #ccc 25%, transparent 25%),
                          linear-gradient(-45deg, #ccc 25%, transparent 25%),
                          linear-gradient(45deg, transparent 75%, #ccc 75%),
                          linear-gradient(-45deg, transparent 75%, #ccc 75%)
                        `,backgroundPosition:"0 0, 0 10px, 10px -10px, -10px 0px",backgroundSize:"20px 20px"}})}),value:"transparent"},{label:(0,n.jsx)(ez.default,{title:"White",children:(0,n.jsx)("div",{style:{margin:2,width:16,height:16,background:"#ffffff",border:"1px solid #ccc",borderRadius:2}})}),value:"white"},{label:(0,n.jsx)(ez.default,{title:"Grey",children:(0,n.jsx)("div",{style:{margin:2,width:16,height:16,background:"#808080",border:"1px solid #ccc",borderRadius:2}})}),value:"grey"},{label:(0,n.jsx)(ez.default,{title:"Black",children:(0,n.jsx)("div",{style:{margin:2,width:16,height:16,background:"#000000",border:"1px solid #ccc",borderRadius:2}})}),value:"black"}],value:c,onChange:e=>u(e)}),(0,n.jsxs)(g.default,{children:[(0,n.jsx)(ez.default,{title:"Select (V)",children:(0,n.jsx)(s.default,{size:"small",type:"select"===f?"primary":"default",icon:(0,n.jsx)(eo,{}),onClick:()=>p("select")})}),(0,n.jsx)(ez.default,{title:"Hand / Move (H)",children:(0,n.jsx)(s.default,{size:"small",type:"hand"===f?"primary":"default",icon:(0,n.jsx)(ed.default,{}),onClick:()=>p("hand")})}),(0,n.jsx)(ez.default,{title:"Color Picker (C)",children:(0,n.jsx)(s.default,{size:"small",type:"color"===f?"primary":"default",icon:(0,n.jsx)(eu.default,{}),onClick:()=>p("color")})}),(0,n.jsx)(ez.default,{title:"Measure (R)",children:(0,n.jsx)(s.default,{size:"small",type:"measure"===f?"primary":"default",icon:(0,n.jsx)(ef.default,{}),onClick:()=>p("measure")})})]}),(0,n.jsx)(ez.default,{title:"Zoom Out",children:(0,n.jsx)(s.default,{size:"small",icon:(0,n.jsx)(eO,{}),onClick:()=>E(e=>Math.max(.67*e,.125))})}),(0,n.jsx)(ez.default,{title:"Zoom In",children:(0,n.jsx)(s.default,{size:"small",icon:(0,n.jsx)(eD.default,{}),onClick:()=>E(e=>Math.min(1.5*e,8))})}),(0,n.jsx)(ez.default,{title:"Reset Zoom",children:(0,n.jsx)(s.default,{size:"small",icon:(0,n.jsx)(K.default,{}),onClick:()=>{E(N),G({x:0,y:0});}})}),(0,n.jsxs)(eH,{type:"secondary",children:[Math.round(100*V),"%"]})]})}),(0,n.jsxs)("div",{className:j.previewActions,children:[["svg","png","ico"].includes(o)&&(0,n.jsxs)(s.default,{size:"small",type:"primary",icon:(0,n.jsx)(Q.default,{}),onClick:"svg"===o?()=>i(t,"image.svg","image/svg+xml"):"png"===o?D:H,children:["Download ",o.toUpperCase()]}),["datauri","base64"].includes(o)&&(0,n.jsxs)(s.default,{size:"small",icon:(0,n.jsx)(et.default,{}),onClick:()=>(0,eB.handleCopy)("datauri"===o?l():a(),`Copied ${o.toUpperCase()}!`),children:["Copy ",o.toUpperCase()]})]})]});};var eY=i("532621ad"),eq=r._(eY),eX=i("90c13dc1"),eZ=r._(eX),eK=i("0c5bfc2e"),eJ=r._(eK);let{Text:eQ}=v.default,e0=({open:e,onClose:t})=>{let{settings:i,setSettings:r}=eN();return(0,n.jsx)(eZ.default,{title:"\u2699\uFE0F SVG Viewer Settings",open:e,onCancel:t,onOk:t,footer:(0,n.jsx)(n.Fragment,{}),children:(0,n.jsxs)(g.default,{direction:"vertical",style:{width:"100%"},children:[(0,n.jsxs)(g.default,{align:"center",style:{justifyContent:"space-between",width:"100%"},children:[(0,n.jsx)(eQ,{children:"Highlight Border"}),(0,n.jsx)(eJ.default,{checked:i.highlightBorder,onChange:e=>r({...i,highlightBorder:e})})]}),(0,n.jsxs)(g.default,{align:"center",style:{justifyContent:"space-between",width:"100%"},children:[(0,n.jsx)(eQ,{children:"Highlight Area"}),(0,n.jsx)(eJ.default,{checked:i.highlightArea,onChange:e=>r({...i,highlightArea:e})})]}),(0,n.jsxs)(g.default,{align:"center",style:{justifyContent:"space-between",width:"100%"},children:[(0,n.jsx)(eQ,{children:"Upload Stack (append new SVGs)"}),(0,n.jsx)(eJ.default,{checked:i.uploadStack,onChange:e=>r({...i,uploadStack:e})})]}),(0,n.jsxs)(g.default,{align:"center",style:{justifyContent:"space-between",width:"100%"},children:[(0,n.jsx)(eQ,{children:"Optimize Before Prettify"}),(0,n.jsx)(eJ.default,{checked:i.optimizeBeforePrettify,onChange:e=>r({...i,optimizeBeforePrettify:e})})]})]})});};var e1=i("2acc6e05"),e2=r._(e1),e4=i("a4f51854"),e6=r._(e4);let{Text:e8}=v.default,e3=()=>{let[e,t]=(0,y.useState)(e2.default),[i,r]=(0,y.useState)(e2.default),[l,o]=(0,y.useState)(""),[d,u]=(0,y.useState)(""),[f,p]=(0,y.useState)(null),[m,w]=(0,y.useState)(!1),[S,k]=(0,y.useState)({width:"",height:""}),[C,z]=(0,y.useState)(!1),_=(0,a.useIsMobile)(),G=(0,y.useRef)(0),R=(0,y.useRef)(null),B=i=>{let l=(0,b.loadSettings)(),n=new FileReader;return n.onload=i=>{var n;let a=null===(n=i.target)||void 0===n?void 0:n.result;if(!a.includes("<svg")){h.default.error("Invalid SVG file");return;}let o=a.trim(),s="";t(s=l.uploadStack&&e.trim()?`${e.trim()}

<!-- New SVG appended -->
${o}`:o),r(s),(0,b.extractSize)(s,k),p({before:new Blob([s]).size}),h.default.success(l.uploadStack&&e?"Appended new SVG!":"SVG loaded!");},n.readAsText(i),!1;};return(0,n.jsxs)(e6.default,{setDragging:w,dragCounter:G,handleUpload:B,children:[(0,n.jsxs)(c.default,{title:(0,n.jsxs)(g.default,{children:["\u{1F9E9} SVG Viewer",(0,n.jsx)(s.default,{type:"text",icon:(0,n.jsx)(eq.default,{}),onClick:()=>z(!0)})]}),variant:"borderless",className:j.container,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(v.default.Title,{level:4,children:"\u{1F4D8} About SVG Viewer"}),(0,n.jsxs)(v.default.Paragraph,{children:["This tool allows you to ",(0,n.jsx)(e8,{strong:!0,children:"upload"}),", ",(0,n.jsx)(e8,{strong:!0,children:"edit"}),", and",(0,n.jsx)(e8,{strong:!0,children:" preview SVG files"}),". You can optimize, prettify, resize, flip, and export SVGs as SVG, PNG, ICO, Data URI, or Base64 formats."]})]}),(0,n.jsx)("div",{className:j.content,children:(0,n.jsxs)(x.default,{layout:_?"vertical":"horizontal",style:_?{height:1600}:{},children:[(0,n.jsx)(x.default.Panel,{defaultSize:"50%",min:"20%",max:"70%",style:{padding:"0px 10px"},children:(0,n.jsx)(e$,{svgCode:e,setSvgCode:t,setPreview:r,sizeInfo:f,setSizeInfo:p,svgSize:S,setSvgSize:k,svgContainerRef:R,handleUpload:B})}),(0,n.jsx)(x.default.Panel,{style:{padding:"0px 10px"},children:(0,n.jsx)(eW,{preview:i,svgCode:e,handleDownload:b.handleDownload,svgContainerRef:R,getDataURI:()=>`data:image/svg+xml;utf8,${encodeURIComponent(e)}`,getBase64:()=>`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`})})]})}),(0,n.jsx)(ev,{callback:e=>{"openSettings"===e&&z(!0);}})]}),m&&(0,n.jsx)(ey.default,{}),(0,n.jsx)(e0,{open:C,onClose:()=>z(!1)})]});};},"2acc6e05":function(e,t,i){e.exports='<?xml version="1.0" encoding="UTF-8"?>\r\n<!-- Simplified favicon-only version of Ultimate Tools & Utilities logo with larger inner elements -->\r\n<svg\r\n     xmlns="http://www.w3.org/2000/svg"\r\n     width="256"\r\n     height="256"\r\n     viewBox="0 0 1024 1024"\r\n     role="img" aria-labelledby="title desc">\r\n  <title id="title">Ultimate Tools favicon</title>\r\n  <desc id="desc">Rounded gradient icon combining enlarged play triangle with a larger gradient circle.</desc>\r\n  <defs>\r\n    <radialGradient id="bgGrad" cx="20%" cy="15%" r="80%">\r\n      <stop offset="0%" stop-color="#e9e3ff" />\r\n      <stop offset="50%" stop-color="#b5fffc" />\r\n      <stop offset="100%" stop-color="#ffe5e5ff" />\r\n    </radialGradient>\r\n    <linearGradient id="iconGrad" x1="0" x2="1">\r\n      <stop offset="0%" stop-color="#ff718b"/>\r\n      <stop offset="100%" stop-color="#85ebfdff"/>\r\n    </linearGradient>\r\n    <linearGradient id="borderGrad" x1="0" x2="1" y1="0" y2="1">\r\n      <stop offset="0%" stop-color="#ff718b"/>\r\n      <stop offset="100%" stop-color="#d8b3b5ff"/>\r\n    </linearGradient>\r\n    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">\r\n      <feDropShadow dx="0" dy="8" stdDeviation="12" flood-color="#000" flood-opacity="0.1"/>\r\n    </filter>\r\n  </defs>\r\n  <!-- Background -->\r\n  <rect width="100%" height="100%" fill="url(#bgGrad)" rx="160"/>\r\n  <!-- Rounded square with border -->\r\n  <rect x="152" y="152" width="720" height="720" rx="160" fill="#fff" filter="url(#shadow)" stroke="url(#borderGrad)" stroke-width="20"/>\r\n  <!-- Larger inner gradient circle -->\r\n  <circle cx="512" cy="512" r="280" fill="url(#iconGrad)" opacity="0.3" />\r\n  <!-- Slightly larger Play triangle -->\r\n  <polygon points="420,392 640,512 420,632" fill="#fff" opacity="0.92" stroke="url(#borderGrad)" stroke-width="15" />\r\n</svg>';},"5bea8dfc":function(e,t,i){i.d(t,"__esModule",{value:!0}),i.e(t,{ensureSvgSize:function(){return c;},extractSize:function(){return d;},formatXML:function(){return s;},handleDownload:function(){return o;},loadSettings:function(){return a;},saveSettings:function(){return n;}});let r="svg_viewer_settings",l={highlightBorder:!1,highlightArea:!0,lockRatio:!1,uploadStack:!0,optimizeBeforePrettify:!1},n=e=>{localStorage.setItem(r,JSON.stringify(e));},a=()=>{try{let e=localStorage.getItem(r);return e?{...l,...JSON.parse(e)}:l;}catch{return l;}},o=(e,t,i)=>{let r=new Blob([e],{type:i}),l=document.createElement("a");l.href=URL.createObjectURL(r),l.download=t,l.click(),URL.revokeObjectURL(l.href);},s=e=>{let t=(e=(e=e.replace(/>\s+</g,"><").replace(/\r|\n/g,"").trim()).replace(/(>)(<)(\/*)/g,"$1\n$2$3")).split("\n"),i=0,r=[];return t.forEach(e=>{e.match(/^<\/\w/)&&i--;let t="  ".repeat(i),l=t+e.trim();l.match(/^<\w.*\s+\w+=/)&&(l=l.replace(/(\s+\w+=)/g,"\n"+t+"  $1")),r.push(l),e.match(/^<\w[^>]*[^/]>$/)&&i++;}),r.join("\n").trim();},d=(e,t)=>{let i=e.match(/<svg[^>]*>/i);if(!i){t({width:"",height:""});return;}let r=i[0],l=r.match(/width="([^"]+)"/),n=r.match(/height="([^"]+)"/);t({width:l?l[1]:"",height:n?n[1]:""});},c=(e,t=128,i=128)=>{let r=e.match(/<svg[^>]*>/i);if(!r)return e;let l=r[0],n=/\bwidth\s*=/.test(l),a=/\bheight\s*=/.test(l);if(n&&a)return e;let o=l.replace(/>$/,` width="${t}" height="${i}">`);return e.replace(l,o);};}}]);
//# sourceMappingURL=42fa4e67-async.ad44e6bb.js.map