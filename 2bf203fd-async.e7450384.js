(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["2bf203fd"],{d1a0134f:function(e,a,t){t.d(a,"__esModule",{value:!0}),t.e(a,{default:function(){return ez;}});var l=t("777fffbe"),c=t("852bbaa9"),s=t("1a7c85b4"),n=t("b2ef07e9"),d=l._(n),i=t("1ee4d6ad"),r=l._(i),o=t("84cd549f"),u=l._(o),f=t("07d5c3d6"),h=l._(f),m=t("36ede29e"),g=l._(m),x=t("ab7a20df"),p=l._(x),j=t("d2d0b3b6"),b=l._(j),v=t("d322be42"),y=c._(v),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"},w=t("85c4e0d9"),z=l._(w),N=y.forwardRef(function(e,a){return y.createElement(z.default,(0,b.default)((0,b.default)({},e),{},{ref:a,icon:_}));}),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 384h56c4.4 0 8-3.6 8-8V200h176c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-37.6 0-68 30.4-68 68v180c0 4.4 3.6 8 8 8zm512-184h176v176c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V196c0-37.6-30.4-68-68-68H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM376 824H200V648c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v180c0 37.6 30.4 68 68 68h180c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm512-184h-56c-4.4 0-8 3.6-8 8v176H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h180c37.6 0 68-30.4 68-68V648c0-4.4-3.6-8-8-8zm16-164H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"scan",theme:"outlined"},E=y.forwardRef(function(e,a){return y.createElement(z.default,(0,b.default)((0,b.default)({},e),{},{ref:a,icon:S}));}),R=t("adbfb03b"),M=l._(R),C=t("b2a1469e"),U=l._(C),L=t("e9bcd22d"),k=l._(L),T=t("e2967699"),I=l._(T),D=t("1353d6cc"),H=l._(D),V=t("4bff2451"),O=l._(V),A=t("1ffd224b"),P=l._(A),B=t("cb3849a3"),F=l._(B),J=t("a5512054"),G=l._(J),X=t("3eb6f542"),$=l._(X),q=t("ea21718c"),K=l._(q),Q=t("6caefff4"),W=l._(Q),Y=t("5d5723f8"),Z=l._(Y),ee=t("d4a32650"),ea=l._(ee),et=t("6effc0fd"),el=l._(et),ec=t("34f06567"),es=l._(ec),en=t("c9d8dc0b"),ed=l._(en),ei=t("13dfe186"),er=l._(ei),eo=t("85d53cee"),eu=l._(eo);async function ef(e,a){let{maxWidth:t=2e3,maxHeight:l=2e3,contrastBoost:c=1.2,threshold:s=150}=a||{},n=[],d=new Image;d.src=URL.createObjectURL(e),await new Promise((e,a)=>{d.onload=()=>e(),d.onerror=e=>a(e);});let i=d.width,r=d.height,o=Math.min(1,t/i,l/r);i=Math.round(i*o),r=Math.round(r*o);let u=document.createElement("canvas");u.width=i,u.height=r;let f=u.getContext("2d");f.drawImage(d,0,0,i,r),n.push(u.toDataURL("image/png")),n.push(u.toDataURL("image/png"));let h=f.getImageData(0,0,i,r),m=h.data;for(let e=0;e<m.length;e+=4){let a=.299*m[e]+.587*m[e+1]+.114*m[e+2],t=(a=Math.min(255,a*c))<s?0:255;m[e]=m[e+1]=m[e+2]=t;}f.putImageData(h,0,0),n.push(u.toDataURL("image/png"));let g=f.getImageData(0,0,i,r),x=g.data,p=i,j=r,b=new Uint8ClampedArray(x);for(let e=1;e<j-1;e++)for(let a=1;a<p-1;a++)for(let t=0;t<3;t++){let l=(e*p+a)*4+t,c=5*b[l]-b[l-4]-b[l+4]-b[l-4*p]-b[l+4*p];x[l]=Math.min(255,Math.max(0,c));}return f.putImageData(g,0,0),n.push(u.toDataURL("image/png")),{steps:n,finalBlob:await new Promise((e,a)=>{u.toBlob(t=>{t?e(t):a(Error("Failed to convert canvas to blob"));},"image/png",1);})};}var eh=t("d14fd15c"),em=l._(eh);let eg="image_to_text_settings",ex={language:["eng","vie"],upscaleMode:"manual",textEnhancement:!0},ep=e=>{localStorage.setItem(eg,JSON.stringify(e));},ej=()=>{try{let e=localStorage.getItem(eg);return e?{...ex,...JSON.parse(e)}:ex;}catch{return ex;}},eb=e=>{let a=new Blob([e||""],{type:"text/plain"}),t=URL.createObjectURL(a),l=document.createElement("a");l.download="extracted-text.txt",l.href=t,l.click();},ev=async(e,a,t,l,c)=>{if(!e)return ed.default.warning("Please upload an image first."),null;t(!0);try{let t;let s=ej(),n=[];if(s.textEnhancement){let a=await ef(e);n=a.steps,t=a.finalBlob,c(n);}else t=e,c([URL.createObjectURL(e)]);let d=await em.default.recognize(t,l.join("+"),{logger:e=>console.log(e)});return a(d.data.text),d.data;}catch(e){throw console.error(e),ed.default.error("Failed to extract text"),e;}finally{t(!1);}},{Title:ey,Text:e_}=el.default,{Dragger:ew}=es.default,ez=()=>{let[e,a]=(0,y.useState)(!1),t=(0,y.useRef)(0),[l,c]=(0,y.useState)(null),[n,i]=(0,y.useState)(""),[o,f]=(0,y.useState)(""),[m,x]=(0,y.useState)(!1),[j,b]=(0,y.useState)(null),[v,_]=(0,y.useState)([]),[w,z]=(0,y.useState)(["eng"]),[S,R]=(0,y.useState)(!0);(0,y.useEffect)(()=>{let e=ej();z(e.language||["eng"]),R(e.textEnhancement??!0);},[]),(0,y.useEffect)(()=>{ep({...ej(),language:w,textEnhancement:S});},[w,S]),(0,y.useEffect)(()=>()=>{n&&URL.revokeObjectURL(n),v.forEach(e=>URL.revokeObjectURL(e));},[n,v]);let C=e=>(c(e),f(""),b(null),_([]),i(URL.createObjectURL(e)),!1),L=async()=>{if(l){x(!0),b(null);try{let e=ej();ep({...e,language:w,textEnhancement:S});let a=await ev(l,f,x,w,_);a&&a.confidence&&(b(a.confidence),ed.default.success(`Text extracted with ${Math.round(a.confidence)}% confidence!`));}catch(e){}}};return(0,s.jsxs)(er.default,{setDragging:a,dragCounter:t,handleUpload:C,children:[(0,s.jsx)("div",{className:"ocr-container",children:(0,s.jsxs)(k.default,{className:"ocr-card",bordered:!1,children:[(0,s.jsxs)("div",{className:"header-section",children:[(0,s.jsxs)(ey,{level:2,style:{margin:0},children:[(0,s.jsx)(E,{})," Image to Text (OCR)"]}),(0,s.jsx)(e_,{type:"secondary",children:"Extract text from images with high accuracy using advanced OCR."})]}),(0,s.jsxs)(G.default,{gutter:[32,32],className:"main-content",children:[(0,s.jsx)(I.default,{xs:24,lg:12,className:"input-column",children:(0,s.jsxs)(k.default,{title:(0,s.jsxs)(K.default,{children:[(0,s.jsx)(g.default,{})," Source Image"]}),bordered:!1,className:"inner-card",children:[n?(0,s.jsxs)("div",{className:"image-preview-wrapper",children:[(0,s.jsx)(P.default,{src:n,alt:"preview",className:"preview-image"}),(0,s.jsx)("div",{className:"image-actions",children:(0,s.jsx)(U.default,{danger:!0,icon:(0,s.jsx)(u.default,{}),onClick:()=>{c(null),i(""),f(""),b(null),_([]);},size:"small",children:"Remove"})})]}):(0,s.jsxs)(ew,{accept:"image/*",showUploadList:!1,beforeUpload:C,className:"custom-dragger",children:[(0,s.jsx)("p",{className:"ant-upload-drag-icon",children:(0,s.jsx)(d.default,{})}),(0,s.jsx)("p",{className:"ant-upload-text",children:"Click or drag image to this area to upload"}),(0,s.jsx)("p",{className:"ant-upload-hint",children:"Support for a single upload. Strictly prohibit from uploading company data or other band files"})]}),(0,s.jsx)(H.default,{orientation:"left",children:"Settings"}),(0,s.jsxs)(K.default,{direction:"vertical",style:{width:"100%"},size:"middle",children:[(0,s.jsxs)("div",{className:"setting-row",children:[(0,s.jsxs)(K.default,{children:[(0,s.jsx)(N,{}),(0,s.jsx)(e_,{children:"Language"})]}),(0,s.jsx)($.default,{mode:"multiple",value:w,onChange:z,style:{width:200},options:[{label:"English",value:"eng"},{label:"Vietnamese",value:"vie"},{label:"Spanish",value:"spa"},{label:"French",value:"fra"},{label:"German",value:"deu"},{label:"Chinese (Simplified)",value:"chi_sim"},{label:"Japanese",value:"jpn"}]})]}),(0,s.jsxs)("div",{className:"setting-row",children:[(0,s.jsxs)(K.default,{children:[(0,s.jsx)(M.default,{}),(0,s.jsx)(e_,{children:"Auto Enhancement"}),(0,s.jsx)(ea.default,{title:"Automatically improves contrast and sharpness for better accuracy",children:(0,s.jsx)(e_,{type:"secondary",style:{fontSize:12},children:"(?)"})})]}),(0,s.jsx)(Z.default,{checked:S,onChange:R})]}),(0,s.jsx)(U.default,{type:"primary",size:"large",icon:(0,s.jsx)(E,{}),block:!0,onClick:L,loading:m,disabled:!l,className:"process-btn",children:m?"Processing...":"Extract Text"})]})]})}),(0,s.jsxs)(I.default,{xs:24,lg:12,className:"output-column",children:[(0,s.jsx)(k.default,{title:(0,s.jsxs)(K.default,{children:[(0,s.jsx)(p.default,{})," Extracted Text"]}),bordered:!1,className:"inner-card",extra:o&&(0,s.jsxs)(K.default,{children:[(0,s.jsx)(U.default,{type:"text",icon:(0,s.jsx)(r.default,{}),onClick:()=>{o&&(navigator.clipboard.writeText(o),ed.default.success("Copied to clipboard!"));},children:"Copy"}),(0,s.jsx)(U.default,{type:"text",icon:(0,s.jsx)(h.default,{}),onClick:()=>eb(o),children:"Download"})]}),children:m?(0,s.jsxs)("div",{className:"loading-state",children:[(0,s.jsx)(W.default,{size:"large",tip:"Analyzing image..."}),(0,s.jsx)(e_,{type:"secondary",style:{marginTop:16},children:"This might take a few seconds depending on image complexity..."})]}):o?(0,s.jsxs)("div",{className:"result-container",children:[null!==j&&(0,s.jsxs)("div",{className:"confidence-meter",children:[(0,s.jsx)(e_,{type:"secondary",style:{fontSize:12},children:"Confidence Score"}),(0,s.jsx)(F.default,{percent:Math.round(j),size:"small",status:j>80?"success":j>50?"normal":"exception"})]}),(0,s.jsx)("div",{className:"text-content",children:o})]}):(0,s.jsx)(O.default,{image:O.default.PRESENTED_IMAGE_SIMPLE,description:"No text extracted yet"})}),v.length>1&&(0,s.jsxs)("div",{style:{marginTop:24},children:[(0,s.jsx)(e_,{type:"secondary",style:{fontSize:12},children:"Processed Image Debug:"}),(0,s.jsx)("div",{style:{display:"flex",gap:8,marginTop:8,overflowX:"auto"},children:v.map((e,a)=>(0,s.jsx)(P.default,{src:e,width:80,height:80,style:{objectFit:"cover",borderRadius:4}},a))})]})]})]})]})}),e&&(0,s.jsx)(eu.default,{})]});};}}]);
//# sourceMappingURL=2bf203fd-async.e7450384.js.map