{"version":3,"sources":["src/pages/DeviceTest/KeyboardTest.tsx","node_modules/@ant-design/icons-svg/es/asn/CameraOutlined.js","node_modules/@ant-design/icons/es/icons/CameraOutlined.js","src/pages/DeviceTest/CameraTest.tsx","node_modules/@ant-design/icons-svg/es/asn/AudioOutlined.js","node_modules/@ant-design/icons/es/icons/AudioOutlined.js","src/pages/DeviceTest/MicrophoneTest.tsx","src/pages/DeviceTest/HeadphoneTest.tsx","src/pages/DeviceTest/GamepadTest.tsx","src/pages/DeviceTest/index.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Badge, Card, Col, Row, Segmented, Switch, Tooltip } from 'antd';\n\n// ─── Key definition ────────────────────────────────────────────────────────\ninterface KeyDef {\n  code: string;\n  label: string;\n  subLabel?: string; // top label (e.g. shift symbol)\n  width?: number;\n  height?: number;\n}\n\ntype KeyRow = KeyDef[];\n\n// ─── Layout computation ────────────────────────────────────────────────────\nconst KEY_SIZE = 48;\nconst KEY_GAP = 4;\nconst CELL = KEY_SIZE + KEY_GAP; // 52\n\ninterface RenderedKey {\n  code: string;\n  label: string;\n  subLabel?: string;\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n}\n\nfunction computeKeyPositions(layout: KeyRow[]) {\n  const keys: RenderedKey[] = [];\n  let maxX = 0;\n\n  layout.forEach((row, ri) => {\n    let x = 0;\n    const y = ri * CELL;\n\n    row.forEach((kd) => {\n      if (kd.code.startsWith('_gap')) {\n        x += (kd.width ?? 1) * CELL;\n        return;\n      }\n      const wu = kd.width ?? 1;\n      const hu = kd.height ?? 1;\n      const w = wu * CELL - KEY_GAP;\n      const h = hu * CELL - KEY_GAP;\n      keys.push({ code: kd.code, label: kd.label, subLabel: kd.subLabel, x, y, w, h });\n      x += wu * CELL;\n    });\n\n    maxX = Math.max(maxX, x - KEY_GAP);\n  });\n\n  return { keys, width: maxX, height: layout.length * CELL - KEY_GAP };\n}\n\nconst WIN_DESKTOP_LAYOUT: KeyRow[] = [\n  // Function row — gaps tuned so PrtSc/ScrLk/Pause align with Ins/Home/PgUp\n  [\n    { code: 'Escape', label: 'Esc' },\n    { code: '_gap1', label: '', width: 1 },\n    { code: 'F1', label: 'F1' },\n    { code: 'F2', label: 'F2' },\n    { code: 'F3', label: 'F3' },\n    { code: 'F4', label: 'F4' },\n    { code: '_gap2', label: '', width: 0.5 },\n    { code: 'F5', label: 'F5' },\n    { code: 'F6', label: 'F6' },\n    { code: 'F7', label: 'F7' },\n    { code: 'F8', label: 'F8' },\n    { code: '_gap3', label: '', width: 0.5 },\n    { code: 'F9', label: 'F9' },\n    { code: 'F10', label: 'F10' },\n    { code: 'F11', label: 'F11' },\n    { code: 'F12', label: 'F12' },\n    { code: '_gap4', label: '', width: 0.25 },\n    { code: 'PrintScreen', label: 'PrtSc' },\n    { code: 'ScrollLock', label: 'ScrLk' },\n    { code: 'Pause', label: 'Pause' },\n  ],\n  // Number row\n  [\n    { code: 'Backquote', label: '`', subLabel: '~' },\n    { code: 'Digit1', label: '1', subLabel: '!' },\n    { code: 'Digit2', label: '2', subLabel: '@' },\n    { code: 'Digit3', label: '3', subLabel: '#' },\n    { code: 'Digit4', label: '4', subLabel: '$' },\n    { code: 'Digit5', label: '5', subLabel: '%' },\n    { code: 'Digit6', label: '6', subLabel: '^' },\n    { code: 'Digit7', label: '7', subLabel: '&' },\n    { code: 'Digit8', label: '8', subLabel: '*' },\n    { code: 'Digit9', label: '9', subLabel: '(' },\n    { code: 'Digit0', label: '0', subLabel: ')' },\n    { code: 'Minus', label: '-', subLabel: '_' },\n    { code: 'Equal', label: '=', subLabel: '+' },\n    { code: 'Backspace', label: 'Backspace', width: 2 },\n    { code: '_gap5', label: '', width: 0.25 },\n    { code: 'Insert', label: 'Ins' },\n    { code: 'Home', label: 'Home' },\n    { code: 'PageUp', label: 'PgUp' },\n    { code: '_gap6', label: '', width: 0.25 },\n    { code: 'NumLock', label: 'Num' },\n    { code: 'NumpadDivide', label: '/' },\n    { code: 'NumpadMultiply', label: '*' },\n    { code: 'NumpadSubtract', label: '-' },\n  ],\n  // QWERTY row\n  [\n    { code: 'Tab', label: 'Tab', width: 1.5 },\n    { code: 'KeyQ', label: 'Q' },\n    { code: 'KeyW', label: 'W' },\n    { code: 'KeyE', label: 'E' },\n    { code: 'KeyR', label: 'R' },\n    { code: 'KeyT', label: 'T' },\n    { code: 'KeyY', label: 'Y' },\n    { code: 'KeyU', label: 'U' },\n    { code: 'KeyI', label: 'I' },\n    { code: 'KeyO', label: 'O' },\n    { code: 'KeyP', label: 'P' },\n    { code: 'BracketLeft', label: '[', subLabel: '{' },\n    { code: 'BracketRight', label: ']', subLabel: '}' },\n    { code: 'Backslash', label: '\\\\', subLabel: '|', width: 1.5 },\n    { code: '_gap7', label: '', width: 0.25 },\n    { code: 'Delete', label: 'Del' },\n    { code: 'End', label: 'End' },\n    { code: 'PageDown', label: 'PgDn' },\n    { code: '_gap8', label: '', width: 0.25 },\n    { code: 'Numpad7', label: '7' },\n    { code: 'Numpad8', label: '8' },\n    { code: 'Numpad9', label: '9' },\n    { code: 'NumpadAdd', label: '+', height: 2 },\n  ],\n  // Home row\n  [\n    { code: 'CapsLock', label: 'Caps', width: 1.75 },\n    { code: 'KeyA', label: 'A' },\n    { code: 'KeyS', label: 'S' },\n    { code: 'KeyD', label: 'D' },\n    { code: 'KeyF', label: 'F' },\n    { code: 'KeyG', label: 'G' },\n    { code: 'KeyH', label: 'H' },\n    { code: 'KeyJ', label: 'J' },\n    { code: 'KeyK', label: 'K' },\n    { code: 'KeyL', label: 'L' },\n    { code: 'Semicolon', label: ';', subLabel: ':' },\n    { code: 'Quote', label: \"'\", subLabel: '\"' },\n    { code: 'Enter', label: 'Enter', width: 2.25 },\n    { code: '_gap9', label: '', width: 3.5 },\n    { code: 'Numpad4', label: '4' },\n    { code: 'Numpad5', label: '5' },\n    { code: 'Numpad6', label: '6' },\n  ],\n  // Shift row\n  [\n    { code: 'ShiftLeft', label: 'Shift', width: 2.25 },\n    { code: 'KeyZ', label: 'Z' },\n    { code: 'KeyX', label: 'X' },\n    { code: 'KeyC', label: 'C' },\n    { code: 'KeyV', label: 'V' },\n    { code: 'KeyB', label: 'B' },\n    { code: 'KeyN', label: 'N' },\n    { code: 'KeyM', label: 'M' },\n    { code: 'Comma', label: ',', subLabel: '<' },\n    { code: 'Period', label: '.', subLabel: '>' },\n    { code: 'Slash', label: '/', subLabel: '?' },\n    { code: 'ShiftRight', label: 'Shift', width: 2.75 },\n    { code: '_gap10', label: '', width: 1.25 },\n    { code: 'ArrowUp', label: '↑' },\n    { code: '_gap11', label: '', width: 1.25 },\n    { code: 'Numpad1', label: '1' },\n    { code: 'Numpad2', label: '2' },\n    { code: 'Numpad3', label: '3' },\n    { code: 'NumpadEnter', label: 'Ent', height: 2 },\n  ],\n  // Bottom row\n  [\n    { code: 'ControlLeft', label: 'Ctrl', width: 1.25 },\n    { code: 'MetaLeft', label: 'Win', width: 1.25 },\n    { code: 'AltLeft', label: 'Alt', width: 1.25 },\n    { code: 'Space', label: '', width: 6.25 },\n    { code: 'AltRight', label: 'Alt', width: 1.25 },\n    { code: 'MetaRight', label: 'Win', width: 1.25 },\n    { code: 'ContextMenu', label: 'Menu', width: 1.25 },\n    { code: 'ControlRight', label: 'Ctrl', width: 1.25 },\n    { code: '_gap12', label: '', width: 0.25 },\n    { code: 'ArrowLeft', label: '←' },\n    { code: 'ArrowDown', label: '↓' },\n    { code: 'ArrowRight', label: '→' },\n    { code: '_gap13', label: '', width: 0.25 },\n    { code: 'Numpad0', label: '0', width: 2 },\n    { code: 'NumpadDecimal', label: '.' },\n  ],\n];\n\nconst MAC_DESKTOP_LAYOUT: KeyRow[] = [\n  [\n    { code: 'Escape', label: 'Esc' },\n    { code: '_gap1', label: '', width: 1 },\n    { code: 'F1', label: 'F1' },\n    { code: 'F2', label: 'F2' },\n    { code: 'F3', label: 'F3' },\n    { code: 'F4', label: 'F4' },\n    { code: '_gap2', label: '', width: 0.5 },\n    { code: 'F5', label: 'F5' },\n    { code: 'F6', label: 'F6' },\n    { code: 'F7', label: 'F7' },\n    { code: 'F8', label: 'F8' },\n    { code: '_gap3', label: '', width: 0.5 },\n    { code: 'F9', label: 'F9' },\n    { code: 'F10', label: 'F10' },\n    { code: 'F11', label: 'F11' },\n    { code: 'F12', label: 'F12' },\n  ],\n  [\n    { code: 'Backquote', label: '`', subLabel: '~' },\n    { code: 'Digit1', label: '1', subLabel: '!' },\n    { code: 'Digit2', label: '2', subLabel: '@' },\n    { code: 'Digit3', label: '3', subLabel: '#' },\n    { code: 'Digit4', label: '4', subLabel: '$' },\n    { code: 'Digit5', label: '5', subLabel: '%' },\n    { code: 'Digit6', label: '6', subLabel: '^' },\n    { code: 'Digit7', label: '7', subLabel: '&' },\n    { code: 'Digit8', label: '8', subLabel: '*' },\n    { code: 'Digit9', label: '9', subLabel: '(' },\n    { code: 'Digit0', label: '0', subLabel: ')' },\n    { code: 'Minus', label: '-', subLabel: '_' },\n    { code: 'Equal', label: '=', subLabel: '+' },\n    { code: 'Backspace', label: 'Delete', width: 1.5 },\n  ],\n  [\n    { code: 'Tab', label: 'Tab', width: 1.5 },\n    { code: 'KeyQ', label: 'Q' },\n    { code: 'KeyW', label: 'W' },\n    { code: 'KeyE', label: 'E' },\n    { code: 'KeyR', label: 'R' },\n    { code: 'KeyT', label: 'T' },\n    { code: 'KeyY', label: 'Y' },\n    { code: 'KeyU', label: 'U' },\n    { code: 'KeyI', label: 'I' },\n    { code: 'KeyO', label: 'O' },\n    { code: 'KeyP', label: 'P' },\n    { code: 'BracketLeft', label: '[', subLabel: '{' },\n    { code: 'BracketRight', label: ']', subLabel: '}' },\n    { code: 'Backslash', label: '\\\\', subLabel: '|', width: 1.5 },\n  ],\n  [\n    { code: 'CapsLock', label: 'Caps', width: 1.75 },\n    { code: 'KeyA', label: 'A' },\n    { code: 'KeyS', label: 'S' },\n    { code: 'KeyD', label: 'D' },\n    { code: 'KeyF', label: 'F' },\n    { code: 'KeyG', label: 'G' },\n    { code: 'KeyH', label: 'H' },\n    { code: 'KeyJ', label: 'J' },\n    { code: 'KeyK', label: 'K' },\n    { code: 'KeyL', label: 'L' },\n    { code: 'Semicolon', label: ';', subLabel: ':' },\n    { code: 'Quote', label: \"'\", subLabel: '\"' },\n    { code: 'Enter', label: 'Return', width: 2.25 },\n  ],\n  [\n    { code: 'ShiftLeft', label: 'Shift', width: 2.25 },\n    { code: 'KeyZ', label: 'Z' },\n    { code: 'KeyX', label: 'X' },\n    { code: 'KeyC', label: 'C' },\n    { code: 'KeyV', label: 'V' },\n    { code: 'KeyB', label: 'B' },\n    { code: 'KeyN', label: 'N' },\n    { code: 'KeyM', label: 'M' },\n    { code: 'Comma', label: ',', subLabel: '<' },\n    { code: 'Period', label: '.', subLabel: '>' },\n    { code: 'Slash', label: '/', subLabel: '?' },\n    { code: 'ShiftRight', label: 'Shift', width: 2.75 },\n  ],\n  [\n    { code: 'Fn', label: 'Fn', width: 1 },\n    { code: 'ControlLeft', label: '⌃', width: 1.25 },\n    { code: 'AltLeft', label: '⌥', width: 1.25 },\n    { code: 'MetaLeft', label: '⌘', width: 1.5 },\n    { code: 'Space', label: '', width: 5 },\n    { code: 'MetaRight', label: '⌘', width: 1.5 },\n    { code: 'AltRight', label: '⌥', width: 1.25 },\n    { code: 'ArrowLeft', label: '←' },\n    { code: 'ArrowDown', label: '↓' },\n    { code: 'ArrowUp', label: '↑' },\n    { code: 'ArrowRight', label: '→' },\n  ],\n];\n\n// ─── 80% TKL layout (no numpad) ────────────────────────────────────────────\nconst WIN_TKL_LAYOUT: KeyRow[] = [\n  // Function row\n  [\n    { code: 'Escape', label: 'Esc' },\n    { code: '_gap1', label: '', width: 1 },\n    { code: 'F1', label: 'F1' },\n    { code: 'F2', label: 'F2' },\n    { code: 'F3', label: 'F3' },\n    { code: 'F4', label: 'F4' },\n    { code: '_gap2', label: '', width: 0.5 },\n    { code: 'F5', label: 'F5' },\n    { code: 'F6', label: 'F6' },\n    { code: 'F7', label: 'F7' },\n    { code: 'F8', label: 'F8' },\n    { code: '_gap3', label: '', width: 0.5 },\n    { code: 'F9', label: 'F9' },\n    { code: 'F10', label: 'F10' },\n    { code: 'F11', label: 'F11' },\n    { code: 'F12', label: 'F12' },\n    { code: '_gap4', label: '', width: 0.25 },\n    { code: 'PrintScreen', label: 'PrtSc' },\n    { code: 'ScrollLock', label: 'ScrLk' },\n    { code: 'Pause', label: 'Pause' },\n  ],\n  [\n    { code: 'Backquote', label: '`', subLabel: '~' },\n    { code: 'Digit1', label: '1', subLabel: '!' },\n    { code: 'Digit2', label: '2', subLabel: '@' },\n    { code: 'Digit3', label: '3', subLabel: '#' },\n    { code: 'Digit4', label: '4', subLabel: '$' },\n    { code: 'Digit5', label: '5', subLabel: '%' },\n    { code: 'Digit6', label: '6', subLabel: '^' },\n    { code: 'Digit7', label: '7', subLabel: '&' },\n    { code: 'Digit8', label: '8', subLabel: '*' },\n    { code: 'Digit9', label: '9', subLabel: '(' },\n    { code: 'Digit0', label: '0', subLabel: ')' },\n    { code: 'Minus', label: '-', subLabel: '_' },\n    { code: 'Equal', label: '=', subLabel: '+' },\n    { code: 'Backspace', label: 'Backspace', width: 2 },\n    { code: '_gap5', label: '', width: 0.25 },\n    { code: 'Insert', label: 'Ins' },\n    { code: 'Home', label: 'Home' },\n    { code: 'PageUp', label: 'PgUp' },\n  ],\n  [\n    { code: 'Tab', label: 'Tab', width: 1.5 },\n    { code: 'KeyQ', label: 'Q' },\n    { code: 'KeyW', label: 'W' },\n    { code: 'KeyE', label: 'E' },\n    { code: 'KeyR', label: 'R' },\n    { code: 'KeyT', label: 'T' },\n    { code: 'KeyY', label: 'Y' },\n    { code: 'KeyU', label: 'U' },\n    { code: 'KeyI', label: 'I' },\n    { code: 'KeyO', label: 'O' },\n    { code: 'KeyP', label: 'P' },\n    { code: 'BracketLeft', label: '[', subLabel: '{' },\n    { code: 'BracketRight', label: ']', subLabel: '}' },\n    { code: 'Backslash', label: '\\\\', subLabel: '|', width: 1.5 },\n    { code: '_gap7', label: '', width: 0.25 },\n    { code: 'Delete', label: 'Del' },\n    { code: 'End', label: 'End' },\n    { code: 'PageDown', label: 'PgDn' },\n  ],\n  [\n    { code: 'CapsLock', label: 'Caps', width: 1.75 },\n    { code: 'KeyA', label: 'A' },\n    { code: 'KeyS', label: 'S' },\n    { code: 'KeyD', label: 'D' },\n    { code: 'KeyF', label: 'F' },\n    { code: 'KeyG', label: 'G' },\n    { code: 'KeyH', label: 'H' },\n    { code: 'KeyJ', label: 'J' },\n    { code: 'KeyK', label: 'K' },\n    { code: 'KeyL', label: 'L' },\n    { code: 'Semicolon', label: ';', subLabel: ':' },\n    { code: 'Quote', label: \"'\", subLabel: '\"' },\n    { code: 'Enter', label: 'Enter', width: 2.25 },\n  ],\n  [\n    { code: 'ShiftLeft', label: 'Shift', width: 2.25 },\n    { code: 'KeyZ', label: 'Z' },\n    { code: 'KeyX', label: 'X' },\n    { code: 'KeyC', label: 'C' },\n    { code: 'KeyV', label: 'V' },\n    { code: 'KeyB', label: 'B' },\n    { code: 'KeyN', label: 'N' },\n    { code: 'KeyM', label: 'M' },\n    { code: 'Comma', label: ',', subLabel: '<' },\n    { code: 'Period', label: '.', subLabel: '>' },\n    { code: 'Slash', label: '/', subLabel: '?' },\n    { code: 'ShiftRight', label: 'Shift', width: 2.75 },\n    { code: '_gap10', label: '', width: 1.25 },\n    { code: 'ArrowUp', label: '↑' },\n  ],\n  [\n    { code: 'ControlLeft', label: 'Ctrl', width: 1.25 },\n    { code: 'MetaLeft', label: 'Win', width: 1.25 },\n    { code: 'AltLeft', label: 'Alt', width: 1.25 },\n    { code: 'Space', label: '', width: 6.25 },\n    { code: 'AltRight', label: 'Alt', width: 1.25 },\n    { code: 'MetaRight', label: 'Win', width: 1.25 },\n    { code: 'ContextMenu', label: 'Menu', width: 1.25 },\n    { code: 'ControlRight', label: 'Ctrl', width: 1.25 },\n    { code: '_gap12', label: '', width: 0.25 },\n    { code: 'ArrowLeft', label: '←' },\n    { code: 'ArrowDown', label: '↓' },\n    { code: 'ArrowRight', label: '→' },\n  ],\n];\n\n// ─── 60% compact layout (no F-row, no nav, no numpad) ──────────────────────\nconst WIN_60_LAYOUT: KeyRow[] = [\n  [\n    { code: 'Backquote', label: '`', subLabel: '~' },\n    { code: 'Digit1', label: '1', subLabel: '!' },\n    { code: 'Digit2', label: '2', subLabel: '@' },\n    { code: 'Digit3', label: '3', subLabel: '#' },\n    { code: 'Digit4', label: '4', subLabel: '$' },\n    { code: 'Digit5', label: '5', subLabel: '%' },\n    { code: 'Digit6', label: '6', subLabel: '^' },\n    { code: 'Digit7', label: '7', subLabel: '&' },\n    { code: 'Digit8', label: '8', subLabel: '*' },\n    { code: 'Digit9', label: '9', subLabel: '(' },\n    { code: 'Digit0', label: '0', subLabel: ')' },\n    { code: 'Minus', label: '-', subLabel: '_' },\n    { code: 'Equal', label: '=', subLabel: '+' },\n    { code: 'Backspace', label: 'Backspace', width: 2 },\n  ],\n  [\n    { code: 'Tab', label: 'Tab', width: 1.5 },\n    { code: 'KeyQ', label: 'Q' },\n    { code: 'KeyW', label: 'W' },\n    { code: 'KeyE', label: 'E' },\n    { code: 'KeyR', label: 'R' },\n    { code: 'KeyT', label: 'T' },\n    { code: 'KeyY', label: 'Y' },\n    { code: 'KeyU', label: 'U' },\n    { code: 'KeyI', label: 'I' },\n    { code: 'KeyO', label: 'O' },\n    { code: 'KeyP', label: 'P' },\n    { code: 'BracketLeft', label: '[', subLabel: '{' },\n    { code: 'BracketRight', label: ']', subLabel: '}' },\n    { code: 'Backslash', label: '\\\\', subLabel: '|', width: 1.5 },\n  ],\n  [\n    { code: 'CapsLock', label: 'Caps', width: 1.75 },\n    { code: 'KeyA', label: 'A' },\n    { code: 'KeyS', label: 'S' },\n    { code: 'KeyD', label: 'D' },\n    { code: 'KeyF', label: 'F' },\n    { code: 'KeyG', label: 'G' },\n    { code: 'KeyH', label: 'H' },\n    { code: 'KeyJ', label: 'J' },\n    { code: 'KeyK', label: 'K' },\n    { code: 'KeyL', label: 'L' },\n    { code: 'Semicolon', label: ';', subLabel: ':' },\n    { code: 'Quote', label: \"'\", subLabel: '\"' },\n    { code: 'Enter', label: 'Enter', width: 2.25 },\n  ],\n  [\n    { code: 'ShiftLeft', label: 'Shift', width: 2.25 },\n    { code: 'KeyZ', label: 'Z' },\n    { code: 'KeyX', label: 'X' },\n    { code: 'KeyC', label: 'C' },\n    { code: 'KeyV', label: 'V' },\n    { code: 'KeyB', label: 'B' },\n    { code: 'KeyN', label: 'N' },\n    { code: 'KeyM', label: 'M' },\n    { code: 'Comma', label: ',', subLabel: '<' },\n    { code: 'Period', label: '.', subLabel: '>' },\n    { code: 'Slash', label: '/', subLabel: '?' },\n    { code: 'ShiftRight', label: 'Shift', width: 2.75 },\n  ],\n  [\n    { code: 'ControlLeft', label: 'Ctrl', width: 1.25 },\n    { code: 'MetaLeft', label: 'Win', width: 1.25 },\n    { code: 'AltLeft', label: 'Alt', width: 1.25 },\n    { code: 'Space', label: '', width: 6.25 },\n    { code: 'AltRight', label: 'Alt', width: 1.25 },\n    { code: 'MetaRight', label: 'Win', width: 1.25 },\n    { code: 'ContextMenu', label: 'Menu', width: 1.25 },\n    { code: 'ControlRight', label: 'Ctrl', width: 1.25 },\n  ],\n];\n\nconst MAC_60_LAYOUT: KeyRow[] = [\n  [\n    { code: 'Backquote', label: '`', subLabel: '~' },\n    { code: 'Digit1', label: '1', subLabel: '!' },\n    { code: 'Digit2', label: '2', subLabel: '@' },\n    { code: 'Digit3', label: '3', subLabel: '#' },\n    { code: 'Digit4', label: '4', subLabel: '$' },\n    { code: 'Digit5', label: '5', subLabel: '%' },\n    { code: 'Digit6', label: '6', subLabel: '^' },\n    { code: 'Digit7', label: '7', subLabel: '&' },\n    { code: 'Digit8', label: '8', subLabel: '*' },\n    { code: 'Digit9', label: '9', subLabel: '(' },\n    { code: 'Digit0', label: '0', subLabel: ')' },\n    { code: 'Minus', label: '-', subLabel: '_' },\n    { code: 'Equal', label: '=', subLabel: '+' },\n    { code: 'Backspace', label: 'Delete', width: 1.5 },\n  ],\n  [\n    { code: 'Tab', label: 'Tab', width: 1.5 },\n    { code: 'KeyQ', label: 'Q' },\n    { code: 'KeyW', label: 'W' },\n    { code: 'KeyE', label: 'E' },\n    { code: 'KeyR', label: 'R' },\n    { code: 'KeyT', label: 'T' },\n    { code: 'KeyY', label: 'Y' },\n    { code: 'KeyU', label: 'U' },\n    { code: 'KeyI', label: 'I' },\n    { code: 'KeyO', label: 'O' },\n    { code: 'KeyP', label: 'P' },\n    { code: 'BracketLeft', label: '[', subLabel: '{' },\n    { code: 'BracketRight', label: ']', subLabel: '}' },\n    { code: 'Backslash', label: '\\\\', subLabel: '|', width: 1.5 },\n  ],\n  [\n    { code: 'CapsLock', label: 'Caps', width: 1.75 },\n    { code: 'KeyA', label: 'A' },\n    { code: 'KeyS', label: 'S' },\n    { code: 'KeyD', label: 'D' },\n    { code: 'KeyF', label: 'F' },\n    { code: 'KeyG', label: 'G' },\n    { code: 'KeyH', label: 'H' },\n    { code: 'KeyJ', label: 'J' },\n    { code: 'KeyK', label: 'K' },\n    { code: 'KeyL', label: 'L' },\n    { code: 'Semicolon', label: ';', subLabel: ':' },\n    { code: 'Quote', label: \"'\", subLabel: '\"' },\n    { code: 'Enter', label: 'Return', width: 2.25 },\n  ],\n  [\n    { code: 'ShiftLeft', label: 'Shift', width: 2.25 },\n    { code: 'KeyZ', label: 'Z' },\n    { code: 'KeyX', label: 'X' },\n    { code: 'KeyC', label: 'C' },\n    { code: 'KeyV', label: 'V' },\n    { code: 'KeyB', label: 'B' },\n    { code: 'KeyN', label: 'N' },\n    { code: 'KeyM', label: 'M' },\n    { code: 'Comma', label: ',', subLabel: '<' },\n    { code: 'Period', label: '.', subLabel: '>' },\n    { code: 'Slash', label: '/', subLabel: '?' },\n    { code: 'ShiftRight', label: 'Shift', width: 2.75 },\n  ],\n  [\n    { code: 'Fn', label: 'Fn', width: 1 },\n    { code: 'ControlLeft', label: '⌃', width: 1.25 },\n    { code: 'AltLeft', label: '⌥', width: 1.25 },\n    { code: 'MetaLeft', label: '⌘', width: 1.5 },\n    { code: 'Space', label: '', width: 5 },\n    { code: 'MetaRight', label: '⌘', width: 1.5 },\n    { code: 'AltRight', label: '⌥', width: 1.25 },\n  ],\n];\n\nfunction getLayout(os: string | number, size: string | number): KeyRow[] {\n  if (os === 'Mac') {\n    return size === '60%' ? MAC_60_LAYOUT : MAC_DESKTOP_LAYOUT;\n  }\n  if (size === '60%') return WIN_60_LAYOUT;\n  if (size === '80%') return WIN_TKL_LAYOUT;\n  return WIN_DESKTOP_LAYOUT;\n}\n\n// Performance history\nconst PERF_HISTORY_SIZE = 60;\n\nconst KeyboardTest: React.FC = () => {\n  // Settings\n  const [layoutSize, setLayoutSize] = useState<string | number>('100%');\n  const [osType, setOsType] = useState<string | number>('Windows');\n  const [kbType, setKbType] = useState<string | number>('Desktop');\n  const [soundOn, setSoundOn] = useState(true);\n\n  // Key tracking\n  const [pressedKeys, setPressedKeys] = useState<Set<string>>(new Set());\n  const [activeKeys, setActiveKeys] = useState<Set<string>>(new Set());\n  const [totalPresses, setTotalPresses] = useState(0);\n  const [keyCounts, setKeyCounts] = useState<Record<string, number>>({});\n  const [lastKeyCode, setLastKeyCode] = useState<string>('-');\n  const [lastInterval, setLastInterval] = useState<string>('-');\n  const [typedText, setTypedText] = useState('');\n\n  // Performance\n  const [cps, setCps] = useState(0);\n  const [apm, setApm] = useState(0);\n  const [perfHistory, setPerfHistory] = useState<number[]>(new Array(PERF_HISTORY_SIZE).fill(0));\n  const pressTimestamps = useRef<number[]>([]);\n  const lastPressTime = useRef<number>(0);\n  const perfCanvasRef = useRef<HTMLCanvasElement>(null);\n\n  const containerRef = useRef<HTMLDivElement>(null);\n  const audioCtxRef = useRef<AudioContext | null>(null);\n\n  // Sound effect\n  const playClickSound = useCallback(() => {\n    if (!soundOn) return;\n    try {\n      if (!audioCtxRef.current) {\n        audioCtxRef.current = new AudioContext();\n      }\n      const ctx = audioCtxRef.current;\n      const osc = ctx.createOscillator();\n      const gain = ctx.createGain();\n      osc.connect(gain);\n      gain.connect(ctx.destination);\n      osc.frequency.value = 800 + Math.random() * 400;\n      osc.type = 'sine';\n      gain.gain.setValueAtTime(0.03, ctx.currentTime);\n      gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.05);\n      osc.start(ctx.currentTime);\n      osc.stop(ctx.currentTime + 0.05);\n    } catch {\n      // ignore\n    }\n  }, [soundOn]);\n\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n      const code = e.code;\n      const now = performance.now();\n\n      if (lastPressTime.current > 0) {\n        setLastInterval(`${(now - lastPressTime.current).toFixed(1)} ms`);\n      }\n      lastPressTime.current = now;\n      pressTimestamps.current.push(now);\n\n      setActiveKeys((prev) => new Set(prev).add(code));\n      setPressedKeys((prev) => new Set(prev).add(code));\n      setTotalPresses((c) => c + 1);\n      setKeyCounts((prev) => ({ ...prev, [code]: (prev[code] || 0) + 1 }));\n      setLastKeyCode(code);\n\n      // Append printable chars to typed text\n      if (e.key.length === 1) {\n        setTypedText((prev) => prev + e.key);\n      } else if (e.key === 'Backspace') {\n        setTypedText((prev) => prev.slice(0, -1));\n      } else if (e.key === 'Enter') {\n        setTypedText((prev) => prev + '\\n');\n      }\n\n      playClickSound();\n    },\n    [playClickSound],\n  );\n\n  const handleKeyUp = useCallback((e: KeyboardEvent) => {\n    e.preventDefault();\n    setActiveKeys((prev) => {\n      const next = new Set(prev);\n      next.delete(e.code);\n      return next;\n    });\n  }, []);\n\n  // Attach listeners\n  useEffect(() => {\n    const el = containerRef.current;\n    if (!el) return;\n    el.addEventListener('keydown', handleKeyDown);\n    el.addEventListener('keyup', handleKeyUp);\n    return () => {\n      el.removeEventListener('keydown', handleKeyDown);\n      el.removeEventListener('keyup', handleKeyUp);\n    };\n  }, [handleKeyDown, handleKeyUp]);\n\n  useEffect(() => {\n    containerRef.current?.focus();\n  }, []);\n\n  // CPS / APM + perf history (every second)\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const now = performance.now();\n      const oneSecAgo = now - 1000;\n      const sixtySecAgo = now - 60000;\n      const recentPresses = pressTimestamps.current.filter((t) => t > oneSecAgo).length;\n      const minutePresses = pressTimestamps.current.filter((t) => t > sixtySecAgo).length;\n      setCps(recentPresses);\n      setApm(minutePresses);\n      setPerfHistory((prev) => [...prev.slice(1), recentPresses]);\n      pressTimestamps.current = pressTimestamps.current.filter((t) => t > sixtySecAgo);\n    }, 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Draw performance chart\n  useEffect(() => {\n    const canvas = perfCanvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    const w = canvas.width;\n    const h = canvas.height;\n    const maxVal = Math.max(...perfHistory, 5);\n\n    ctx.clearRect(0, 0, w, h);\n\n    // Grid lines\n    ctx.strokeStyle = '#eee';\n    ctx.lineWidth = 1;\n    for (let i = 0; i <= 4; i++) {\n      const y = (h / 4) * i;\n      ctx.beginPath();\n      ctx.moveTo(0, y);\n      ctx.lineTo(w, y);\n      ctx.stroke();\n    }\n\n    // Bars\n    const barWidth = w / PERF_HISTORY_SIZE - 1;\n    perfHistory.forEach((val, i) => {\n      const barH = (val / maxVal) * (h - 4);\n      const x = i * (barWidth + 1);\n      const gradient = ctx.createLinearGradient(x, h - barH, x, h);\n      gradient.addColorStop(0, '#4096ff');\n      gradient.addColorStop(1, '#1677ff');\n      ctx.fillStyle = gradient;\n      ctx.fillRect(x, h - barH, barWidth, barH);\n    });\n  }, [perfHistory]);\n\n  const handleReset = () => {\n    setPressedKeys(new Set());\n    setActiveKeys(new Set());\n    setTotalPresses(0);\n    setKeyCounts({});\n    setLastKeyCode('-');\n    setLastInterval('-');\n    setTypedText('');\n    setCps(0);\n    setApm(0);\n    setPerfHistory(new Array(PERF_HISTORY_SIZE).fill(0));\n    pressTimestamps.current = [];\n    lastPressTime.current = 0;\n    containerRef.current?.focus();\n  };\n\n  const getKeyClass = (code: string) => {\n    if (activeKeys.has(code)) return 'kb-key kb-key--active';\n    if (pressedKeys.has(code)) return 'kb-key kb-key--pressed';\n    return 'kb-key';\n  };\n\n  const layout = useMemo(() => getLayout(osType, layoutSize), [osType, layoutSize]);\n  const layoutInfo = useMemo(() => computeKeyPositions(layout), [layout]);\n  const totalKeys = layout.flat().filter((k) => !k.code.startsWith('_gap')).length;\n\n  // Most pressed key\n  const mostPressed =\n    Object.keys(keyCounts).length > 0\n      ? Object.entries(keyCounts).reduce((a, b) => (b[1] > a[1] ? b : a))\n      : null;\n\n  // Estimated scan rate\n  const scanRate = lastInterval !== '-' ? `${Math.round(1000 / parseFloat(lastInterval))} Hz` : '-';\n\n  return (\n    <div className=\"keyboard-test\" ref={containerRef} tabIndex={0} style={{ outline: 'none' }}>\n      {/* ── Toolbar ─────────────────────────────────────────────── */}\n      <div className=\"kb-toolbar\">\n        <div className=\"kb-toolbar-group\">\n          <span className=\"kb-toolbar-label\">LAYOUT SIZE</span>\n          <Segmented\n            size=\"small\"\n            value={layoutSize}\n            onChange={setLayoutSize}\n            options={['100%', '80%', '60%']}\n          />\n        </div>\n        <div className=\"kb-toolbar-group\">\n          <span className=\"kb-toolbar-label\">OS</span>\n          <Segmented\n            size=\"small\"\n            value={osType}\n            onChange={setOsType}\n            options={['Windows', 'Mac']}\n          />\n        </div>\n        <div className=\"kb-toolbar-group\">\n          <span className=\"kb-toolbar-label\">TYPE</span>\n          <Segmented\n            size=\"small\"\n            value={kbType}\n            onChange={setKbType}\n            options={['Desktop', 'Laptop']}\n          />\n        </div>\n        <div className=\"kb-toolbar-group\">\n          <span className=\"kb-toolbar-label\">SOUND</span>\n          <Switch\n            checked={soundOn}\n            onChange={setSoundOn}\n            checkedChildren=\"On\"\n            unCheckedChildren=\"Off\"\n            size=\"small\"\n          />\n        </div>\n        <div className=\"kb-toolbar-group\">\n          <span className=\"kb-toolbar-label\">ACTION</span>\n          <button className=\"kb-reset-btn\" onClick={handleReset}>\n            Reset\n          </button>\n        </div>\n      </div>\n\n      {/* ── Input Area ──────────────────────────────────────────── */}\n      <div className=\"kb-input-area\">\n        <div className=\"kb-input-text\">\n          {typedText || <span className=\"kb-input-placeholder\">Start typing...</span>}\n          <span className=\"kb-input-cursor\" />\n        </div>\n        <Badge\n          count={`${pressedKeys.size} keys`}\n          showZero\n          style={{\n            backgroundColor: pressedKeys.size === totalKeys ? '#52c41a' : '#1677ff',\n            fontSize: 12,\n          }}\n        />\n      </div>\n\n      {/* ── Keyboard Layout ─────────────────────────────────────── */}\n      <div\n        className=\"kb-layout\"\n        style={{\n          width: layoutInfo.width + 36,\n          height: layoutInfo.height + 36,\n        }}\n      >\n        {layoutInfo.keys.map((rk) => {\n          const count = keyCounts[rk.code] || 0;\n          return (\n            <div\n              key={rk.code}\n              className={getKeyClass(rk.code)}\n              style={{\n                position: 'absolute',\n                left: rk.x + 18,\n                top: rk.y + 18,\n                width: rk.w,\n                height: rk.h,\n              }}\n              title={`${rk.code} (${count})`}\n            >\n              {rk.subLabel && <span className=\"kb-key-sub\">{rk.subLabel}</span>}\n              <span className=\"kb-key-label\">{rk.label}</span>\n              {count > 0 && <span className=\"kb-key-count\">{count}</span>}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* ── Bottom: Stats + Performance Monitor ─────────────────── */}\n      <Row gutter={16} style={{ marginTop: 16 }}>\n        <Col xs={24} md={12}>\n          <Card title=\"Stats\" size=\"small\" className=\"kb-stats-card\">\n            <Row gutter={[16, 16]}>\n              <Col span={12}>\n                <div className=\"kb-stat-item\">\n                  <div className=\"kb-stat-label\">Active Keys</div>\n                  <div className=\"kb-stat-value kb-stat-value--blue\">{activeKeys.size}</div>\n                </div>\n              </Col>\n              <Col span={12}>\n                <div className=\"kb-stat-item\">\n                  <div className=\"kb-stat-label\">Total Presses</div>\n                  <div className=\"kb-stat-value\">{totalPresses}</div>\n                </div>\n              </Col>\n              <Col span={12}>\n                <div className=\"kb-stat-item\">\n                  <div className=\"kb-stat-label\">Most Pressed</div>\n                  <div className=\"kb-stat-value\">\n                    {mostPressed ? `${mostPressed[0]} (${mostPressed[1]})` : '-'}\n                  </div>\n                </div>\n              </Col>\n              <Col span={12}>\n                <div className=\"kb-stat-item\">\n                  <div className=\"kb-stat-label\">Last Key Code</div>\n                  <div className=\"kb-stat-value\">{lastKeyCode}</div>\n                </div>\n              </Col>\n              <Col span={12}>\n                <div className=\"kb-stat-item\">\n                  <div className=\"kb-stat-label\">Est. Scan Rate</div>\n                  <div className=\"kb-stat-value\">{scanRate}</div>\n                </div>\n              </Col>\n              <Col span={12}>\n                <div className=\"kb-stat-item\">\n                  <div className=\"kb-stat-label\">Last Interval</div>\n                  <div className=\"kb-stat-value\">{lastInterval}</div>\n                </div>\n              </Col>\n            </Row>\n          </Card>\n        </Col>\n\n        <Col xs={24} md={12}>\n          <Card\n            title=\"Performance Monitor\"\n            size=\"small\"\n            className=\"kb-perf-card\"\n            extra={\n              <div className=\"kb-perf-badges\">\n                <Tooltip title=\"Characters Per Second — keys pressed in the last 1 second\">\n                  <div className=\"kb-perf-badge\">\n                    <span className=\"kb-perf-badge-label\">CPS</span>\n                    <span className=\"kb-perf-badge-value\">{cps}</span>\n                  </div>\n                </Tooltip>\n                <Tooltip title=\"Actions Per Minute — total key presses in the last 60 seconds\">\n                  <div className=\"kb-perf-badge\">\n                    <span className=\"kb-perf-badge-label\">APM</span>\n                    <span className=\"kb-perf-badge-value\">{apm}</span>\n                  </div>\n                </Tooltip>\n              </div>\n            }\n          >\n            <canvas ref={perfCanvasRef} width={600} height={120} className=\"kb-perf-canvas\" />\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default KeyboardTest;\n","// This icon file is generated automatically.\nvar CameraOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z\" } }] }, \"name\": \"camera\", \"theme\": \"outlined\" };\nexport default CameraOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CameraOutlinedSvg from \"@ant-design/icons-svg/es/asn/CameraOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar CameraOutlined = function CameraOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CameraOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(CameraOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'CameraOutlined';\n}\nexport default RefIcon;","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport {\n  Alert,\n  Button,\n  Card,\n  Col,\n  Descriptions,\n  Row,\n  Select,\n  Space,\n  Switch,\n  Tag,\n  Typography,\n} from 'antd';\nimport {\n  CameraOutlined,\n  DownloadOutlined,\n  PlayCircleOutlined,\n  StopOutlined,\n  SwapOutlined,\n  VideoCameraOutlined,\n} from '@ant-design/icons';\n\nconst { Text, Title } = Typography;\n\nconst CameraTest: React.FC = () => {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null);\n  const chunksRef = useRef<Blob[]>([]);\n\n  const [devices, setDevices] = useState<MediaDeviceInfo[]>([]);\n  const [selectedDevice, setSelectedDevice] = useState<string>('');\n  const [stream, setStream] = useState<MediaStream | null>(null);\n  const [error, setError] = useState<string>('');\n  const [mirrored, setMirrored] = useState(true);\n  const [recording, setRecording] = useState(false);\n  const [recordedUrl, setRecordedUrl] = useState<string>('');\n  const [cameraInfo, setCameraInfo] = useState<Record<string, string>>({});\n  const [fps, setFps] = useState(0);\n  const fpsFrameCount = useRef(0);\n  const fpsLastTime = useRef(performance.now());\n  const animRef = useRef<number>(0);\n\n  // Enumerate video devices\n  const enumerateDevices = useCallback(async () => {\n    try {\n      const allDevices = await navigator.mediaDevices.enumerateDevices();\n      const videoDevices = allDevices.filter((d) => d.kind === 'videoinput');\n      setDevices(videoDevices);\n      if (videoDevices.length > 0 && !selectedDevice) {\n        setSelectedDevice(videoDevices[0].deviceId);\n      }\n    } catch {\n      setError('Unable to enumerate devices');\n    }\n  }, [selectedDevice]);\n\n  // Start camera\n  const startCamera = useCallback(\n    async (deviceId?: string) => {\n      try {\n        if (stream) {\n          stream.getTracks().forEach((t) => t.stop());\n        }\n        setError('');\n        const constraints: MediaStreamConstraints = {\n          video: {\n            deviceId: deviceId ? { exact: deviceId } : undefined,\n            width: { ideal: 1920 },\n            height: { ideal: 1080 },\n          },\n        };\n        const newStream = await navigator.mediaDevices.getUserMedia(constraints);\n        setStream(newStream);\n        if (videoRef.current) {\n          videoRef.current.srcObject = newStream;\n        }\n        // Extract camera info\n        const track = newStream.getVideoTracks()[0];\n        const settings = track.getSettings();\n        const capabilities = track.getCapabilities?.() as any;\n        setCameraInfo({\n          Label: track.label,\n          Resolution: `${settings.width} × ${settings.height}`,\n          'Frame Rate': `${settings.frameRate} fps`,\n          'Facing Mode': settings.facingMode || 'N/A',\n          'Aspect Ratio': settings.aspectRatio?.toFixed(2) || 'N/A',\n          'Max Resolution': capabilities\n            ? `${capabilities.width?.max} × ${capabilities.height?.max}`\n            : 'N/A',\n        });\n      } catch (err: any) {\n        setError(err.message || 'Camera access denied');\n      }\n    },\n    [stream],\n  );\n\n  // FPS counter\n  useEffect(() => {\n    if (!stream || !videoRef.current) return;\n    const video = videoRef.current;\n    const countFps = () => {\n      fpsFrameCount.current++;\n      const now = performance.now();\n      if (now - fpsLastTime.current >= 1000) {\n        setFps(fpsFrameCount.current);\n        fpsFrameCount.current = 0;\n        fpsLastTime.current = now;\n      }\n      animRef.current = requestAnimationFrame(countFps);\n    };\n    video.onplay = () => {\n      animRef.current = requestAnimationFrame(countFps);\n    };\n    return () => cancelAnimationFrame(animRef.current);\n  }, [stream]);\n\n  // Auto-start\n  useEffect(() => {\n    enumerateDevices();\n  }, []);\n\n  // Stop camera on unmount\n  useEffect(() => {\n    return () => {\n      stream?.getTracks().forEach((t) => t.stop());\n      cancelAnimationFrame(animRef.current);\n    };\n  }, [stream]);\n\n  const takeSnapshot = () => {\n    if (!videoRef.current || !canvasRef.current) return;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    const ctx = canvas.getContext('2d')!;\n    if (mirrored) {\n      ctx.translate(canvas.width, 0);\n      ctx.scale(-1, 1);\n    }\n    ctx.drawImage(video, 0, 0);\n    const link = document.createElement('a');\n    link.download = `camera-snapshot-${Date.now()}.png`;\n    link.href = canvas.toDataURL('image/png');\n    link.click();\n  };\n\n  const toggleRecording = () => {\n    if (recording) {\n      mediaRecorderRef.current?.stop();\n      setRecording(false);\n      return;\n    }\n    if (!stream) return;\n    chunksRef.current = [];\n    const mr = new MediaRecorder(stream, { mimeType: 'video/webm' });\n    mr.ondataavailable = (e) => {\n      if (e.data.size > 0) chunksRef.current.push(e.data);\n    };\n    mr.onstop = () => {\n      const blob = new Blob(chunksRef.current, { type: 'video/webm' });\n      setRecordedUrl(URL.createObjectURL(blob));\n    };\n    mr.start();\n    mediaRecorderRef.current = mr;\n    setRecording(true);\n  };\n\n  const downloadRecording = () => {\n    if (!recordedUrl) return;\n    const a = document.createElement('a');\n    a.href = recordedUrl;\n    a.download = `camera-recording-${Date.now()}.webm`;\n    a.click();\n  };\n\n  const handleDeviceChange = (deviceId: string) => {\n    setSelectedDevice(deviceId);\n    startCamera(deviceId);\n  };\n\n  return (\n    <div className=\"camera-test\">\n      <Row gutter={[16, 16]}>\n        <Col xs={24} lg={16}>\n          <Card\n            title={\n              <Space>\n                <VideoCameraOutlined />\n                Camera Preview\n                {stream && <Tag color=\"green\">{fps} FPS</Tag>}\n              </Space>\n            }\n            extra={\n              <Space>\n                <Switch\n                  checkedChildren=\"Mirror\"\n                  unCheckedChildren=\"Normal\"\n                  checked={mirrored}\n                  onChange={setMirrored}\n                />\n              </Space>\n            }\n          >\n            {error && <Alert message={error} type=\"error\" showIcon style={{ marginBottom: 16 }} />}\n\n            <div className=\"camera-preview-wrapper\">\n              <video\n                ref={videoRef}\n                autoPlay\n                playsInline\n                muted\n                className=\"camera-video\"\n                style={{ transform: mirrored ? 'scaleX(-1)' : 'none' }}\n              />\n              {!stream && !error && (\n                <div className=\"camera-placeholder\">\n                  <VideoCameraOutlined style={{ fontSize: 64, opacity: 0.3 }} />\n                  <Text type=\"secondary\" style={{ marginTop: 16 }}>\n                    Click &quot;Start Camera&quot; to begin testing\n                  </Text>\n                </div>\n              )}\n              {recording && <div className=\"recording-indicator\">● REC</div>}\n            </div>\n\n            <canvas ref={canvasRef} style={{ display: 'none' }} />\n\n            <div style={{ marginTop: 16 }}>\n              <Space wrap>\n                <Select\n                  style={{ width: 300 }}\n                  placeholder=\"Select camera\"\n                  value={selectedDevice || undefined}\n                  onChange={handleDeviceChange}\n                  options={devices.map((d) => ({\n                    label: d.label || `Camera ${d.deviceId.slice(0, 8)}`,\n                    value: d.deviceId,\n                  }))}\n                />\n                {!stream ? (\n                  <Button\n                    type=\"primary\"\n                    icon={<PlayCircleOutlined />}\n                    onClick={() => startCamera(selectedDevice)}\n                  >\n                    Start Camera\n                  </Button>\n                ) : (\n                  <Button\n                    danger\n                    icon={<StopOutlined />}\n                    onClick={() => {\n                      stream.getTracks().forEach((t) => t.stop());\n                      setStream(null);\n                      setCameraInfo({});\n                    }}\n                  >\n                    Stop Camera\n                  </Button>\n                )}\n                <Button icon={<CameraOutlined />} onClick={takeSnapshot} disabled={!stream}>\n                  Snapshot\n                </Button>\n                <Button\n                  icon={recording ? <StopOutlined /> : <VideoCameraOutlined />}\n                  onClick={toggleRecording}\n                  disabled={!stream}\n                  danger={recording}\n                >\n                  {recording ? 'Stop Recording' : 'Record'}\n                </Button>\n                {recordedUrl && (\n                  <Button icon={<DownloadOutlined />} onClick={downloadRecording}>\n                    Download Recording\n                  </Button>\n                )}\n              </Space>\n            </div>\n          </Card>\n        </Col>\n\n        <Col xs={24} lg={8}>\n          <Card title=\"Camera Information\" style={{ height: '100%' }}>\n            {Object.keys(cameraInfo).length > 0 ? (\n              <Descriptions column={1} size=\"small\" bordered>\n                {Object.entries(cameraInfo).map(([key, val]) => (\n                  <Descriptions.Item label={key} key={key}>\n                    {val}\n                  </Descriptions.Item>\n                ))}\n              </Descriptions>\n            ) : (\n              <Text type=\"secondary\">Start camera to see device information</Text>\n            )}\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default CameraTest;\n","// This icon file is generated automatically.\nvar AudioOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z\" } }] }, \"name\": \"audio\", \"theme\": \"outlined\" };\nexport default AudioOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport AudioOutlinedSvg from \"@ant-design/icons-svg/es/asn/AudioOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar AudioOutlined = function AudioOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: AudioOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(AudioOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'AudioOutlined';\n}\nexport default RefIcon;","import React, { useEffect, useRef, useState } from 'react';\nimport {\n  Alert,\n  Button,\n  Card,\n  Col,\n  Descriptions,\n  Progress,\n  Row,\n  Select,\n  Slider,\n  Space,\n  Tag,\n  Typography,\n} from 'antd';\nimport {\n  AudioOutlined,\n  DownloadOutlined,\n  PlayCircleOutlined,\n  StopOutlined,\n} from '@ant-design/icons';\n\nconst { Text } = Typography;\n\nconst MicrophoneTest: React.FC = () => {\n  const [devices, setDevices] = useState<MediaDeviceInfo[]>([]);\n  const [selectedDevice, setSelectedDevice] = useState<string>('');\n  const [isActive, setIsActive] = useState(false);\n  const [error, setError] = useState<string>('');\n  const [volume, setVolume] = useState(0);\n  const [peakVolume, setPeakVolume] = useState(0);\n  const [recording, setRecording] = useState(false);\n  const [recordedUrl, setRecordedUrl] = useState<string>('');\n  const [micInfo, setMicInfo] = useState<Record<string, string>>({});\n  const [sensitivity, setSensitivity] = useState(1);\n\n  // ── Refs for all audio objects ────────────────────────────────────────────\n  // We use refs (not state) for the audio pipeline objects so the rAF draw loop\n  // always reads the latest values without stale-closure issues.\n  // If these were state, every setState call inside the loop would re-render the\n  // component and potentially restart the loop or capture outdated values.\n  const streamRef = useRef<MediaStream | null>(null); // raw microphone stream\n  const analyserRef = useRef<AnalyserNode | null>(null); // Web Audio analyser node\n  const audioCtxRef = useRef<AudioContext | null>(null); // Web Audio context\n  const animRef = useRef<number>(0); // rAF handle for cancellation\n  const mediaRecorderRef = useRef<MediaRecorder | null>(null); // for audio recording\n  const chunksRef = useRef<Blob[]>([]); // recorded audio chunks\n  const canvasRef = useRef<HTMLCanvasElement>(null); // visualizer canvas element\n  // sensitivityRef mirrors the sensitivity slider value so the rAF loop can\n  // read the latest value every frame without being recreated on each change.\n  const sensitivityRef = useRef(sensitivity);\n  // peakRef holds the highest volume seen in the current session so we never\n  // need to read React state (which could be stale) inside the loop.\n  const peakRef = useRef(0);\n\n  // Sync sensitivityRef whenever the slider changes — O(1), no loop restart needed\n  useEffect(() => {\n    sensitivityRef.current = sensitivity;\n  }, [sensitivity]);\n\n  // ── Draw loop ─────────────────────────────────────────────────────────────\n  // This effect starts the requestAnimationFrame loop when the mic becomes active\n  // and cleans it up when the mic is stopped (isActive → false).\n  //\n  // Why trigger via `isActive` state instead of calling directly in startMic?\n  // Because startMic is an async function. When it sets analyserRef.current and\n  // then immediately calls drawWaveform(), React hasn't re-rendered yet and the\n  // canvas might not have been updated in the DOM. By setting isActive=true and\n  // letting this effect run, we guarantee all refs are set and the canvas is\n  // mounted before we start drawing.\n  useEffect(() => {\n    if (!isActive) return;\n\n    const analyser = analyserRef.current;\n    const canvas = canvasRef.current;\n    if (!analyser || !canvas) return;\n\n    const ctx = canvas.getContext('2d')!;\n\n    // fftSize = 2048 means we get 2048 time-domain samples per frame.\n    // frequencyBinCount = fftSize / 2 = 1024 frequency bins.\n    const bufferLength = analyser.fftSize;\n    // dataArray: time-domain — raw audio samples, each value 0-255 (128 = silence)\n    const dataArray = new Uint8Array(bufferLength);\n    // freqArray: frequency-domain — energy per frequency bin, 0-255 (255 = loudest)\n    const freqArray = new Uint8Array(analyser.frequencyBinCount);\n\n    const draw = () => {\n      // Schedule next frame first so we keep ~60fps even if the rest of the\n      // function takes a variable amount of time.\n      animRef.current = requestAnimationFrame(draw);\n\n      // Pull fresh audio data into our pre-allocated arrays each frame.\n      // These are in-place fills — no allocation happens here.\n      analyser.getByteTimeDomainData(dataArray); // waveform shape\n      analyser.getByteFrequencyData(freqArray); // spectrum bars\n\n      // ── Volume (RMS) ──────────────────────────────────────────────────\n      // Root Mean Square gives a perceptual loudness value:\n      //   1. Normalize each sample from 0-255 to -1..+1  (128 = 0)\n      //   2. Square it  (makes negatives positive, emphasises peaks)\n      //   3. Average, then sqrt  → RMS in range 0..1\n      //   4. Scale to 0-100 and apply sensitivity multiplier\n      let sum = 0;\n      for (let i = 0; i < bufferLength; i++) {\n        const v = (dataArray[i] - 128) / 128; // center around 0\n        sum += v * v;\n      }\n      const rms = Math.sqrt(sum / bufferLength);\n      const vol = Math.min(100, Math.round(rms * 200 * sensitivityRef.current));\n      setVolume(vol);\n      // Only update peak when a new maximum is reached — never goes down until reset\n      if (vol > peakRef.current) {\n        peakRef.current = vol;\n        setPeakVolume(vol);\n      }\n\n      // ── Canvas rendering ──────────────────────────────────────────────\n      const W = canvas.width; // intrinsic pixel width (800)\n      const H = canvas.height; // intrinsic pixel height (200)\n\n      // Clear with dark background each frame\n      ctx.fillStyle = '#141414';\n      ctx.fillRect(0, 0, W, H);\n\n      // ── Layer 1: Frequency bars (drawn first, behind the waveform) ────\n      // Each bar represents one frequency bin (0 = bass, 1023 = treble).\n      // Height = how loud that frequency is. Color shifts blue→cyan→green\n      // as frequency increases (hue 0→240 = blue range of HSL color wheel).\n      const barW = Math.ceil((W / analyser.frequencyBinCount) * 2.5);\n      let x = 0;\n      for (let i = 0; i < analyser.frequencyBinCount; i++) {\n        const barH = (freqArray[i] / 255) * H * 0.85; // scale bar height to canvas\n        const hue = (i / analyser.frequencyBinCount) * 240; // low freq = blue, high = green\n        ctx.fillStyle = `hsl(${hue}, 90%, 55%)`;\n        ctx.fillRect(x, H - barH, barW, barH); // draw upward from the bottom\n        x += barW + 1;\n        if (x > W) break; // stop once we've filled the canvas width\n      }\n\n      // ── Layer 2: Waveform line (drawn on top of bars) ─────────────────\n      // Each sample in dataArray maps to one X pixel slice.\n      // Value 128/255 ≈ 0.5 → middle of canvas (silence = flat center line).\n      // Values above 128 → above center; below 128 → below center.\n      ctx.lineWidth = 2;\n      ctx.strokeStyle = 'rgba(255,255,255,0.85)'; // white semi-transparent\n      ctx.beginPath();\n      const sliceW = W / bufferLength; // pixels per sample\n      let wx = 0;\n      for (let i = 0; i < bufferLength; i++) {\n        const y = (dataArray[i] / 255) * H; // map 0-255 → 0-canvas height\n        i === 0 ? ctx.moveTo(wx, y) : ctx.lineTo(wx, y);\n        wx += sliceW;\n      }\n      ctx.stroke();\n    };\n\n    draw(); // kick off the loop\n\n    // Cleanup: when isActive becomes false (mic stopped), cancel the loop\n    return () => {\n      cancelAnimationFrame(animRef.current);\n    };\n  }, [isActive]);\n\n  // ── Device enumeration ────────────────────────────────────────────────────\n  // Called once on mount. enumerateDevices() lists all media input/output devices.\n  // We filter for 'audioinput' (microphones only) and pre-select the first one.\n  // Note: device labels are empty strings until the user has granted mic permission\n  // at least once — that's why we show deviceId as a fallback label.\n  useEffect(() => {\n    const enumerate = async () => {\n      try {\n        const all = await navigator.mediaDevices.enumerateDevices();\n        const audio = all.filter((d) => d.kind === 'audioinput');\n        setDevices(audio);\n        if (audio.length > 0) setSelectedDevice(audio[0].deviceId);\n      } catch {\n        setError('Unable to enumerate audio devices');\n      }\n    };\n    enumerate();\n  }, []);\n\n  // ── Cleanup on unmount ────────────────────────────────────────────────────\n  // Runs when the component is removed from the DOM (e.g. user navigates away).\n  // We must stop the mic track and close the AudioContext to release the\n  // microphone hardware and avoid the browser's \"mic in use\" indicator lingering.\n  useEffect(() => {\n    return () => {\n      cancelAnimationFrame(animRef.current);\n      streamRef.current?.getTracks().forEach((t) => t.stop());\n      audioCtxRef.current?.close();\n    };\n  }, []);\n\n  const startMic = async (deviceId?: string) => {\n    try {\n      // ── Tear down any existing session first ──────────────────────────\n      // If the user clicks Start a second time (e.g. after switching device),\n      // we must cancel the running rAF loop and stop the old stream tracks\n      // before creating new ones, otherwise they pile up and the old mic stays open.\n      cancelAnimationFrame(animRef.current);\n      streamRef.current?.getTracks().forEach((t) => t.stop());\n      audioCtxRef.current?.close();\n      analyserRef.current = null;\n      setIsActive(false); // stops the draw-loop effect\n      setError('');\n      peakRef.current = 0;\n      setPeakVolume(0);\n      setVolume(0);\n\n      // ── Request microphone access ─────────────────────────────────────\n      // getUserMedia shows the browser permission prompt if not yet granted.\n      // Passing { exact: deviceId } targets a specific mic; without it the\n      // browser picks the default input.\n      const newStream = await navigator.mediaDevices.getUserMedia({\n        audio: deviceId ? { deviceId: { exact: deviceId } } : true,\n      });\n      streamRef.current = newStream;\n\n      // ── Build the Web Audio processing chain ──────────────────────────\n      // AudioContext is the container for all Web Audio nodes.\n      // IMPORTANT: browsers auto-suspend AudioContext when it is not created\n      // in a direct (synchronous) user-gesture handler. Because we are after\n      // an `await`, the gesture context may be lost, so we explicitly resume().\n      const audioCtx = new AudioContext();\n      if (audioCtx.state === 'suspended') await audioCtx.resume();\n\n      // MediaStreamSource wraps the raw mic stream so it can feed into the graph\n      const source = audioCtx.createMediaStreamSource(newStream);\n\n      // AnalyserNode: reads audio data without modifying or outputting it.\n      // fftSize controls frequency resolution (larger = more detail, more cost).\n      // smoothingTimeConstant (0-1): how much previous frames blend into the\n      // current one — higher = smoother bars, lower = more reactive.\n      const analyser = audioCtx.createAnalyser();\n      analyser.fftSize = 2048;\n      analyser.smoothingTimeConstant = 0.8;\n\n      // Connect: source → analyser (analyser is not connected to destination,\n      // so audio is analysed silently — you won't hear yourself)\n      source.connect(analyser);\n\n      audioCtxRef.current = audioCtx;\n      analyserRef.current = analyser;\n\n      // ── Collect mic metadata ───────────────────────────────────────────\n      // getSettings() returns the actual constraints that the browser applied\n      // (may differ from what was requested — e.g. browser may override sampleRate).\n      const track = newStream.getAudioTracks()[0];\n      const s = track.getSettings();\n      setMicInfo({\n        Label: track.label || 'Unknown',\n        'Sample Rate': `${s.sampleRate ?? audioCtx.sampleRate} Hz`,\n        'Channel Count': String(s.channelCount ?? 'N/A'),\n        'Echo Cancellation': s.echoCancellation ? 'Enabled' : 'Disabled',\n        'Noise Suppression': (s as any).noiseSuppression ? 'Enabled' : 'Disabled',\n        'Auto Gain Control': (s as any).autoGainControl ? 'Enabled' : 'Disabled',\n      });\n\n      // ── Start the draw loop ────────────────────────────────────────────\n      // Setting isActive=true triggers the useEffect above. We do this LAST\n      // so all refs are fully populated before the effect reads them.\n      setIsActive(true);\n    } catch (err: any) {\n      setError(err.message || 'Microphone access denied');\n    }\n  };\n\n  // Stops the mic, closes audio context, cancels the animation loop, and\n  // clears the canvas back to blank.\n  const stopMic = () => {\n    cancelAnimationFrame(animRef.current);\n    streamRef.current?.getTracks().forEach((t) => t.stop());\n    audioCtxRef.current?.close();\n    streamRef.current = null;\n    analyserRef.current = null;\n    setIsActive(false);\n    setVolume(0);\n    setPeakVolume(0);\n    peakRef.current = 0;\n    setMicInfo({});\n\n    // clear canvas\n    const canvas = canvasRef.current;\n    if (canvas) {\n      const ctx = canvas.getContext('2d');\n      ctx?.clearRect(0, 0, canvas.width, canvas.height);\n    }\n  };\n\n  // ── Recording ─────────────────────────────────────────────────────────────\n  // MediaRecorder taps the same stream the analyser uses and writes encoded\n  // audio (webm/opus) into Blob chunks. When stopped, we combine the chunks into\n  // a single Blob and create an object URL for playback/download.\n  const toggleRecording = () => {\n    if (recording) {\n      mediaRecorderRef.current?.stop();\n      setRecording(false);\n      return;\n    }\n    const stream = streamRef.current;\n    if (!stream) return;\n    chunksRef.current = [];\n    const mr = new MediaRecorder(stream, { mimeType: 'audio/webm' });\n    mr.ondataavailable = (e) => {\n      if (e.data.size > 0) chunksRef.current.push(e.data);\n    };\n    mr.onstop = () => {\n      const blob = new Blob(chunksRef.current, { type: 'audio/webm' });\n      setRecordedUrl(URL.createObjectURL(blob));\n    };\n    mr.start();\n    mediaRecorderRef.current = mr;\n    setRecording(true);\n  };\n\n  const downloadRecording = () => {\n    if (!recordedUrl) return;\n    const a = document.createElement('a');\n    a.href = recordedUrl;\n    a.download = `mic-recording-${Date.now()}.webm`;\n    a.click();\n  };\n\n  const handleDeviceChange = (deviceId: string) => {\n    setSelectedDevice(deviceId);\n    if (isActive) startMic(deviceId);\n  };\n\n  const getVolumeColor = () => {\n    if (volume > 70) return '#ff4d4f';\n    if (volume > 40) return '#faad14';\n    return '#52c41a';\n  };\n\n  return (\n    <div className=\"microphone-test\">\n      <Row gutter={[16, 16]}>\n        <Col xs={24} lg={16}>\n          <Card\n            title={\n              <Space>\n                <AudioOutlined />\n                Microphone Test\n                {isActive && <Tag color=\"green\">Active</Tag>}\n                {recording && <Tag color=\"red\">● Recording</Tag>}\n              </Space>\n            }\n          >\n            {error && <Alert message={error} type=\"error\" showIcon style={{ marginBottom: 16 }} />}\n\n            <div className=\"mic-visualizer\">\n              <canvas\n                ref={canvasRef}\n                width={800}\n                height={200}\n                style={{\n                  width: '100%',\n                  height: 200,\n                  borderRadius: 8,\n                  border: '1px solid #303030',\n                  backgroundColor: '#141414',\n                }}\n              />\n            </div>\n\n            <div style={{ marginTop: 16 }}>\n              <Row gutter={16} align=\"middle\">\n                <Col span={12}>\n                  <Text strong>Volume Level</Text>\n                  <Progress\n                    percent={volume}\n                    strokeColor={getVolumeColor()}\n                    status=\"active\"\n                    format={(p) => `${p}%`}\n                  />\n                </Col>\n                <Col span={12}>\n                  <Text strong>Peak Volume</Text>\n                  <Progress percent={peakVolume} strokeColor=\"#1677ff\" format={(p) => `${p}%`} />\n                </Col>\n              </Row>\n            </div>\n\n            <div style={{ marginTop: 16 }}>\n              <Text strong>Sensitivity</Text>\n              <Slider\n                min={0.5}\n                max={5}\n                step={0.1}\n                value={sensitivity}\n                onChange={setSensitivity}\n                marks={{ 0.5: 'Low', 1: 'Normal', 3: 'High', 5: 'Max' }}\n              />\n            </div>\n\n            <div style={{ marginTop: 16 }}>\n              <Space wrap>\n                <Select\n                  style={{ width: 300 }}\n                  placeholder=\"Select microphone\"\n                  value={selectedDevice || undefined}\n                  onChange={handleDeviceChange}\n                  options={devices.map((d) => ({\n                    label: d.label || `Mic ${d.deviceId.slice(0, 8)}`,\n                    value: d.deviceId,\n                  }))}\n                />\n                {!isActive ? (\n                  <Button\n                    type=\"primary\"\n                    icon={<PlayCircleOutlined />}\n                    onClick={() => startMic(selectedDevice)}\n                  >\n                    Start Mic\n                  </Button>\n                ) : (\n                  <Button danger icon={<StopOutlined />} onClick={stopMic}>\n                    Stop Mic\n                  </Button>\n                )}\n                <Button\n                  icon={recording ? <StopOutlined /> : <AudioOutlined />}\n                  onClick={toggleRecording}\n                  disabled={!isActive}\n                  danger={recording}\n                >\n                  {recording ? 'Stop Recording' : 'Record'}\n                </Button>\n                {recordedUrl && (\n                  <>\n                    <Button icon={<DownloadOutlined />} onClick={downloadRecording}>\n                      Download\n                    </Button>\n                    <audio controls src={recordedUrl} style={{ height: 32 }} />\n                  </>\n                )}\n              </Space>\n            </div>\n          </Card>\n        </Col>\n\n        <Col xs={24} lg={8}>\n          <Card title=\"Microphone Information\" style={{ height: '100%' }}>\n            {Object.keys(micInfo).length > 0 ? (\n              <Descriptions column={1} size=\"small\" bordered>\n                {Object.entries(micInfo).map(([key, val]) => (\n                  <Descriptions.Item label={key} key={key}>\n                    {val}\n                  </Descriptions.Item>\n                ))}\n              </Descriptions>\n            ) : (\n              <Text type=\"secondary\">Start microphone to see device information</Text>\n            )}\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default MicrophoneTest;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport {\n  Button,\n  Card,\n  Col,\n  Row,\n  Slider,\n  Space,\n  Typography,\n  Tooltip,\n  Tag,\n  Divider,\n  Alert,\n} from 'antd';\nimport { CaretRightOutlined, PauseOutlined, SoundOutlined, SwapOutlined } from '@ant-design/icons';\n\nconst { Text, Title } = Typography;\n\n// ─── Musical note helpers ────────────────────────────────────────────────────\n// Standard tuning: A4 = 440 Hz, MIDI note 69\n// Formula: freq = 440 * 2^((midi - 69) / 12)\nconst NOTE_NAMES = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\n\nfunction freqToNote(freq: number): string {\n  // midi note closest to this freq\n  const midi = Math.round(12 * Math.log2(freq / 440) + 69);\n  const octave = Math.floor(midi / 12) - 1;\n  const name = NOTE_NAMES[((midi % 12) + 12) % 12];\n  const noteFreq = 440 * Math.pow(2, (midi - 69) / 12);\n  const cents = Math.round(1200 * Math.log2(freq / noteFreq));\n  const centsStr = cents === 0 ? '' : cents > 0 ? ` +${cents}¢` : ` ${cents}¢`;\n  return `${name}${octave}${centsStr}`;\n}\n\n// ─── Preset quality tests ────────────────────────────────────────────────────\nconst PRESETS = [\n  {\n    label: 'Sub Bass',\n    freq: 40,\n    desc: 'Deep rumble — tests sub-woofer / large drivers',\n    color: '#722ed1',\n  },\n  { label: 'Bass', freq: 100, desc: 'Kick drum body — warmth and punch', color: '#1677ff' },\n  { label: 'Low-Mid', freq: 300, desc: 'Male vocals, guitar body', color: '#13c2c2' },\n  { label: 'Mid', freq: 1000, desc: 'Voice clarity, presence', color: '#52c41a' },\n  { label: 'High-Mid', freq: 4000, desc: 'Consonants, sibilance, attack', color: '#faad14' },\n  { label: 'Treble', freq: 10000, desc: 'Cymbals, air, brilliance', color: '#f5222d' },\n];\n\ntype Channel = 'left' | 'right' | 'both';\n\nconst HeadphoneTest: React.FC = () => {\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [frequency, setFrequency] = useState(440);\n  const [volume, setVolume] = useState(0.4);\n  const [channel, setChannel] = useState<Channel>('both');\n  const [autoLR, setAutoLR] = useState(false);\n  const [activeChannel, setActiveChannel] = useState<Channel>('both'); // what's actually playing right now\n\n  // Web Audio refs — we keep the graph alive while playing and recreate on param change\n  const audioCtxRef = useRef<AudioContext | null>(null);\n  const oscRef = useRef<OscillatorNode | null>(null);\n  const gainRef = useRef<GainNode | null>(null);\n  const pannerRef = useRef<StereoPannerNode | null>(null);\n  const autoTimerRef = useRef<ReturnType<typeof setInterval> | null>(null);\n  const autoChannelRef = useRef<Channel>('left');\n\n  // ── Audio helpers ─────────────────────────────────────────────────────────\n  // panValue: -1 = full left, 0 = center, +1 = full right\n  const channelToPan = (ch: Channel) => (ch === 'left' ? -1 : ch === 'right' ? 1 : 0);\n\n  const stopTone = useCallback(() => {\n    try {\n      oscRef.current?.stop();\n    } catch {}\n    oscRef.current = null;\n    gainRef.current = null;\n    pannerRef.current = null;\n    audioCtxRef.current?.close();\n    audioCtxRef.current = null;\n    if (autoTimerRef.current) {\n      clearInterval(autoTimerRef.current);\n      autoTimerRef.current = null;\n    }\n  }, []);\n\n  const startTone = useCallback(\n    (freq: number, vol: number, ch: Channel) => {\n      stopTone();\n\n      const ctx = new AudioContext();\n      const osc = ctx.createOscillator();\n      const gain = ctx.createGain();\n      const panner = ctx.createStereoPanner();\n\n      osc.type = 'sine';\n      osc.frequency.value = freq;\n      gain.gain.value = vol;\n      panner.pan.value = channelToPan(ch);\n\n      // chain: oscillator → gain → panner → output\n      osc.connect(gain);\n      gain.connect(panner);\n      panner.connect(ctx.destination);\n\n      osc.start();\n\n      audioCtxRef.current = ctx;\n      oscRef.current = osc;\n      gainRef.current = gain;\n      pannerRef.current = panner;\n      setActiveChannel(ch);\n    },\n    [stopTone],\n  );\n\n  // ── Live-update frequency/volume/pan while playing (no restart needed) ───\n  useEffect(() => {\n    if (!isPlaying || !oscRef.current || !gainRef.current || !pannerRef.current) return;\n    oscRef.current.frequency.value = frequency;\n    gainRef.current.gain.value = volume;\n    if (!autoLR) {\n      pannerRef.current.pan.value = channelToPan(channel);\n      setActiveChannel(channel);\n    }\n  }, [frequency, volume, channel, isPlaying, autoLR]);\n\n  // ── Auto left-right mode ──────────────────────────────────────────────────\n  useEffect(() => {\n    if (!isPlaying || !autoLR) return;\n    // swap channel every 1.5 s\n    autoTimerRef.current = setInterval(() => {\n      autoChannelRef.current = autoChannelRef.current === 'left' ? 'right' : 'left';\n      if (pannerRef.current) {\n        pannerRef.current.pan.value = channelToPan(autoChannelRef.current);\n        setActiveChannel(autoChannelRef.current);\n      }\n    }, 1500);\n    return () => {\n      if (autoTimerRef.current) clearInterval(autoTimerRef.current);\n    };\n  }, [isPlaying, autoLR]);\n\n  const togglePlay = () => {\n    if (isPlaying) {\n      stopTone();\n      setIsPlaying(false);\n    } else {\n      startTone(frequency, volume, autoLR ? 'left' : channel);\n      setIsPlaying(true);\n    }\n  };\n\n  const playPreset = (freq: number) => {\n    setFrequency(freq);\n    if (isPlaying) {\n      // restart with new freq\n      startTone(freq, volume, autoLR ? 'left' : channel);\n    } else {\n      startTone(freq, volume, autoLR ? 'left' : channel);\n      setIsPlaying(true);\n    }\n  };\n\n  const handleChannelChange = (ch: Channel) => {\n    setChannel(ch);\n    setAutoLR(false);\n    if (isPlaying && pannerRef.current) {\n      pannerRef.current.pan.value = channelToPan(ch);\n      setActiveChannel(ch);\n    }\n  };\n\n  const handleAutoLR = () => {\n    const next = !autoLR;\n    setAutoLR(next);\n    if (isPlaying) {\n      if (next) {\n        // start auto timer immediately\n        autoChannelRef.current = 'left';\n        if (pannerRef.current) {\n          pannerRef.current.pan.value = -1;\n          setActiveChannel('left');\n        }\n      } else {\n        if (autoTimerRef.current) clearInterval(autoTimerRef.current);\n        if (pannerRef.current) {\n          pannerRef.current.pan.value = channelToPan(channel);\n          setActiveChannel(channel);\n        }\n      }\n    }\n  };\n\n  // Cleanup on unmount\n  useEffect(() => () => stopTone(), [stopTone]);\n\n  // ── Balance visualizer ────────────────────────────────────────────────────\n  const panValue = channelToPan(activeChannel); // -1 to +1\n  const indicatorLeft = `${((panValue + 1) / 2) * 100}%`;\n\n  const freqLabel = `${frequency < 1000 ? frequency : (frequency / 1000).toFixed(1) + 'k'} Hz`;\n  const noteName = freqToNote(frequency);\n\n  return (\n    <div className=\"headphone-test\">\n      <Alert\n        message=\"Put on your headphones before starting the tests.\"\n        type=\"info\"\n        showIcon\n        style={{ marginBottom: 16 }}\n      />\n\n      <Row gutter={[16, 16]}>\n        {/* ── Left / Right balance test ───────────────────────────────────── */}\n        <Col xs={24} lg={12}>\n          <Card\n            title={\n              <>\n                <SwapOutlined /> Left / Right Channel Test\n              </>\n            }\n            size=\"small\"\n          >\n            <Text type=\"secondary\" style={{ display: 'block', marginBottom: 12 }}>\n              Verifies that left and right earpieces are correctly wired. You should only hear sound\n              in the indicated ear.\n            </Text>\n\n            {/* Balance track */}\n            <div style={{ position: 'relative', height: 40, marginBottom: 16 }}>\n              <div\n                style={{\n                  position: 'absolute',\n                  top: '50%',\n                  left: 0,\n                  right: 0,\n                  height: 4,\n                  background: '#303030',\n                  borderRadius: 2,\n                  transform: 'translateY(-50%)',\n                }}\n              />\n              {/* Moving dot */}\n              <div\n                style={{\n                  position: 'absolute',\n                  top: '50%',\n                  left: indicatorLeft,\n                  width: 20,\n                  height: 20,\n                  borderRadius: '50%',\n                  background: isPlaying ? '#1677ff' : '#444',\n                  transform: 'translate(-50%, -50%)',\n                  transition: 'left 0.4s ease, background 0.3s',\n                  boxShadow: isPlaying ? '0 0 8px #1677ff' : 'none',\n                }}\n              />\n              <Text\n                style={{ position: 'absolute', left: 0, top: '100%', fontSize: 11, color: '#888' }}\n              >\n                LEFT\n              </Text>\n              <Text\n                style={{ position: 'absolute', right: 0, top: '100%', fontSize: 11, color: '#888' }}\n              >\n                RIGHT\n              </Text>\n            </div>\n\n            <Space wrap style={{ marginTop: 24 }}>\n              <Button\n                type={channel === 'left' && !autoLR ? 'primary' : 'default'}\n                onClick={() => handleChannelChange('left')}\n              >\n                🔇 Left Only\n              </Button>\n              <Button\n                type={channel === 'both' && !autoLR ? 'primary' : 'default'}\n                onClick={() => handleChannelChange('both')}\n              >\n                🔊 Both\n              </Button>\n              <Button\n                type={channel === 'right' && !autoLR ? 'primary' : 'default'}\n                onClick={() => handleChannelChange('right')}\n              >\n                Right Only 🔇\n              </Button>\n              <Button\n                type={autoLR ? 'primary' : 'default'}\n                icon={<SwapOutlined />}\n                onClick={handleAutoLR}\n              >\n                Auto LR\n              </Button>\n            </Space>\n\n            {isPlaying && (\n              <div style={{ marginTop: 12 }}>\n                <Tag color=\"blue\">\n                  Playing:{' '}\n                  {activeChannel === 'left'\n                    ? '◀ Left'\n                    : activeChannel === 'right'\n                      ? 'Right ▶'\n                      : '◀ Both ▶'}\n                </Tag>\n              </div>\n            )}\n          </Card>\n        </Col>\n\n        {/* ── Play controls ───────────────────────────────────────────────── */}\n        <Col xs={24} lg={12}>\n          <Card\n            title={\n              <>\n                <SoundOutlined /> Tone Controls\n              </>\n            }\n            size=\"small\"\n          >\n            <Row gutter={[0, 16]}>\n              <Col span={24}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 4 }}>\n                  <Text strong>Frequency</Text>\n                  <Space>\n                    <Text code>{freqLabel}</Text>\n                    <Tooltip title=\"Closest musical note\">\n                      <Tag color=\"geekblue\">{noteName}</Tag>\n                    </Tooltip>\n                  </Space>\n                </div>\n                {/* Log-scale via sqrt trick: store sqrt of freq for linear slider */}\n                <Slider\n                  min={Math.sqrt(20)}\n                  max={Math.sqrt(20000)}\n                  step={0.01}\n                  value={Math.sqrt(frequency)}\n                  onChange={(v) => setFrequency(Math.round(v * v))}\n                  tooltip={{ formatter: () => freqLabel }}\n                />\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                  <Text type=\"secondary\" style={{ fontSize: 11 }}>\n                    20 Hz\n                  </Text>\n                  <Text type=\"secondary\" style={{ fontSize: 11 }}>\n                    20 kHz\n                  </Text>\n                </div>\n              </Col>\n\n              <Col span={24}>\n                <div style={{ display: 'flex', justifyContent: 'space-between', marginBottom: 4 }}>\n                  <Text strong>Volume</Text>\n                  <Text code>{Math.round(volume * 100)}%</Text>\n                </div>\n                <Slider\n                  min={0}\n                  max={1}\n                  step={0.01}\n                  value={volume}\n                  onChange={setVolume}\n                  tooltip={{ formatter: (v) => `${Math.round((v ?? 0) * 100)}%` }}\n                />\n              </Col>\n\n              <Col span={24}>\n                <Button\n                  type=\"primary\"\n                  size=\"large\"\n                  block\n                  icon={isPlaying ? <PauseOutlined /> : <CaretRightOutlined />}\n                  onClick={togglePlay}\n                  danger={isPlaying}\n                >\n                  {isPlaying ? 'Stop Tone' : 'Play Tone'}\n                </Button>\n              </Col>\n            </Row>\n          </Card>\n        </Col>\n\n        {/* ── Frequency preset tests ───────────────────────────────────────── */}\n        <Col span={24}>\n          <Card title=\"Frequency Range Tests\" size=\"small\">\n            <Text type=\"secondary\" style={{ display: 'block', marginBottom: 12 }}>\n              Click a preset to play that frequency. Good headphones should reproduce all ranges\n              clearly without distortion.\n            </Text>\n            <Row gutter={[12, 12]}>\n              {PRESETS.map((p) => (\n                <Col xs={12} sm={8} md={4} key={p.freq}>\n                  <Tooltip title={p.desc}>\n                    <Button\n                      block\n                      style={{\n                        borderColor: p.color,\n                        color: isPlaying && frequency === p.freq ? '#fff' : p.color,\n                        background: isPlaying && frequency === p.freq ? p.color : 'transparent',\n                        height: 64,\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                        justifyContent: 'center',\n                      }}\n                      onClick={() => playPreset(p.freq)}\n                    >\n                      <div style={{ fontWeight: 700, fontSize: 14 }}>{p.label}</div>\n                      <div style={{ fontSize: 11, opacity: 0.75 }}>\n                        {p.freq < 1000 ? `${p.freq} Hz` : `${p.freq / 1000} kHz`}\n                      </div>\n                    </Button>\n                  </Tooltip>\n                </Col>\n              ))}\n            </Row>\n          </Card>\n        </Col>\n\n        {/* ── How to use ───────────────────────────────────────────────────── */}\n        <Col span={24}>\n          <Card title=\"How to Use\" size=\"small\">\n            <Row gutter={[16, 8]}>\n              <Col xs={24} sm={8}>\n                <Title level={5}>1. Left / Right Test</Title>\n                <Text type=\"secondary\">\n                  Click \"Left Only\" — you should only hear sound in your left ear. Click \"Right\n                  Only\" — only in the right ear. If it's reversed, your headphones are on backwards\n                  or the cable is swapped.\n                </Text>\n              </Col>\n              <Divider type=\"vertical\" style={{ height: 'auto' }} />\n              <Col xs={24} sm={7}>\n                <Title level={5}>2. Frequency Generator</Title>\n                <Text type=\"secondary\">\n                  Drag the slider through the full range (20 Hz – 20 kHz). You should hear the tone\n                  get higher. If it disappears at any point, your headphones may have a gap in their\n                  frequency response.\n                </Text>\n              </Col>\n              <Divider type=\"vertical\" style={{ height: 'auto' }} />\n              <Col xs={24} sm={7}>\n                <Title level={5}>3. Preset Range Tests</Title>\n                <Text type=\"secondary\">\n                  Click each preset and listen for distortion or complete silence. Bass presets test\n                  driver size; treble tests tweeter quality. All six should play cleanly on good\n                  headphones.\n                </Text>\n              </Col>\n            </Row>\n          </Card>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport default HeadphoneTest;\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Alert, Badge, Card, Col, Descriptions, Progress, Row, Space, Tag, Typography } from 'antd';\nimport { ControlOutlined } from '@ant-design/icons';\n\nconst { Text } = Typography;\n\ninterface GamepadState {\n  index: number;\n  id: string;\n  buttons: { pressed: boolean; value: number }[];\n  axes: number[];\n  timestamp: number;\n  mapping: string;\n  connected: boolean;\n  vibrationActuator: boolean;\n}\n\nconst BUTTON_LABELS = [\n  'A / ✕',\n  'B / ○',\n  'X / □',\n  'Y / △',\n  'LB / L1',\n  'RB / R1',\n  'LT / L2',\n  'RT / R2',\n  'Back / Select',\n  'Start',\n  'L3 (Left Stick)',\n  'R3 (Right Stick)',\n  'D-Pad Up',\n  'D-Pad Down',\n  'D-Pad Left',\n  'D-Pad Right',\n  'Home / Guide',\n];\n\nconst AXIS_LABELS = ['Left Stick X', 'Left Stick Y', 'Right Stick X', 'Right Stick Y'];\n\nconst GamepadTest: React.FC = () => {\n  const [gamepads, setGamepads] = useState<(GamepadState | null)[]>([]);\n  const [connected, setConnected] = useState(false);\n  const animRef = useRef<number>(0);\n  const canvasLeftRef = useRef<HTMLCanvasElement>(null);\n  const canvasRightRef = useRef<HTMLCanvasElement>(null);\n\n  const pollGamepads = useCallback(() => {\n    const gps = navigator.getGamepads();\n    const states: (GamepadState | null)[] = [];\n    let hasAny = false;\n\n    for (let i = 0; i < 4; i++) {\n      const gp = gps[i];\n      if (gp) {\n        hasAny = true;\n        states.push({\n          index: gp.index,\n          id: gp.id,\n          buttons: Array.from(gp.buttons).map((b) => ({\n            pressed: b.pressed,\n            value: b.value,\n          })),\n          axes: Array.from(gp.axes),\n          timestamp: gp.timestamp,\n          mapping: gp.mapping || 'non-standard',\n          connected: gp.connected,\n          vibrationActuator: !!(gp as any).vibrationActuator,\n        });\n      } else {\n        states.push(null);\n      }\n    }\n\n    setGamepads(states);\n    setConnected(hasAny);\n\n    // Draw stick visualizations\n    if (hasAny) {\n      const first = states.find((g) => g !== null) as GamepadState | undefined;\n      if (first) {\n        drawStick(canvasLeftRef.current, first.axes[0] || 0, first.axes[1] || 0);\n        drawStick(canvasRightRef.current, first.axes[2] || 0, first.axes[3] || 0);\n      }\n    }\n\n    animRef.current = requestAnimationFrame(pollGamepads);\n  }, []);\n\n  const drawStick = (canvas: HTMLCanvasElement | null, x: number, y: number) => {\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n    const w = canvas.width;\n    const h = canvas.height;\n    const cx = w / 2;\n    const cy = h / 2;\n    const radius = w * 0.4;\n\n    ctx.clearRect(0, 0, w, h);\n\n    // Background circle\n    ctx.beginPath();\n    ctx.arc(cx, cy, radius, 0, Math.PI * 2);\n    ctx.fillStyle = '#f0f0f0';\n    ctx.fill();\n    ctx.strokeStyle = '#d9d9d9';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n\n    // Crosshair\n    ctx.beginPath();\n    ctx.moveTo(cx - radius, cy);\n    ctx.lineTo(cx + radius, cy);\n    ctx.moveTo(cx, cy - radius);\n    ctx.lineTo(cx, cy + radius);\n    ctx.strokeStyle = '#e0e0e0';\n    ctx.lineWidth = 1;\n    ctx.stroke();\n\n    // Dead zone circle\n    ctx.beginPath();\n    ctx.arc(cx, cy, radius * 0.15, 0, Math.PI * 2);\n    ctx.strokeStyle = '#bbb';\n    ctx.setLineDash([3, 3]);\n    ctx.stroke();\n    ctx.setLineDash([]);\n\n    // Stick position\n    const dotX = cx + x * radius;\n    const dotY = cy + y * radius;\n    ctx.beginPath();\n    ctx.arc(dotX, dotY, 10, 0, Math.PI * 2);\n    const magnitude = Math.sqrt(x * x + y * y);\n    const hue = magnitude > 0.8 ? 0 : magnitude > 0.4 ? 40 : 120;\n    ctx.fillStyle = `hsl(${hue}, 80%, 50%)`;\n    ctx.fill();\n    ctx.strokeStyle = 'white';\n    ctx.lineWidth = 2;\n    ctx.stroke();\n\n    // Position text\n    ctx.fillStyle = '#666';\n    ctx.font = '10px monospace';\n    ctx.textAlign = 'center';\n    ctx.fillText(`(${x.toFixed(2)}, ${y.toFixed(2)})`, cx, h - 5);\n  };\n\n  useEffect(() => {\n    const onConnect = () => pollGamepads();\n    const onDisconnect = () => {\n      setConnected(false);\n      setGamepads([]);\n    };\n\n    window.addEventListener('gamepadconnected', onConnect);\n    window.addEventListener('gamepaddisconnected', onDisconnect);\n\n    animRef.current = requestAnimationFrame(pollGamepads);\n\n    return () => {\n      window.removeEventListener('gamepadconnected', onConnect);\n      window.removeEventListener('gamepaddisconnected', onDisconnect);\n      cancelAnimationFrame(animRef.current);\n    };\n  }, [pollGamepads]);\n\n  const activeGamepad = gamepads.find((g) => g !== null) as GamepadState | undefined;\n\n  return (\n    <div className=\"gamepad-test\">\n      {!connected && (\n        <Alert\n          message=\"No gamepad detected\"\n          description=\"Connect a gamepad/controller and press any button to start testing. Supports Xbox, PlayStation, Switch Pro, and other standard controllers.\"\n          type=\"info\"\n          showIcon\n          style={{ marginBottom: 16 }}\n        />\n      )}\n\n      {activeGamepad && (\n        <>\n          <Card\n            title={\n              <Space>\n                <ControlOutlined />\n                {activeGamepad.id}\n                <Tag color=\"green\">Connected</Tag>\n                <Tag color=\"blue\">{activeGamepad.mapping} mapping</Tag>\n              </Space>\n            }\n            style={{ marginBottom: 16 }}\n          >\n            <Row gutter={[16, 16]}>\n              {/* Buttons */}\n              <Col xs={24} md={12}>\n                <Text strong style={{ display: 'block', marginBottom: 12 }}>\n                  Buttons\n                </Text>\n                <div className=\"gamepad-buttons-grid\">\n                  {activeGamepad.buttons.map((btn, i) => (\n                    <div\n                      key={i}\n                      className={`gamepad-btn ${btn.pressed ? 'gamepad-btn--pressed' : ''}`}\n                    >\n                      <div className=\"gamepad-btn-label\">{BUTTON_LABELS[i] || `Button ${i}`}</div>\n                      {btn.value > 0 && btn.value < 1 && (\n                        <Progress\n                          percent={Math.round(btn.value * 100)}\n                          size=\"small\"\n                          showInfo={false}\n                          strokeColor=\"#1677ff\"\n                        />\n                      )}\n                    </div>\n                  ))}\n                </div>\n              </Col>\n\n              {/* Analog sticks */}\n              <Col xs={24} md={12}>\n                <Text strong style={{ display: 'block', marginBottom: 12 }}>\n                  Analog Sticks\n                </Text>\n                <Row gutter={16}>\n                  <Col span={12}>\n                    <div style={{ textAlign: 'center' }}>\n                      <Text type=\"secondary\">Left Stick</Text>\n                      <canvas\n                        ref={canvasLeftRef}\n                        width={150}\n                        height={150}\n                        style={{ display: 'block', margin: '8px auto' }}\n                      />\n                    </div>\n                  </Col>\n                  <Col span={12}>\n                    <div style={{ textAlign: 'center' }}>\n                      <Text type=\"secondary\">Right Stick</Text>\n                      <canvas\n                        ref={canvasRightRef}\n                        width={150}\n                        height={150}\n                        style={{ display: 'block', margin: '8px auto' }}\n                      />\n                    </div>\n                  </Col>\n                </Row>\n\n                <div style={{ marginTop: 16 }}>\n                  <Text strong style={{ display: 'block', marginBottom: 8 }}>\n                    Axes\n                  </Text>\n                  {activeGamepad.axes.map((axis, i) => (\n                    <div key={i} style={{ marginBottom: 8 }}>\n                      <Text type=\"secondary\">{AXIS_LABELS[i] || `Axis ${i}`}</Text>\n                      <div\n                        style={{\n                          display: 'flex',\n                          alignItems: 'center',\n                          gap: 8,\n                        }}\n                      >\n                        <div className=\"axis-bar-track\">\n                          <div\n                            className=\"axis-bar-fill\"\n                            style={{\n                              left: '50%',\n                              width: `${Math.abs(axis) * 50}%`,\n                              transform: axis < 0 ? 'translateX(-100%)' : 'none',\n                              backgroundColor: Math.abs(axis) > 0.8 ? '#ff4d4f' : '#1677ff',\n                            }}\n                          />\n                          <div className=\"axis-bar-center\" />\n                        </div>\n                        <Text code style={{ minWidth: 60, textAlign: 'right' }}>\n                          {axis.toFixed(4)}\n                        </Text>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </Col>\n            </Row>\n          </Card>\n\n          <Card title=\"Gamepad Details\" size=\"small\">\n            <Descriptions column={{ xs: 1, sm: 2 }} size=\"small\" bordered>\n              <Descriptions.Item label=\"ID\">{activeGamepad.id}</Descriptions.Item>\n              <Descriptions.Item label=\"Index\">{activeGamepad.index}</Descriptions.Item>\n              <Descriptions.Item label=\"Mapping\">{activeGamepad.mapping}</Descriptions.Item>\n              <Descriptions.Item label=\"Buttons\">{activeGamepad.buttons.length}</Descriptions.Item>\n              <Descriptions.Item label=\"Axes\">{activeGamepad.axes.length}</Descriptions.Item>\n              <Descriptions.Item label=\"Vibration\">\n                {activeGamepad.vibrationActuator ? (\n                  <Tag color=\"green\">Supported</Tag>\n                ) : (\n                  <Tag color=\"default\">Not Available</Tag>\n                )}\n              </Descriptions.Item>\n            </Descriptions>\n          </Card>\n        </>\n      )}\n\n      {/* Multiple gamepads summary */}\n      {gamepads.filter((g) => g !== null).length > 1 && (\n        <Card title=\"Connected Gamepads\" size=\"small\" style={{ marginTop: 16 }}>\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            {gamepads.map((gp, i) =>\n              gp ? (\n                <Badge.Ribbon text={`Player ${i + 1}`} key={i}>\n                  <Card size=\"small\">\n                    <Text>{gp.id}</Text>\n                  </Card>\n                </Badge.Ribbon>\n              ) : null,\n            )}\n          </Space>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nexport default GamepadTest;\n","import { PageContainer } from '@ant-design/pro-components';\nimport { Tabs } from 'antd';\nimport React from 'react';\nimport { history, useLocation } from 'umi';\nimport KeyboardTest from './KeyboardTest';\nimport CameraTest from './CameraTest';\nimport MicrophoneTest from './MicrophoneTest';\nimport HeadphoneTest from './HeadphoneTest';\nimport GamepadTest from './GamepadTest';\nimport './styles.less';\n\nconst TABS = ['keyboard', 'camera', 'microphone', 'headphone', 'gamepad'] as const;\ntype TabKey = (typeof TABS)[number];\n\nfunction getTabFromPath(pathname: string): TabKey {\n  const last = pathname.split('/').pop() as TabKey;\n  return TABS.includes(last) ? last : 'keyboard';\n}\n\nconst DeviceTest: React.FC = () => {\n  const location = useLocation();\n  const activeTab = getTabFromPath(location.pathname);\n\n  const handleTabChange = (key: string) => {\n    history.push(`/utility/device-test/${key}`);\n  };\n\n  return (\n    <PageContainer\n      title=\"Device Test\"\n      subTitle=\"Test your keyboard, camera, microphone, headphone & gamepad\"\n    >\n      <div className=\"device-test-page\">\n        <Tabs\n          activeKey={activeTab}\n          onChange={handleTabChange}\n          type=\"card\"\n          size=\"large\"\n          items={[\n            {\n              key: 'keyboard',\n              label: '⌨️ Keyboard',\n              children: <KeyboardTest />,\n            },\n            {\n              key: 'camera',\n              label: '📷 Camera',\n              children: <CameraTest />,\n            },\n            {\n              key: 'microphone',\n              label: '🎤 Microphone',\n              children: <MicrophoneTest />,\n            },\n            {\n              key: 'headphone',\n              label: '🎧 Headphone',\n              children: <HeadphoneTest />,\n            },\n            {\n              key: 'gamepad',\n              label: '🎮 Gamepad',\n              children: <GamepadTest />,\n            },\n          ]}\n        />\n      </div>\n    </PageContainer>\n  );\n};\n\nexport default DeviceTest;\n"],"names":[],"mappings":"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"}