(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["894bb97e"],{b1151213:function(e,l,a){a.d(l,"__esModule",{value:!0}),a.e(l,{default:function(){return eI;}});var t=a("777fffbe"),d=a("852bbaa9"),c=a("1a7c85b4"),s=a("28c7d19c"),o=a("92be0fc5"),i=t._(o),r=a("d322be42"),n=d._(r),b=a("005a0598"),u=a("86983205"),h=t._(u),f=a("e9bcd22d"),m=t._(f),p=a("e2967699"),g=t._(p),y=a("a5512054"),x=t._(y),j=a("ae31d792"),v=t._(j),k=a("5d5723f8"),w=t._(k),L=a("d4a32650"),S=t._(L);let C=[[{code:"Escape",label:"Esc"},{code:"_gap1",label:"",width:1},{code:"F1",label:"F1"},{code:"F2",label:"F2"},{code:"F3",label:"F3"},{code:"F4",label:"F4"},{code:"_gap2",label:"",width:.5},{code:"F5",label:"F5"},{code:"F6",label:"F6"},{code:"F7",label:"F7"},{code:"F8",label:"F8"},{code:"_gap3",label:"",width:.5},{code:"F9",label:"F9"},{code:"F10",label:"F10"},{code:"F11",label:"F11"},{code:"F12",label:"F12"},{code:"_gap4",label:"",width:.25},{code:"PrintScreen",label:"PrtSc"},{code:"ScrollLock",label:"ScrLk"},{code:"Pause",label:"Pause"}],[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Backspace",width:2},{code:"_gap5",label:"",width:.25},{code:"Insert",label:"Ins"},{code:"Home",label:"Home"},{code:"PageUp",label:"PgUp"},{code:"_gap6",label:"",width:.25},{code:"NumLock",label:"Num"},{code:"NumpadDivide",label:"/"},{code:"NumpadMultiply",label:"*"},{code:"NumpadSubtract",label:"-"}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5},{code:"_gap7",label:"",width:.25},{code:"Delete",label:"Del"},{code:"End",label:"End"},{code:"PageDown",label:"PgDn"},{code:"_gap8",label:"",width:.25},{code:"Numpad7",label:"7"},{code:"Numpad8",label:"8"},{code:"Numpad9",label:"9"},{code:"NumpadAdd",label:"+",height:2}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Enter",width:2.25},{code:"_gap9",label:"",width:3.5},{code:"Numpad4",label:"4"},{code:"Numpad5",label:"5"},{code:"Numpad6",label:"6"}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75},{code:"_gap10",label:"",width:1.25},{code:"ArrowUp",label:"\u2191"},{code:"_gap11",label:"",width:1.25},{code:"Numpad1",label:"1"},{code:"Numpad2",label:"2"},{code:"Numpad3",label:"3"},{code:"NumpadEnter",label:"Ent",height:2}],[{code:"ControlLeft",label:"Ctrl",width:1.25},{code:"MetaLeft",label:"Win",width:1.25},{code:"AltLeft",label:"Alt",width:1.25},{code:"Space",label:"",width:6.25},{code:"AltRight",label:"Alt",width:1.25},{code:"MetaRight",label:"Win",width:1.25},{code:"ContextMenu",label:"Menu",width:1.25},{code:"ControlRight",label:"Ctrl",width:1.25},{code:"_gap12",label:"",width:.25},{code:"ArrowLeft",label:"\u2190"},{code:"ArrowDown",label:"\u2193"},{code:"ArrowRight",label:"\u2192"},{code:"_gap13",label:"",width:.25},{code:"Numpad0",label:"0",width:2},{code:"NumpadDecimal",label:"."}]],K=[[{code:"Escape",label:"Esc"},{code:"_gap1",label:"",width:1},{code:"F1",label:"F1"},{code:"F2",label:"F2"},{code:"F3",label:"F3"},{code:"F4",label:"F4"},{code:"_gap2",label:"",width:.5},{code:"F5",label:"F5"},{code:"F6",label:"F6"},{code:"F7",label:"F7"},{code:"F8",label:"F8"},{code:"_gap3",label:"",width:.5},{code:"F9",label:"F9"},{code:"F10",label:"F10"},{code:"F11",label:"F11"},{code:"F12",label:"F12"}],[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Delete",width:1.5}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Return",width:2.25}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75}],[{code:"Fn",label:"Fn",width:1},{code:"ControlLeft",label:"\u2303",width:1.25},{code:"AltLeft",label:"\u2325",width:1.25},{code:"MetaLeft",label:"\u2318",width:1.5},{code:"Space",label:"",width:5},{code:"MetaRight",label:"\u2318",width:1.5},{code:"AltRight",label:"\u2325",width:1.25},{code:"ArrowLeft",label:"\u2190"},{code:"ArrowDown",label:"\u2193"},{code:"ArrowUp",label:"\u2191"},{code:"ArrowRight",label:"\u2192"}]],R=[[{code:"Escape",label:"Esc"},{code:"_gap1",label:"",width:1},{code:"F1",label:"F1"},{code:"F2",label:"F2"},{code:"F3",label:"F3"},{code:"F4",label:"F4"},{code:"_gap2",label:"",width:.5},{code:"F5",label:"F5"},{code:"F6",label:"F6"},{code:"F7",label:"F7"},{code:"F8",label:"F8"},{code:"_gap3",label:"",width:.5},{code:"F9",label:"F9"},{code:"F10",label:"F10"},{code:"F11",label:"F11"},{code:"F12",label:"F12"},{code:"_gap4",label:"",width:.25},{code:"PrintScreen",label:"PrtSc"},{code:"ScrollLock",label:"ScrLk"},{code:"Pause",label:"Pause"}],[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Backspace",width:2},{code:"_gap5",label:"",width:.25},{code:"Insert",label:"Ins"},{code:"Home",label:"Home"},{code:"PageUp",label:"PgUp"}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5},{code:"_gap7",label:"",width:.25},{code:"Delete",label:"Del"},{code:"End",label:"End"},{code:"PageDown",label:"PgDn"}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Enter",width:2.25}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75},{code:"_gap10",label:"",width:1.25},{code:"ArrowUp",label:"\u2191"}],[{code:"ControlLeft",label:"Ctrl",width:1.25},{code:"MetaLeft",label:"Win",width:1.25},{code:"AltLeft",label:"Alt",width:1.25},{code:"Space",label:"",width:6.25},{code:"AltRight",label:"Alt",width:1.25},{code:"MetaRight",label:"Win",width:1.25},{code:"ContextMenu",label:"Menu",width:1.25},{code:"ControlRight",label:"Ctrl",width:1.25},{code:"_gap12",label:"",width:.25},{code:"ArrowLeft",label:"\u2190"},{code:"ArrowDown",label:"\u2193"},{code:"ArrowRight",label:"\u2192"}]],F=[[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Backspace",width:2}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Enter",width:2.25}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75}],[{code:"ControlLeft",label:"Ctrl",width:1.25},{code:"MetaLeft",label:"Win",width:1.25},{code:"AltLeft",label:"Alt",width:1.25},{code:"Space",label:"",width:6.25},{code:"AltRight",label:"Alt",width:1.25},{code:"MetaRight",label:"Win",width:1.25},{code:"ContextMenu",label:"Menu",width:1.25},{code:"ControlRight",label:"Ctrl",width:1.25}]],D=[[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Delete",width:1.5}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Return",width:2.25}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75}],[{code:"Fn",label:"Fn",width:1},{code:"ControlLeft",label:"\u2303",width:1.25},{code:"AltLeft",label:"\u2325",width:1.25},{code:"MetaLeft",label:"\u2318",width:1.5},{code:"Space",label:"",width:5},{code:"MetaRight",label:"\u2318",width:1.5},{code:"AltRight",label:"\u2325",width:1.25}]],N=()=>{let[e,l]=(0,n.useState)("100%"),[a,t]=(0,n.useState)("Windows"),[d,s]=(0,n.useState)("Desktop"),[o,i]=(0,n.useState)(!0),[r,b]=(0,n.useState)(new Set),[u,f]=(0,n.useState)(new Set),[p,y]=(0,n.useState)(0),[j,k]=(0,n.useState)({}),[L,N]=(0,n.useState)("-"),[M,A]=(0,n.useState)("-"),[T,E]=(0,n.useState)(""),[B,P]=(0,n.useState)(0),[_,I]=(0,n.useState)(0),[z,q]=(0,n.useState)(Array(60).fill(0)),$=(0,n.useRef)([]),H=(0,n.useRef)(0),U=(0,n.useRef)(null),O=(0,n.useRef)(null),W=(0,n.useRef)(null),G=(0,n.useCallback)(()=>{if(o)try{W.current||(W.current=new AudioContext);let e=W.current,l=e.createOscillator(),a=e.createGain();l.connect(a),a.connect(e.destination),l.frequency.value=800+400*Math.random(),l.type="sine",a.gain.setValueAtTime(.03,e.currentTime),a.gain.exponentialRampToValueAtTime(.001,e.currentTime+.05),l.start(e.currentTime),l.stop(e.currentTime+.05);}catch{}},[o]),V=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let l=e.code,a=performance.now();H.current>0&&A(`${(a-H.current).toFixed(1)} ms`),H.current=a,$.current.push(a),f(e=>new Set(e).add(l)),b(e=>new Set(e).add(l)),y(e=>e+1),k(e=>({...e,[l]:(e[l]||0)+1})),N(l),1===e.key.length?E(l=>l+e.key):"Backspace"===e.key?E(e=>e.slice(0,-1)):"Enter"===e.key&&E(e=>e+"\n"),G();},[G]),Y=(0,n.useCallback)(e=>{e.preventDefault(),f(l=>{let a=new Set(l);return a.delete(e.code),a;});},[]);(0,n.useEffect)(()=>{let e=O.current;if(e)return e.addEventListener("keydown",V),e.addEventListener("keyup",Y),()=>{e.removeEventListener("keydown",V),e.removeEventListener("keyup",Y);};},[V,Y]),(0,n.useEffect)(()=>{var e;null===(e=O.current)||void 0===e||e.focus();},[]),(0,n.useEffect)(()=>{let e=setInterval(()=>{let e=performance.now(),l=e-1e3,a=e-6e4,t=$.current.filter(e=>e>l).length,d=$.current.filter(e=>e>a).length;P(t),I(d),q(e=>[...e.slice(1),t]),$.current=$.current.filter(e=>e>a);},1e3);return()=>clearInterval(e);},[]),(0,n.useEffect)(()=>{let e=U.current;if(!e)return;let l=e.getContext("2d");if(!l)return;let a=e.width,t=e.height,d=Math.max(...z,5);l.clearRect(0,0,a,t),l.strokeStyle="#eee",l.lineWidth=1;for(let e=0;e<=4;e++){let d=t/4*e;l.beginPath(),l.moveTo(0,d),l.lineTo(a,d),l.stroke();}let c=a/60-1;z.forEach((e,a)=>{let s=e/d*(t-4),o=a*(c+1),i=l.createLinearGradient(o,t-s,o,t);i.addColorStop(0,"#4096ff"),i.addColorStop(1,"#1677ff"),l.fillStyle=i,l.fillRect(o,t-s,c,s);});},[z]);let X=e=>u.has(e)?"kb-key kb-key--active":r.has(e)?"kb-key kb-key--pressed":"kb-key",Q=(0,n.useMemo)(()=>"Mac"===a?"60%"===e?D:K:"60%"===e?F:"80%"===e?R:C,[a,e]),Z=(0,n.useMemo)(()=>(function(e){let l=[],a=0;return e.forEach((e,t)=>{let d=0,c=52*t;e.forEach(e=>{if(e.code.startsWith("_gap")){d+=(e.width??1)*52;return;}let a=e.width??1,t=e.height??1;l.push({code:e.code,label:e.label,subLabel:e.subLabel,x:d,y:c,w:52*a-4,h:52*t-4}),d+=52*a;}),a=Math.max(a,d-4);}),{keys:l,width:a,height:52*e.length-4};})(Q),[Q]),J=Q.flat().filter(e=>!e.code.startsWith("_gap")).length,ee=Object.keys(j).length>0?Object.entries(j).reduce((e,l)=>l[1]>e[1]?l:e):null,el="-"!==M?`${Math.round(1e3/parseFloat(M))} Hz`:"-";return(0,c.jsxs)("div",{className:"keyboard-test",ref:O,tabIndex:0,style:{outline:"none"},children:[(0,c.jsxs)("div",{className:"kb-toolbar",children:[(0,c.jsxs)("div",{className:"kb-toolbar-group",children:[(0,c.jsx)("span",{className:"kb-toolbar-label",children:"LAYOUT SIZE"}),(0,c.jsx)(v.default,{size:"small",value:e,onChange:l,options:["100%","80%","60%"]})]}),(0,c.jsxs)("div",{className:"kb-toolbar-group",children:[(0,c.jsx)("span",{className:"kb-toolbar-label",children:"OS"}),(0,c.jsx)(v.default,{size:"small",value:a,onChange:t,options:["Windows","Mac"]})]}),(0,c.jsxs)("div",{className:"kb-toolbar-group",children:[(0,c.jsx)("span",{className:"kb-toolbar-label",children:"TYPE"}),(0,c.jsx)(v.default,{size:"small",value:d,onChange:s,options:["Desktop","Laptop"]})]}),(0,c.jsxs)("div",{className:"kb-toolbar-group",children:[(0,c.jsx)("span",{className:"kb-toolbar-label",children:"SOUND"}),(0,c.jsx)(w.default,{checked:o,onChange:i,checkedChildren:"On",unCheckedChildren:"Off",size:"small"})]}),(0,c.jsxs)("div",{className:"kb-toolbar-group",children:[(0,c.jsx)("span",{className:"kb-toolbar-label",children:"ACTION"}),(0,c.jsx)("button",{className:"kb-reset-btn",onClick:()=>{var e;b(new Set),f(new Set),y(0),k({}),N("-"),A("-"),E(""),P(0),I(0),q(Array(60).fill(0)),$.current=[],H.current=0,null===(e=O.current)||void 0===e||e.focus();},children:"Reset"})]})]}),(0,c.jsxs)("div",{className:"kb-input-area",children:[(0,c.jsxs)("div",{className:"kb-input-text",children:[T||(0,c.jsx)("span",{className:"kb-input-placeholder",children:"Start typing..."}),(0,c.jsx)("span",{className:"kb-input-cursor"})]}),(0,c.jsx)(h.default,{count:`${r.size} keys`,showZero:!0,style:{backgroundColor:r.size===J?"#52c41a":"#1677ff",fontSize:12}})]}),(0,c.jsx)("div",{className:"kb-layout",style:{width:Z.width+36,height:Z.height+36},children:Z.keys.map(e=>{let l=j[e.code]||0;return(0,c.jsxs)("div",{className:X(e.code),style:{position:"absolute",left:e.x+18,top:e.y+18,width:e.w,height:e.h},title:`${e.code} (${l})`,children:[e.subLabel&&(0,c.jsx)("span",{className:"kb-key-sub",children:e.subLabel}),(0,c.jsx)("span",{className:"kb-key-label",children:e.label}),l>0&&(0,c.jsx)("span",{className:"kb-key-count",children:l})]},e.code);})}),(0,c.jsxs)(x.default,{gutter:16,style:{marginTop:16},children:[(0,c.jsx)(g.default,{xs:24,md:12,children:(0,c.jsx)(m.default,{title:"Stats",size:"small",className:"kb-stats-card",children:(0,c.jsxs)(x.default,{gutter:[16,16],children:[(0,c.jsx)(g.default,{span:12,children:(0,c.jsxs)("div",{className:"kb-stat-item",children:[(0,c.jsx)("div",{className:"kb-stat-label",children:"Active Keys"}),(0,c.jsx)("div",{className:"kb-stat-value kb-stat-value--blue",children:u.size})]})}),(0,c.jsx)(g.default,{span:12,children:(0,c.jsxs)("div",{className:"kb-stat-item",children:[(0,c.jsx)("div",{className:"kb-stat-label",children:"Total Presses"}),(0,c.jsx)("div",{className:"kb-stat-value",children:p})]})}),(0,c.jsx)(g.default,{span:12,children:(0,c.jsxs)("div",{className:"kb-stat-item",children:[(0,c.jsx)("div",{className:"kb-stat-label",children:"Most Pressed"}),(0,c.jsx)("div",{className:"kb-stat-value",children:ee?`${ee[0]} (${ee[1]})`:"-"})]})}),(0,c.jsx)(g.default,{span:12,children:(0,c.jsxs)("div",{className:"kb-stat-item",children:[(0,c.jsx)("div",{className:"kb-stat-label",children:"Last Key Code"}),(0,c.jsx)("div",{className:"kb-stat-value",children:L})]})}),(0,c.jsx)(g.default,{span:12,children:(0,c.jsxs)("div",{className:"kb-stat-item",children:[(0,c.jsx)("div",{className:"kb-stat-label",children:"Est. Scan Rate"}),(0,c.jsx)("div",{className:"kb-stat-value",children:el})]})}),(0,c.jsx)(g.default,{span:12,children:(0,c.jsxs)("div",{className:"kb-stat-item",children:[(0,c.jsx)("div",{className:"kb-stat-label",children:"Last Interval"}),(0,c.jsx)("div",{className:"kb-stat-value",children:M})]})})]})})}),(0,c.jsx)(g.default,{xs:24,md:12,children:(0,c.jsx)(m.default,{title:"Performance Monitor",size:"small",className:"kb-perf-card",extra:(0,c.jsxs)("div",{className:"kb-perf-badges",children:[(0,c.jsx)(S.default,{title:"Characters Per Second \u2014 keys pressed in the last 1 second",children:(0,c.jsxs)("div",{className:"kb-perf-badge",children:[(0,c.jsx)("span",{className:"kb-perf-badge-label",children:"CPS"}),(0,c.jsx)("span",{className:"kb-perf-badge-value",children:B})]})}),(0,c.jsx)(S.default,{title:"Actions Per Minute \u2014 total key presses in the last 60 seconds",children:(0,c.jsxs)("div",{className:"kb-perf-badge",children:[(0,c.jsx)("span",{className:"kb-perf-badge-label",children:"APM"}),(0,c.jsx)("span",{className:"kb-perf-badge-value",children:_})]})})]}),children:(0,c.jsx)("canvas",{ref:U,width:600,height:120,className:"kb-perf-canvas"})})})]})]});};var M=a("76451957"),A=t._(M),T=a("b2a1469e"),E=t._(T),B=a("6b280fda"),P=t._(B),_=a("3eb6f542"),I=t._(_),z=a("ea21718c"),q=t._(z),$=a("e23084de"),H=t._($),U=a("6effc0fd"),O=t._(U),W=a("d2d0b3b6"),G=t._(W),V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},Y=a("85c4e0d9"),X=t._(Y),Q=n.forwardRef(function(e,l){return n.createElement(X.default,(0,G.default)((0,G.default)({},e),{},{ref:l,icon:V}));}),Z=a("07d5c3d6"),J=t._(Z),ee=a("c361cdb9"),el=t._(ee),ea=a("2f2fe383"),et=t._(ea),ed=a("94efb982"),ec=t._(ed);let{Text:es,Title:eo}=O.default,ei=()=>{let e=(0,n.useRef)(null),l=(0,n.useRef)(null),a=(0,n.useRef)(null),t=(0,n.useRef)([]),[d,s]=(0,n.useState)([]),[o,i]=(0,n.useState)(""),[r,b]=(0,n.useState)(null),[u,h]=(0,n.useState)(""),[f,p]=(0,n.useState)(!0),[y,j]=(0,n.useState)(!1),[v,k]=(0,n.useState)(""),[L,S]=(0,n.useState)({}),[C,K]=(0,n.useState)(0),R=(0,n.useRef)(0),F=(0,n.useRef)(performance.now()),D=(0,n.useRef)(0),N=(0,n.useCallback)(async()=>{try{let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);s(e),e.length>0&&!o&&i(e[0].deviceId);}catch{h("Unable to enumerate devices");}},[o]),M=(0,n.useCallback)(async l=>{try{var a,t,d,c;r&&r.getTracks().forEach(e=>e.stop()),h("");let s=await navigator.mediaDevices.getUserMedia({video:{deviceId:l?{exact:l}:void 0,width:{ideal:1920},height:{ideal:1080}}});b(s),e.current&&(e.current.srcObject=s);let o=s.getVideoTracks()[0],i=o.getSettings(),n=null===(a=o.getCapabilities)||void 0===a?void 0:a.call(o);S({Label:o.label,Resolution:`${i.width} \xd7 ${i.height}`,"Frame Rate":`${i.frameRate} fps`,"Facing Mode":i.facingMode||"N/A","Aspect Ratio":(null===(t=i.aspectRatio)||void 0===t?void 0:t.toFixed(2))||"N/A","Max Resolution":n?`${null===(d=n.width)||void 0===d?void 0:d.max} \xd7 ${null===(c=n.height)||void 0===c?void 0:c.max}`:"N/A"});}catch(e){h(e.message||"Camera access denied");}},[r]);return(0,n.useEffect)(()=>{if(!r||!e.current)return;let l=e.current,a=()=>{R.current++;let e=performance.now();e-F.current>=1e3&&(K(R.current),R.current=0,F.current=e),D.current=requestAnimationFrame(a);};return l.onplay=()=>{D.current=requestAnimationFrame(a);},()=>cancelAnimationFrame(D.current);},[r]),(0,n.useEffect)(()=>{N();},[]),(0,n.useEffect)(()=>()=>{null==r||r.getTracks().forEach(e=>e.stop()),cancelAnimationFrame(D.current);},[r]),(0,c.jsx)("div",{className:"camera-test",children:(0,c.jsxs)(x.default,{gutter:[16,16],children:[(0,c.jsx)(g.default,{xs:24,lg:16,children:(0,c.jsxs)(m.default,{title:(0,c.jsxs)(q.default,{children:[(0,c.jsx)(ec.default,{}),"Camera Preview",r&&(0,c.jsxs)(H.default,{color:"green",children:[C," FPS"]})]}),extra:(0,c.jsx)(q.default,{children:(0,c.jsx)(w.default,{checkedChildren:"Mirror",unCheckedChildren:"Normal",checked:f,onChange:p})}),children:[u&&(0,c.jsx)(A.default,{message:u,type:"error",showIcon:!0,style:{marginBottom:16}}),(0,c.jsxs)("div",{className:"camera-preview-wrapper",children:[(0,c.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"camera-video",style:{transform:f?"scaleX(-1)":"none"}}),!r&&!u&&(0,c.jsxs)("div",{className:"camera-placeholder",children:[(0,c.jsx)(ec.default,{style:{fontSize:64,opacity:.3}}),(0,c.jsx)(es,{type:"secondary",style:{marginTop:16},children:'Click "Start Camera" to begin testing'})]}),y&&(0,c.jsx)("div",{className:"recording-indicator",children:"\u25CF REC"})]}),(0,c.jsx)("canvas",{ref:l,style:{display:"none"}}),(0,c.jsx)("div",{style:{marginTop:16},children:(0,c.jsxs)(q.default,{wrap:!0,children:[(0,c.jsx)(I.default,{style:{width:300},placeholder:"Select camera",value:o||void 0,onChange:e=>{i(e),M(e);},options:d.map(e=>({label:e.label||`Camera ${e.deviceId.slice(0,8)}`,value:e.deviceId}))}),r?(0,c.jsx)(E.default,{danger:!0,icon:(0,c.jsx)(et.default,{}),onClick:()=>{r.getTracks().forEach(e=>e.stop()),b(null),S({});},children:"Stop Camera"}):(0,c.jsx)(E.default,{type:"primary",icon:(0,c.jsx)(el.default,{}),onClick:()=>M(o),children:"Start Camera"}),(0,c.jsx)(E.default,{icon:(0,c.jsx)(Q,{}),onClick:()=>{if(!e.current||!l.current)return;let a=e.current,t=l.current;t.width=a.videoWidth,t.height=a.videoHeight;let d=t.getContext("2d");f&&(d.translate(t.width,0),d.scale(-1,1)),d.drawImage(a,0,0);let c=document.createElement("a");c.download=`camera-snapshot-${Date.now()}.png`,c.href=t.toDataURL("image/png"),c.click();},disabled:!r,children:"Snapshot"}),(0,c.jsx)(E.default,{icon:y?(0,c.jsx)(et.default,{}):(0,c.jsx)(ec.default,{}),onClick:()=>{if(y){var e;null===(e=a.current)||void 0===e||e.stop(),j(!1);return;}if(!r)return;t.current=[];let l=new MediaRecorder(r,{mimeType:"video/webm"});l.ondataavailable=e=>{e.data.size>0&&t.current.push(e.data);},l.onstop=()=>{let e=new Blob(t.current,{type:"video/webm"});k(URL.createObjectURL(e));},l.start(),a.current=l,j(!0);},disabled:!r,danger:y,children:y?"Stop Recording":"Record"}),v&&(0,c.jsx)(E.default,{icon:(0,c.jsx)(J.default,{}),onClick:()=>{if(!v)return;let e=document.createElement("a");e.href=v,e.download=`camera-recording-${Date.now()}.webm`,e.click();},children:"Download Recording"})]})})]})}),(0,c.jsx)(g.default,{xs:24,lg:8,children:(0,c.jsx)(m.default,{title:"Camera Information",style:{height:"100%"},children:Object.keys(L).length>0?(0,c.jsx)(P.default,{column:1,size:"small",bordered:!0,children:Object.entries(L).map(([e,l])=>(0,c.jsx)(P.default.Item,{label:e,children:l},e))}):(0,c.jsx)(es,{type:"secondary",children:"Start camera to see device information"})})})]})});};var er=a("cb3849a3"),en=t._(er),eb=a("8e6ac0a6"),eu=t._(eb),eh={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"}}]},name:"audio",theme:"outlined"},ef=n.forwardRef(function(e,l){return n.createElement(X.default,(0,G.default)((0,G.default)({},e),{},{ref:l,icon:eh}));});let{Text:em}=O.default,ep=()=>{let[e,l]=(0,n.useState)([]),[a,t]=(0,n.useState)(""),[d,s]=(0,n.useState)(!1),[o,i]=(0,n.useState)(""),[r,b]=(0,n.useState)(0),[u,h]=(0,n.useState)(0),[f,p]=(0,n.useState)(!1),[y,j]=(0,n.useState)(""),[v,k]=(0,n.useState)({}),[w,L]=(0,n.useState)(1),S=(0,n.useRef)(null),C=(0,n.useRef)(null),K=(0,n.useRef)(null),R=(0,n.useRef)(0),F=(0,n.useRef)(null),D=(0,n.useRef)([]),N=(0,n.useRef)(null),M=(0,n.useRef)(w),T=(0,n.useRef)(0);(0,n.useEffect)(()=>{M.current=w;},[w]),(0,n.useEffect)(()=>{if(!d)return;let e=C.current,l=N.current;if(!e||!l)return;let a=l.getContext("2d"),t=e.fftSize,c=new Uint8Array(t),s=new Uint8Array(e.frequencyBinCount),o=()=>{R.current=requestAnimationFrame(o),e.getByteTimeDomainData(c),e.getByteFrequencyData(s);let d=0;for(let e=0;e<t;e++){let l=(c[e]-128)/128;d+=l*l;}let i=Math.min(100,Math.round(200*Math.sqrt(d/t)*M.current));b(i),i>T.current&&(T.current=i,h(i));let r=l.width,n=l.height;a.fillStyle="#141414",a.fillRect(0,0,r,n);let u=Math.ceil(r/e.frequencyBinCount*2.5),f=0;for(let l=0;l<e.frequencyBinCount;l++){let t=s[l]/255*n*.85,d=l/e.frequencyBinCount*240;if(a.fillStyle=`hsl(${d}, 90%, 55%)`,a.fillRect(f,n-t,u,t),(f+=u+1)>r)break;}a.lineWidth=2,a.strokeStyle="rgba(255,255,255,0.85)",a.beginPath();let m=r/t,p=0;for(let e=0;e<t;e++){let l=c[e]/255*n;0===e?a.moveTo(p,l):a.lineTo(p,l),p+=m;}a.stroke();};return o(),()=>{cancelAnimationFrame(R.current);};},[d]),(0,n.useEffect)(()=>{(async()=>{try{let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"audioinput"===e.kind);l(e),e.length>0&&t(e[0].deviceId);}catch{i("Unable to enumerate audio devices");}})();},[]),(0,n.useEffect)(()=>()=>{var e,l;cancelAnimationFrame(R.current),null===(e=S.current)||void 0===e||e.getTracks().forEach(e=>e.stop()),null===(l=K.current)||void 0===l||l.close();},[]);let B=async e=>{try{var l,a;cancelAnimationFrame(R.current),null===(l=S.current)||void 0===l||l.getTracks().forEach(e=>e.stop()),null===(a=K.current)||void 0===a||a.close(),C.current=null,s(!1),i(""),T.current=0,h(0),b(0);let t=await navigator.mediaDevices.getUserMedia({audio:!e||{deviceId:{exact:e}}});S.current=t;let d=new AudioContext;"suspended"===d.state&&await d.resume();let c=d.createMediaStreamSource(t),o=d.createAnalyser();o.fftSize=2048,o.smoothingTimeConstant=.8,c.connect(o),K.current=d,C.current=o;let r=t.getAudioTracks()[0],n=r.getSettings();k({Label:r.label||"Unknown","Sample Rate":`${n.sampleRate??d.sampleRate} Hz`,"Channel Count":String(n.channelCount??"N/A"),"Echo Cancellation":n.echoCancellation?"Enabled":"Disabled","Noise Suppression":n.noiseSuppression?"Enabled":"Disabled","Auto Gain Control":n.autoGainControl?"Enabled":"Disabled"}),s(!0);}catch(e){i(e.message||"Microphone access denied");}};return(0,c.jsx)("div",{className:"microphone-test",children:(0,c.jsxs)(x.default,{gutter:[16,16],children:[(0,c.jsx)(g.default,{xs:24,lg:16,children:(0,c.jsxs)(m.default,{title:(0,c.jsxs)(q.default,{children:[(0,c.jsx)(ef,{}),"Microphone Test",d&&(0,c.jsx)(H.default,{color:"green",children:"Active"}),f&&(0,c.jsx)(H.default,{color:"red",children:"\u25CF Recording"})]}),children:[o&&(0,c.jsx)(A.default,{message:o,type:"error",showIcon:!0,style:{marginBottom:16}}),(0,c.jsx)("div",{className:"mic-visualizer",children:(0,c.jsx)("canvas",{ref:N,width:800,height:200,style:{width:"100%",height:200,borderRadius:8,border:"1px solid #303030",backgroundColor:"#141414"}})}),(0,c.jsx)("div",{style:{marginTop:16},children:(0,c.jsxs)(x.default,{gutter:16,align:"middle",children:[(0,c.jsxs)(g.default,{span:12,children:[(0,c.jsx)(em,{strong:!0,children:"Volume Level"}),(0,c.jsx)(en.default,{percent:r,strokeColor:r>70?"#ff4d4f":r>40?"#faad14":"#52c41a",status:"active",format:e=>`${e}%`})]}),(0,c.jsxs)(g.default,{span:12,children:[(0,c.jsx)(em,{strong:!0,children:"Peak Volume"}),(0,c.jsx)(en.default,{percent:u,strokeColor:"#1677ff",format:e=>`${e}%`})]})]})}),(0,c.jsxs)("div",{style:{marginTop:16},children:[(0,c.jsx)(em,{strong:!0,children:"Sensitivity"}),(0,c.jsx)(eu.default,{min:.5,max:5,step:.1,value:w,onChange:L,marks:{.5:"Low",1:"Normal",3:"High",5:"Max"}})]}),(0,c.jsx)("div",{style:{marginTop:16},children:(0,c.jsxs)(q.default,{wrap:!0,children:[(0,c.jsx)(I.default,{style:{width:300},placeholder:"Select microphone",value:a||void 0,onChange:e=>{t(e),d&&B(e);},options:e.map(e=>({label:e.label||`Mic ${e.deviceId.slice(0,8)}`,value:e.deviceId}))}),d?(0,c.jsx)(E.default,{danger:!0,icon:(0,c.jsx)(et.default,{}),onClick:()=>{var e,l;cancelAnimationFrame(R.current),null===(e=S.current)||void 0===e||e.getTracks().forEach(e=>e.stop()),null===(l=K.current)||void 0===l||l.close(),S.current=null,C.current=null,s(!1),b(0),h(0),T.current=0,k({});let a=N.current;if(a){let e=a.getContext("2d");null==e||e.clearRect(0,0,a.width,a.height);}},children:"Stop Mic"}):(0,c.jsx)(E.default,{type:"primary",icon:(0,c.jsx)(el.default,{}),onClick:()=>B(a),children:"Start Mic"}),(0,c.jsx)(E.default,{icon:f?(0,c.jsx)(et.default,{}):(0,c.jsx)(ef,{}),onClick:()=>{if(f){var e;null===(e=F.current)||void 0===e||e.stop(),p(!1);return;}let l=S.current;if(!l)return;D.current=[];let a=new MediaRecorder(l,{mimeType:"audio/webm"});a.ondataavailable=e=>{e.data.size>0&&D.current.push(e.data);},a.onstop=()=>{let e=new Blob(D.current,{type:"audio/webm"});j(URL.createObjectURL(e));},a.start(),F.current=a,p(!0);},disabled:!d,danger:f,children:f?"Stop Recording":"Record"}),y&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(E.default,{icon:(0,c.jsx)(J.default,{}),onClick:()=>{if(!y)return;let e=document.createElement("a");e.href=y,e.download=`mic-recording-${Date.now()}.webm`,e.click();},children:"Download"}),(0,c.jsx)("audio",{controls:!0,src:y,style:{height:32}})]})]})})]})}),(0,c.jsx)(g.default,{xs:24,lg:8,children:(0,c.jsx)(m.default,{title:"Microphone Information",style:{height:"100%"},children:Object.keys(v).length>0?(0,c.jsx)(P.default,{column:1,size:"small",bordered:!0,children:Object.entries(v).map(([e,l])=>(0,c.jsx)(P.default.Item,{label:e,children:l},e))}):(0,c.jsx)(em,{type:"secondary",children:"Start microphone to see device information"})})})]})});};var eg=a("1353d6cc"),ey=t._(eg),ex=a("a513ecde"),ej=t._(ex),ev=a("4602139f"),ek=t._(ev),ew=a("bf41679d"),eL=t._(ew),eS=a("376b0022"),eC=t._(eS);let{Text:eK,Title:eR}=O.default,eF=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],eD=[{label:"Sub Bass",freq:40,desc:"Deep rumble \u2014 tests sub-woofer / large drivers",color:"#722ed1"},{label:"Bass",freq:100,desc:"Kick drum body \u2014 warmth and punch",color:"#1677ff"},{label:"Low-Mid",freq:300,desc:"Male vocals, guitar body",color:"#13c2c2"},{label:"Mid",freq:1e3,desc:"Voice clarity, presence",color:"#52c41a"},{label:"High-Mid",freq:4e3,desc:"Consonants, sibilance, attack",color:"#faad14"},{label:"Treble",freq:1e4,desc:"Cymbals, air, brilliance",color:"#f5222d"}],eN=()=>{let[e,l]=(0,n.useState)(!1),[a,t]=(0,n.useState)(440),[d,s]=(0,n.useState)(.4),[o,i]=(0,n.useState)("both"),[r,b]=(0,n.useState)(!1),[u,h]=(0,n.useState)("both"),f=(0,n.useRef)(null),p=(0,n.useRef)(null),y=(0,n.useRef)(null),j=(0,n.useRef)(null),v=(0,n.useRef)(null),k=(0,n.useRef)("left"),w=e=>"left"===e?-1:"right"===e?1:0,L=(0,n.useCallback)(()=>{var e,l;try{null===(l=p.current)||void 0===l||l.stop();}catch{}p.current=null,y.current=null,j.current=null,null===(e=f.current)||void 0===e||e.close(),f.current=null,v.current&&(clearInterval(v.current),v.current=null);},[]),C=(0,n.useCallback)((e,l,a)=>{L();let t=new AudioContext,d=t.createOscillator(),c=t.createGain(),s=t.createStereoPanner();d.type="sine",d.frequency.value=e,c.gain.value=l,s.pan.value=w(a),d.connect(c),c.connect(s),s.connect(t.destination),d.start(),f.current=t,p.current=d,y.current=c,j.current=s,h(a);},[L]);(0,n.useEffect)(()=>{e&&p.current&&y.current&&j.current&&(p.current.frequency.value=a,y.current.gain.value=d,r||(j.current.pan.value=w(o),h(o)));},[a,d,o,e,r]),(0,n.useEffect)(()=>{if(e&&r)return v.current=setInterval(()=>{k.current="left"===k.current?"right":"left",j.current&&(j.current.pan.value=w(k.current),h(k.current));},1500),()=>{v.current&&clearInterval(v.current);};},[e,r]);let K=a=>{t(a),e?C(a,d,r?"left":o):(C(a,d,r?"left":o),l(!0));},R=l=>{i(l),b(!1),e&&j.current&&(j.current.pan.value=w(l),h(l));};(0,n.useEffect)(()=>()=>L(),[L]);let F=w(u),D=`${(F+1)/2*100}%`,N=`${a<1e3?a:(a/1e3).toFixed(1)+"k"} Hz`,M=function(e){let l=Math.round(12*Math.log2(e/440)+69),a=Math.floor(l/12)-1,t=eF[(l%12+12)%12],d=Math.round(1200*Math.log2(e/(440*Math.pow(2,(l-69)/12)))),c=0===d?"":d>0?` +${d}\xa2`:` ${d}\xa2`;return`${t}${a}${c}`;}(a);return(0,c.jsxs)("div",{className:"headphone-test",children:[(0,c.jsx)(A.default,{message:"Put on your headphones before starting the tests.",type:"info",showIcon:!0,style:{marginBottom:16}}),(0,c.jsxs)(x.default,{gutter:[16,16],children:[(0,c.jsx)(g.default,{xs:24,lg:12,children:(0,c.jsxs)(m.default,{title:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(eC.default,{})," Left / Right Channel Test"]}),size:"small",children:[(0,c.jsx)(eK,{type:"secondary",style:{display:"block",marginBottom:12},children:"Verifies that left and right earpieces are correctly wired. You should only hear sound in the indicated ear."}),(0,c.jsxs)("div",{style:{position:"relative",height:40,marginBottom:16},children:[(0,c.jsx)("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:4,background:"#303030",borderRadius:2,transform:"translateY(-50%)"}}),(0,c.jsx)("div",{style:{position:"absolute",top:"50%",left:D,width:20,height:20,borderRadius:"50%",background:e?"#1677ff":"#444",transform:"translate(-50%, -50%)",transition:"left 0.4s ease, background 0.3s",boxShadow:e?"0 0 8px #1677ff":"none"}}),(0,c.jsx)(eK,{style:{position:"absolute",left:0,top:"100%",fontSize:11,color:"#888"},children:"LEFT"}),(0,c.jsx)(eK,{style:{position:"absolute",right:0,top:"100%",fontSize:11,color:"#888"},children:"RIGHT"})]}),(0,c.jsxs)(q.default,{wrap:!0,style:{marginTop:24},children:[(0,c.jsx)(E.default,{type:"left"!==o||r?"default":"primary",onClick:()=>R("left"),children:"\u{1F507} Left Only"}),(0,c.jsx)(E.default,{type:"both"!==o||r?"default":"primary",onClick:()=>R("both"),children:"\u{1F50A} Both"}),(0,c.jsx)(E.default,{type:"right"!==o||r?"default":"primary",onClick:()=>R("right"),children:"Right Only \u{1F507}"}),(0,c.jsx)(E.default,{type:r?"primary":"default",icon:(0,c.jsx)(eC.default,{}),onClick:()=>{let l=!r;b(l),e&&(l?(k.current="left",j.current&&(j.current.pan.value=-1,h("left"))):(v.current&&clearInterval(v.current),j.current&&(j.current.pan.value=w(o),h(o))));},children:"Auto LR"})]}),e&&(0,c.jsx)("div",{style:{marginTop:12},children:(0,c.jsxs)(H.default,{color:"blue",children:["Playing:"," ","left"===u?"\u25C0 Left":"right"===u?"Right \u25B6":"\u25C0 Both \u25B6"]})})]})}),(0,c.jsx)(g.default,{xs:24,lg:12,children:(0,c.jsx)(m.default,{title:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(eL.default,{})," Tone Controls"]}),size:"small",children:(0,c.jsxs)(x.default,{gutter:[0,16],children:[(0,c.jsxs)(g.default,{span:24,children:[(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[(0,c.jsx)(eK,{strong:!0,children:"Frequency"}),(0,c.jsxs)(q.default,{children:[(0,c.jsx)(eK,{code:!0,children:N}),(0,c.jsx)(S.default,{title:"Closest musical note",children:(0,c.jsx)(H.default,{color:"geekblue",children:M})})]})]}),(0,c.jsx)(eu.default,{min:Math.sqrt(20),max:Math.sqrt(2e4),step:.01,value:Math.sqrt(a),onChange:e=>t(Math.round(e*e)),tooltip:{formatter:()=>N}}),(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,c.jsx)(eK,{type:"secondary",style:{fontSize:11},children:"20 Hz"}),(0,c.jsx)(eK,{type:"secondary",style:{fontSize:11},children:"20 kHz"})]})]}),(0,c.jsxs)(g.default,{span:24,children:[(0,c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[(0,c.jsx)(eK,{strong:!0,children:"Volume"}),(0,c.jsxs)(eK,{code:!0,children:[Math.round(100*d),"%"]})]}),(0,c.jsx)(eu.default,{min:0,max:1,step:.01,value:d,onChange:s,tooltip:{formatter:e=>`${Math.round((e??0)*100)}%`}})]}),(0,c.jsx)(g.default,{span:24,children:(0,c.jsx)(E.default,{type:"primary",size:"large",block:!0,icon:e?(0,c.jsx)(ek.default,{}):(0,c.jsx)(ej.default,{}),onClick:()=>{e?(L(),l(!1)):(C(a,d,r?"left":o),l(!0));},danger:e,children:e?"Stop Tone":"Play Tone"})})]})})}),(0,c.jsx)(g.default,{span:24,children:(0,c.jsxs)(m.default,{title:"Frequency Range Tests",size:"small",children:[(0,c.jsx)(eK,{type:"secondary",style:{display:"block",marginBottom:12},children:"Click a preset to play that frequency. Good headphones should reproduce all ranges clearly without distortion."}),(0,c.jsx)(x.default,{gutter:[12,12],children:eD.map(l=>(0,c.jsx)(g.default,{xs:12,sm:8,md:4,children:(0,c.jsx)(S.default,{title:l.desc,children:(0,c.jsxs)(E.default,{block:!0,style:{borderColor:l.color,color:e&&a===l.freq?"#fff":l.color,background:e&&a===l.freq?l.color:"transparent",height:64,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},onClick:()=>K(l.freq),children:[(0,c.jsx)("div",{style:{fontWeight:700,fontSize:14},children:l.label}),(0,c.jsx)("div",{style:{fontSize:11,opacity:.75},children:l.freq<1e3?`${l.freq} Hz`:`${l.freq/1e3} kHz`})]})})},l.freq))})]})}),(0,c.jsx)(g.default,{span:24,children:(0,c.jsx)(m.default,{title:"How to Use",size:"small",children:(0,c.jsxs)(x.default,{gutter:[16,8],children:[(0,c.jsxs)(g.default,{xs:24,sm:8,children:[(0,c.jsx)(eR,{level:5,children:"1. Left / Right Test"}),(0,c.jsx)(eK,{type:"secondary",children:'Click "Left Only" \u2014 you should only hear sound in your left ear. Click "Right Only" \u2014 only in the right ear. If it\'s reversed, your headphones are on backwards or the cable is swapped.'})]}),(0,c.jsx)(ey.default,{type:"vertical",style:{height:"auto"}}),(0,c.jsxs)(g.default,{xs:24,sm:7,children:[(0,c.jsx)(eR,{level:5,children:"2. Frequency Generator"}),(0,c.jsx)(eK,{type:"secondary",children:"Drag the slider through the full range (20 Hz \u2013 20 kHz). You should hear the tone get higher. If it disappears at any point, your headphones may have a gap in their frequency response."})]}),(0,c.jsx)(ey.default,{type:"vertical",style:{height:"auto"}}),(0,c.jsxs)(g.default,{xs:24,sm:7,children:[(0,c.jsx)(eR,{level:5,children:"3. Preset Range Tests"}),(0,c.jsx)(eK,{type:"secondary",children:"Click each preset and listen for distortion or complete silence. Bass presets test driver size; treble tests tweeter quality. All six should play cleanly on good headphones."})]})]})})})]})]});};var eM=a("b1cca642"),eA=t._(eM);let{Text:eT}=O.default,eE=["A / \u2715","B / \u25CB","X / \u25A1","Y / \u25B3","LB / L1","RB / R1","LT / L2","RT / R2","Back / Select","Start","L3 (Left Stick)","R3 (Right Stick)","D-Pad Up","D-Pad Down","D-Pad Left","D-Pad Right","Home / Guide"],eB=["Left Stick X","Left Stick Y","Right Stick X","Right Stick Y"],eP=()=>{let[e,l]=(0,n.useState)([]),[a,t]=(0,n.useState)(!1),d=(0,n.useRef)(0),s=(0,n.useRef)(null),o=(0,n.useRef)(null),i=(0,n.useCallback)(()=>{let e=navigator.getGamepads(),a=[],c=!1;for(let l=0;l<4;l++){let t=e[l];t?(c=!0,a.push({index:t.index,id:t.id,buttons:Array.from(t.buttons).map(e=>({pressed:e.pressed,value:e.value})),axes:Array.from(t.axes),timestamp:t.timestamp,mapping:t.mapping||"non-standard",connected:t.connected,vibrationActuator:!!t.vibrationActuator})):a.push(null);}if(l(a),t(c),c){let e=a.find(e=>null!==e);e&&(r(s.current,e.axes[0]||0,e.axes[1]||0),r(o.current,e.axes[2]||0,e.axes[3]||0));}d.current=requestAnimationFrame(i);},[]),r=(e,l,a)=>{if(!e)return;let t=e.getContext("2d");if(!t)return;let d=e.width,c=e.height,s=d/2,o=c/2,i=.4*d;t.clearRect(0,0,d,c),t.beginPath(),t.arc(s,o,i,0,2*Math.PI),t.fillStyle="#f0f0f0",t.fill(),t.strokeStyle="#d9d9d9",t.lineWidth=2,t.stroke(),t.beginPath(),t.moveTo(s-i,o),t.lineTo(s+i,o),t.moveTo(s,o-i),t.lineTo(s,o+i),t.strokeStyle="#e0e0e0",t.lineWidth=1,t.stroke(),t.beginPath(),t.arc(s,o,.15*i,0,2*Math.PI),t.strokeStyle="#bbb",t.setLineDash([3,3]),t.stroke(),t.setLineDash([]);let r=s+l*i,n=o+a*i;t.beginPath(),t.arc(r,n,10,0,2*Math.PI);let b=Math.sqrt(l*l+a*a);t.fillStyle=`hsl(${b>.8?0:b>.4?40:120}, 80%, 50%)`,t.fill(),t.strokeStyle="white",t.lineWidth=2,t.stroke(),t.fillStyle="#666",t.font="10px monospace",t.textAlign="center",t.fillText(`(${l.toFixed(2)}, ${a.toFixed(2)})`,s,c-5);};(0,n.useEffect)(()=>{let e=()=>i(),a=()=>{t(!1),l([]);};return window.addEventListener("gamepadconnected",e),window.addEventListener("gamepaddisconnected",a),d.current=requestAnimationFrame(i),()=>{window.removeEventListener("gamepadconnected",e),window.removeEventListener("gamepaddisconnected",a),cancelAnimationFrame(d.current);};},[i]);let b=e.find(e=>null!==e);return(0,c.jsxs)("div",{className:"gamepad-test",children:[!a&&(0,c.jsx)(A.default,{message:"No gamepad detected",description:"Connect a gamepad/controller and press any button to start testing. Supports Xbox, PlayStation, Switch Pro, and other standard controllers.",type:"info",showIcon:!0,style:{marginBottom:16}}),b&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(m.default,{title:(0,c.jsxs)(q.default,{children:[(0,c.jsx)(eA.default,{}),b.id,(0,c.jsx)(H.default,{color:"green",children:"Connected"}),(0,c.jsxs)(H.default,{color:"blue",children:[b.mapping," mapping"]})]}),style:{marginBottom:16},children:(0,c.jsxs)(x.default,{gutter:[16,16],children:[(0,c.jsxs)(g.default,{xs:24,md:12,children:[(0,c.jsx)(eT,{strong:!0,style:{display:"block",marginBottom:12},children:"Buttons"}),(0,c.jsx)("div",{className:"gamepad-buttons-grid",children:b.buttons.map((e,l)=>(0,c.jsxs)("div",{className:`gamepad-btn ${e.pressed?"gamepad-btn--pressed":""}`,children:[(0,c.jsx)("div",{className:"gamepad-btn-label",children:eE[l]||`Button ${l}`}),e.value>0&&e.value<1&&(0,c.jsx)(en.default,{percent:Math.round(100*e.value),size:"small",showInfo:!1,strokeColor:"#1677ff"})]},l))})]}),(0,c.jsxs)(g.default,{xs:24,md:12,children:[(0,c.jsx)(eT,{strong:!0,style:{display:"block",marginBottom:12},children:"Analog Sticks"}),(0,c.jsxs)(x.default,{gutter:16,children:[(0,c.jsx)(g.default,{span:12,children:(0,c.jsxs)("div",{style:{textAlign:"center"},children:[(0,c.jsx)(eT,{type:"secondary",children:"Left Stick"}),(0,c.jsx)("canvas",{ref:s,width:150,height:150,style:{display:"block",margin:"8px auto"}})]})}),(0,c.jsx)(g.default,{span:12,children:(0,c.jsxs)("div",{style:{textAlign:"center"},children:[(0,c.jsx)(eT,{type:"secondary",children:"Right Stick"}),(0,c.jsx)("canvas",{ref:o,width:150,height:150,style:{display:"block",margin:"8px auto"}})]})})]}),(0,c.jsxs)("div",{style:{marginTop:16},children:[(0,c.jsx)(eT,{strong:!0,style:{display:"block",marginBottom:8},children:"Axes"}),b.axes.map((e,l)=>(0,c.jsxs)("div",{style:{marginBottom:8},children:[(0,c.jsx)(eT,{type:"secondary",children:eB[l]||`Axis ${l}`}),(0,c.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,c.jsxs)("div",{className:"axis-bar-track",children:[(0,c.jsx)("div",{className:"axis-bar-fill",style:{left:"50%",width:`${50*Math.abs(e)}%`,transform:e<0?"translateX(-100%)":"none",backgroundColor:Math.abs(e)>.8?"#ff4d4f":"#1677ff"}}),(0,c.jsx)("div",{className:"axis-bar-center"})]}),(0,c.jsx)(eT,{code:!0,style:{minWidth:60,textAlign:"right"},children:e.toFixed(4)})]})]},l))]})]})]})}),(0,c.jsx)(m.default,{title:"Gamepad Details",size:"small",children:(0,c.jsxs)(P.default,{column:{xs:1,sm:2},size:"small",bordered:!0,children:[(0,c.jsx)(P.default.Item,{label:"ID",children:b.id}),(0,c.jsx)(P.default.Item,{label:"Index",children:b.index}),(0,c.jsx)(P.default.Item,{label:"Mapping",children:b.mapping}),(0,c.jsx)(P.default.Item,{label:"Buttons",children:b.buttons.length}),(0,c.jsx)(P.default.Item,{label:"Axes",children:b.axes.length}),(0,c.jsx)(P.default.Item,{label:"Vibration",children:b.vibrationActuator?(0,c.jsx)(H.default,{color:"green",children:"Supported"}):(0,c.jsx)(H.default,{color:"default",children:"Not Available"})})]})})]}),e.filter(e=>null!==e).length>1&&(0,c.jsx)(m.default,{title:"Connected Gamepads",size:"small",style:{marginTop:16},children:(0,c.jsx)(q.default,{direction:"vertical",style:{width:"100%"},children:e.map((e,l)=>e?(0,c.jsx)(h.default.Ribbon,{text:`Player ${l+1}`,children:(0,c.jsx)(m.default,{size:"small",children:(0,c.jsx)(eT,{children:e.id})})},l):null)})})]});},e_=["keyboard","camera","microphone","headphone","gamepad"],eI=()=>{let e=function(e){let l=e.split("/").pop();return e_.includes(l)?l:"keyboard";}((0,b.useLocation)().pathname);return(0,c.jsx)(s.PageContainer,{title:"Device Test",subTitle:"Test your keyboard, camera, microphone, headphone & gamepad",children:(0,c.jsx)("div",{className:"device-test-page",children:(0,c.jsx)(i.default,{activeKey:e,onChange:e=>{b.history.push(`/utility/device-test/${e}`);},type:"card",size:"large",items:[{key:"keyboard",label:"\u2328\uFE0F Keyboard",children:(0,c.jsx)(N,{})},{key:"camera",label:"\u{1F4F7} Camera",children:(0,c.jsx)(ei,{})},{key:"microphone",label:"\u{1F3A4} Microphone",children:(0,c.jsx)(ep,{})},{key:"headphone",label:"\u{1F3A7} Headphone",children:(0,c.jsx)(eN,{})},{key:"gamepad",label:"\u{1F3AE} Gamepad",children:(0,c.jsx)(eP,{})}]})})});};}}]);
//# sourceMappingURL=894bb97e-async.f71e42a7.js.map