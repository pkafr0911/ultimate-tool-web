(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["daf5cedc"],{"3490d26e":function(e,t,l){l.d(t,"__esModule",{value:!0}),l.e(t,{default:function(){return ef;}});var a=l("777fffbe"),s=l("852bbaa9"),r=l("1a7c85b4"),n=l("d43df923"),i=l("934a4b0d"),d=l("adbfb03b"),c=a._(d),o=l("b2a1469e"),f=a._(o),u=l("e9bcd22d"),h=a._(u),m=l("e2967699"),g=a._(m),p=l("d322be42"),x=s._(p),j=l("f1001040"),v=a._(j),y=l("8c3d8b3a"),b=a._(y),w=l("746e2865"),C=l("3cc4ef99"),S=l("15d1258b"),k=l("c7686553");let M=["wrap","nowrap","wrap-reverse"],T=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],$=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],_=(e,t)=>{let l=!0===t.wrap?"wrap":t.wrap;return{[`${e}-wrap-${l}`]:l&&M.includes(l)};},O=(e,t)=>{let l={};return $.forEach(a=>{l[`${e}-align-${a}`]=t.align===a;}),l[`${e}-align-stretch`]=!t.align&&!!t.vertical,l;},N=(e,t)=>{let l={};return T.forEach(a=>{l[`${e}-justify-${a}`]=t.justify===a;}),l;},G=e=>{let{componentCls:t}=e;return{[t]:{display:"flex",margin:0,padding:0,"&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}};},E=e=>{let{componentCls:t}=e;return{[t]:{"&-gap-small":{gap:e.flexGapSM},"&-gap-middle":{gap:e.flexGap},"&-gap-large":{gap:e.flexGapLG}}};},I=e=>{let{componentCls:t}=e,l={};return M.forEach(e=>{l[`${t}-wrap-${e}`]={flexWrap:e};}),l;},D=e=>{let{componentCls:t}=e,l={};return $.forEach(e=>{l[`${t}-align-${e}`]={alignItems:e};}),l;},R=e=>{let{componentCls:t}=e,l={};return T.forEach(e=>{l[`${t}-justify-${e}`]={justifyContent:e};}),l;};var z=(0,S.genStyleHooks)("Flex",e=>{let{paddingXS:t,padding:l,paddingLG:a}=e,s=(0,k.mergeToken)(e,{flexGapSM:t,flexGap:l,flexGapLG:a});return[G(s),E(s),I(s),D(s),R(s)];},()=>({}),{resetStyle:!1}),A=this&&this.__rest||function(e,t){var l={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(l[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(l[a[s]]=e[a[s]]);return l;};let Y=x.default.forwardRef((e,t)=>{let{prefixCls:l,rootClassName:a,className:s,style:r,flex:n,gap:i,children:d,vertical:c=!1,component:o="div"}=e,f=A(e,["prefixCls","rootClassName","className","style","flex","gap","children","vertical","component"]),{flex:u,direction:h,getPrefixCls:m}=x.default.useContext(C.ConfigContext),g=m("flex",l),[p,j,y]=z(g),S=null!=c?c:null==u?void 0:u.vertical,k=(0,v.default)(s,a,null==u?void 0:u.className,g,j,y,(0,v.default)(Object.assign(Object.assign(Object.assign({},_(g,e)),O(g,e)),N(g,e))),{[`${g}-rtl`]:"rtl"===h,[`${g}-gap-${i}`]:(0,w.isPresetSize)(i),[`${g}-vertical`]:S}),M=Object.assign(Object.assign({},null==u?void 0:u.style),r);return n&&(M.flex=n),i&&!(0,w.isPresetSize)(i)&&(M.gap=i),p(x.default.createElement(o,Object.assign({ref:t,className:k,style:M},(0,b.default)(f,["justify","wrap","align"])),d));});var P=l("7b738819"),B=a._(P),L=l("a5512054"),W=a._(L),F=l("3eb6f542");a._(F);var H=l("ea21718c"),U=a._(H),K=l("6effc0fd"),Q=a._(K),q=l("c9d8dc0b"),J=a._(q),V=l("4fa5c282"),X=a._(V),Z=l("2aa4d12e"),ee=a._(Z),et=l("dfa4ac87"),el=a._(et),ea=l("5d5723f8"),es=a._(ea);let{Text:er}=Q.default,en=({visible:e,onClose:t,difficulty:l,setDifficulty:a,rows:s,setRows:n,cols:i,setCols:d,mines:c,setMines:o,showTips:u,setShowTips:h,started:m,startGame:g,resetAll:p})=>{let[j,v]=(0,x.useState)(l),[y,b]=(0,x.useState)(s),[w,C]=(0,x.useState)(i),[S,k]=(0,x.useState)(c),[M,T]=(0,x.useState)(u);return(0,x.useEffect)(()=>{e&&(v(l),b(s),C(i),k(c),T(u));},[e]),(0,r.jsx)(el.default,{open:e,onCancel:t,footer:null,maskClosable:!1,centered:!0,title:"Game Setup",children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(er,{strong:!0,children:"Difficulty:"}),(0,r.jsxs)(B.default.Group,{value:j,onChange:e=>v(e.target.value),style:{display:"flex",flexDirection:"column",marginTop:8,gap:4},children:[(0,r.jsx)(B.default,{value:"beginner",children:"Beginner (9\xd79, 10 mines)"}),(0,r.jsx)(B.default,{value:"intermediate",children:"Intermediate (16\xd716, 40 mines)"}),(0,r.jsx)(B.default,{value:"advanced",children:"Advanced (16\xd730, 99 mines)"}),(0,r.jsx)(B.default,{value:"custom",children:"Custom"})]})]}),"custom"===j&&(0,r.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[(0,r.jsx)(er,{children:"Rows:"}),(0,r.jsx)(ee.default,{min:9,max:30,value:y,onChange:e=>b(e||9)}),(0,r.jsx)(er,{children:"Cols:"}),(0,r.jsx)(ee.default,{min:9,max:30,value:w,onChange:e=>C(e||9)}),(0,r.jsx)(er,{children:"Mines:"}),(0,r.jsx)(ee.default,{min:10,max:Math.max(10,Math.min(668,y*w-1)),value:S,onChange:e=>k(e||10)})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,r.jsx)(er,{children:"Show Tips:"}),(0,r.jsx)(es.default,{checked:M,onChange:T})]}),(0,r.jsxs)(U.default,{style:{justifyContent:"flex-end",display:"flex",marginTop:8},children:[(0,r.jsx)(f.default,{onClick:t,danger:!0,children:"Cancel"}),(0,r.jsx)(f.default,{type:"primary",onClick:()=>{let e=()=>{a(j),n(y),d(w),o(S),h(M),p(),t(),J.default.success("Game setup updated!");};m?el.default.confirm({title:"Restart Game?",content:"Changing settings will restart your current game and clear your progress. Continue?",okText:"Yes, restart",cancelText:"No, keep playing",centered:!0,onOk:e}):e();},children:"Confirm"})]})]})});},{Title:ei,Text:ed}=Q.default,ec={beginner:{rows:9,cols:9,mines:10},intermediate:{rows:16,cols:16,mines:40},advanced:{rows:16,cols:30,mines:99}},eo=(e,t,l)=>Math.max(t,Math.min(l,e)),ef=()=>{let[e,t]=(0,x.useState)("beginner"),[l,a]=(0,x.useState)(9),[s,d]=(0,x.useState)(9),[o,u]=(0,x.useState)(10),[m,p]=(0,x.useState)(!0),[j,v]=(0,x.useState)("reveal"),[y,b]=(0,x.useState)([]),[w,C]=(0,x.useState)(!1),[S,k]=(0,x.useState)(!1),[M,T]=(0,x.useState)(!1),[$,_]=(0,x.useState)(0),[O,N]=(0,x.useState)(0),[G,E]=(0,x.useState)(!0),I=(0,x.useRef)(null),D=(0,x.useRef)(!0),R=(0,n.useIsMobile)(),z=(0,i.useIsTouchDevice)(),A=(0,x.useMemo)(()=>R?4:6,[R]),P=(0,x.useMemo)(()=>R?s<=9?32:s<=16?24:s<=24?18:16:s<=9?40:s<=16?32:s<=24?28:22,[s,R]),L=(0,x.useMemo)(()=>{let e=window.innerWidth;return(P+2*A)*s>(R?e:e-160)?"flex-start":"center";},[P,s,R]);(0,x.useEffect)(()=>{if("custom"===e)return;let t=ec[e];t&&(a(t.rows),d(t.cols),u(t.mines));},[e]),(0,x.useEffect)(()=>{a(e=>eo(e,9,30)),d(e=>eo(e,9,30));let e=Math.max(10,Math.min(668,l*s-1));u(t=>eo(t,10,e));},[l,s]);let F=(e,t)=>Array.from({length:e},(e,l)=>Array.from({length:t},(e,t)=>({r:l,c:t,mined:!1,revealed:!1,flagged:!1,adjacent:0}))),H=(e,t,l,a)=>{let s=e.length,r=e[0].length,n=[];for(let e=0;e<s;e++)for(let a=0;a<r;a++)1>=Math.abs(e-t)&&1>=Math.abs(a-l)||n.push([e,a]);for(let e=n.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[n[e],n[t]]=[n[t],n[e]];}n.slice(0,a).forEach(([t,l])=>e[t][l].mined=!0);let i=[-1,0,1];for(let t=0;t<s;t++)for(let l=0;l<r;l++){if(e[t][l].mined){e[t][l].adjacent=-1;continue;}let a=0;for(let n of i)for(let d of i){if(0===n&&0===d)continue;let i=t+n,c=l+d;i>=0&&i<s&&c>=0&&c<r&&e[i][c].mined&&a++;}e[t][l].adjacent=a;}},K=()=>{let e=eo(l,9,30),t=eo(s,9,30),r=eo(o,10,Math.max(10,Math.min(668,e*t-1)));a(e),d(t),u(r),Q(),D.current=!0,C(!0),k(!1),T(!1),_(r),N(0),b(F(e,t)),J.default.success("New game ready \u2014 click a cell to start (first click is safe).");},Q=()=>{I.current&&(window.clearInterval(I.current),I.current=null);},q=()=>{I.current||(I.current=window.setInterval(()=>N(e=>e+1),1e3));},V=(e,t,l)=>{if(S)return;let a=l||y.map(e=>e.map(e=>({...e}))),s=a[e][t];if(!s||s.revealed||s.flagged)return a;if(s.revealed=!0,s.mined){for(let e=0;e<a.length;e++)for(let t=0;t<a[0].length;t++)a[e][t].mined&&(a[e][t].revealed=!0);return b(a),k(!0),T(!1),Q(),J.default.error("\u{1F4A5} Boom! You hit a mine."),a;}if(0===s.adjacent){let l=a.length,s=a[0].length,r=[[e,t]],n=[-1,0,1];for(;r.length;){let[e,t]=r.pop();for(let i of n)for(let d of n){let n=e+i,c=t+d;if(n<0||c<0||n>=l||c>=s)continue;let o=a[n][c];!o||o.revealed||o.flagged||(o.revealed=!0,0!==o.adjacent||o.mined||r.push([n,c]));}}}return b(a),a;},Z=e=>e.every(e=>e.every(e=>e.mined||e.revealed)),ee=(e,t)=>{if(S||M)return;let l=y;D.current&&(H(l=y.map(e=>e.map(e=>({...e}))),e,t,o),D.current=!1,q());let a=V(e,t,l);a&&!S&&Z(a)&&(T(!0),k(!0),Q(),_(e=>Math.max(0,e)),J.default.success("\u{1F389} You cleared the board \u2014 you win!"));},et=(e,t,l)=>{if(e.preventDefault(),!w||S||M)return;let a=y.map(e=>e.map(e=>({...e}))),s=a[t][l];if(!s.revealed){if(s.flagged)s.flagged=!1,_(e=>e+1);else{if($<=0)return J.default.warning("No flags left");s.flagged=!0,_(e=>e-1);}b(a),Z(a)&&(T(!0),k(!0),Q(),J.default.success("\u{1F389} You cleared the board \u2014 you win!"));}},el=(e,t)=>{if(S||M)return;let l=y[e][t];if(!l||!l.revealed||l.adjacent<=0)return;let a=y.length,s=y[0].length,r=0,n=[];for(let l=-1;l<=1;l++)for(let i=-1;i<=1;i++){if(0===l&&0===i)continue;let d=e+l,c=t+i;!(d<0)&&!(c<0)&&!(d>=a)&&!(c>=s)&&(n.push([d,c]),y[d][c].flagged&&r++);}if(r!==l.adjacent)return;let i=y.map(e=>e.map(e=>({...e})));for(let[e,t]of n)if(!i[e][t].flagged&&!i[e][t].revealed&&(i=V(e,t,i)||i,S))break;b(i),!S&&Z(i)&&(T(!0),k(!0),Q(),J.default.success("\u{1F389} You cleared the board \u2014 you win!"));},ea=()=>{Q(),C(!1),b([]),k(!1),T(!1),_(0),N(0),D.current=!0;};(0,x.useEffect)(()=>()=>Q(),[]);let es=({cell:e})=>{let t=["ms-cell"];return e.revealed&&t.push("ms-revealed"),e.flagged&&t.push("ms-flagged"),e.mined&&e.revealed&&t.push("ms-mine"),(0,r.jsx)("div",{className:t.join(" "),style:{width:P,height:P,lineHeight:`${P}px`,fontSize:Math.floor(.55*P)},onClick:t=>{t.preventDefault(),"reveal"===j?ee(e.r,e.c):et(t,e.r,e.c);},onContextMenu:t=>et(t,e.r,e.c),onDoubleClick:()=>el(e.r,e.c),children:e.revealed?e.mined?"\u{1F4A3}":e.adjacent>0?(0,r.jsx)("span",{className:`ms-num ms-num-${e.adjacent}`,children:e.adjacent}):"":e.flagged?"\u{1F6A9}":""});};return(0,r.jsxs)("div",{className:"ms-page",children:[M&&(0,r.jsx)(X.default,{}),(0,r.jsxs)(h.default,{className:"ms-card",variant:"borderless",children:[(0,r.jsx)(U.default,{children:(0,r.jsx)(ei,{level:3,children:"\u{1F4A3} Minesweeper "})}),(0,r.jsx)(ed,{type:"secondary",style:{display:"block",marginTop:8,marginBottom:16},children:'Minesweeper is a logic puzzle video game genre generally played on personal computers. The game features a grid of clickable tiles, with hidden "mines" dispersed throughout the board.'}),(0,r.jsxs)(Y,{justify:"center",align:"center",style:{gap:8,marginTop:16},children:[!w&&(0,r.jsx)(f.default,{style:{width:"100%"},type:"primary",onClick:K,children:"Start"}),w&&(0,r.jsx)(f.default,{style:{width:"100%"},danger:!0,onClick:()=>{ea(),J.default.info("Game reset. Choose settings and start.");},children:"Reset"}),(0,r.jsx)(f.default,{onClick:()=>E(!0),type:"dashed",icon:(0,r.jsx)(c.default,{})})]}),(0,r.jsxs)(W.default,{gutter:[12,12],align:"middle",children:[(0,r.jsx)(g.default,{xs:24,sm:12,md:10,lg:8,children:(0,r.jsx)(U.default,{direction:"vertical",size:"small",style:{width:"100%"},children:z&&(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsxs)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[(0,r.jsx)(ed,{children:"Tap Mode:"}),(0,r.jsxs)(B.default.Group,{value:j,onChange:e=>v(e.target.value),children:[(0,r.jsx)(B.default.Button,{value:"reveal",children:"\u{1F4A3} Reveal"}),(0,r.jsx)(B.default.Button,{value:"flag",children:"\u{1F6A9} Flag"})]})]})]})})}),(0,r.jsx)(g.default,{xs:24,sm:12,md:14,lg:16,children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:12},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(ed,{strong:!0,children:"Mines:"}),(0,r.jsx)("div",{children:$})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(ed,{strong:!0,children:"Time:"}),(0,r.jsxs)("div",{children:[O,"s"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(ed,{strong:!0,children:"Status:"}),(0,r.jsx)("div",{children:S?M?"Won \u2705":"Lost \u274C":w?"Playing":"Idle"})]})]})})]}),(0,r.jsx)("div",{className:"ms-board-wrap",style:{justifyContent:L},children:(0,r.jsx)("div",{className:"ms-board",style:{gridTemplateColumns:`repeat(${s}, ${P}px)`,gap:A,position:"relative"},children:y.length>0?y.map(e=>e.map(e=>(0,r.jsx)(es,{cell:e},`${e.r}-${e.c}`))):Array.from({length:l*s}).map((e,t)=>(0,r.jsx)("div",{className:"ms-cell",style:{width:P,height:P,lineHeight:`${P}px`,fontSize:Math.floor(.55*P),background:"#fafafa"},onClick:K},t))})}),!w&&!S&&(0,r.jsx)("div",{className:"ms-start-overlay",onClick:K,children:"CLICK TO START"}),S&&M&&(0,r.jsx)("div",{className:"ms-win-overlay",onClick:ea,children:"\u{1F389} YOU WIN \u{1F389}"}),S&&!M&&(0,r.jsx)("div",{className:"ms-lose-overlay",onClick:ea,children:"\u{1F4A5} YOU LOSE \u{1F4A5}"}),m&&(0,r.jsxs)("div",{className:"ms-tips",children:[(0,r.jsx)(ei,{level:5,children:"Quick Tips"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"First click never hits a mine \u2014 mines are placed after your first click."}),(0,r.jsx)("li",{children:"Right-click (or long press) to place a flag."}),(0,r.jsx)("li",{children:"Double-click a number to chord if flags match."}),(0,r.jsx)("li",{children:"Use custom mode for full control of board size."})]})]}),(0,r.jsx)("div",{style:{marginTop:12,textAlign:"center"},children:(0,r.jsx)(ed,{type:"secondary",children:"Made with \u2764\uFE0F \u2014 responsive and mobile friendly."})})]}),(0,r.jsx)(en,{visible:G,onClose:()=>E(!1),difficulty:e,setDifficulty:t,rows:l,setRows:a,cols:s,setCols:d,mines:o,setMines:u,showTips:m,setShowTips:p,started:w||S||M,startGame:K,resetAll:ea})]});};}}]);
//# sourceMappingURL=daf5cedc-async.2b99f080.js.map