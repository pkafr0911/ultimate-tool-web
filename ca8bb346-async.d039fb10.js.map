{"version":3,"sources":["src/pages/Playground/constants.ts","src/pages/Playground/index.tsx"],"sourcesContent":["export const DEFAULT_HTML = `<div class=\"container\">\n    <h1>Hello World üåç</h1>\n    <p>This is a live HTML + CSS + JS playground!</p>\n    <button id=\"clickBtn\">Click me</button>\n  </div>`;\nexport const DEFAULT_CSS = `\n  body {\n    font-family: 'Segoe UI', sans-serif;\n    background: linear-gradient(135deg, #fdfbfb, #ebedee);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n  }\n  .container { text-align: center; }\n  button {\n    background-color: #4CAF50;\n    color: white;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 6px;\n    cursor: pointer;\n    transition: 0.3s;\n  }\n  button:hover { background-color: #45a049; transform: scale(1.05); }\n  `;\nexport const DEFAULT_SCRIPT = `\n  document.getElementById('clickBtn').addEventListener('click', () => {\n    alert('Hello from JavaScript!');\n  });\n  `;\n","import {\n  CodeOutlined,\n  CopyOutlined,\n  DownloadOutlined,\n  EditOutlined,\n  FormatPainterOutlined,\n} from '@ant-design/icons';\nimport Editor from '@monaco-editor/react';\nimport { Button, Card, message, Segmented, Select, Space, Tabs, Typography } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { DEFAULT_CSS, DEFAULT_HTML, DEFAULT_SCRIPT } from './constants';\nimport './styles.less';\n\nconst { Title } = Typography;\n\nconst PlaygroundPage: React.FC = () => {\n  const [mode, setMode] = useState<'html' | 'playground'>('html');\n\n  // --- HTML / CSS / JS Playground ---\n  const [viewMode, setViewMode] = useState<'rich' | 'html'>('html');\n  const [htmlContent, setHtmlContent] = useState(DEFAULT_HTML);\n  const [cssContent, setCssContent] = useState(DEFAULT_CSS);\n  const [jsContent, setJsContent] = useState(DEFAULT_SCRIPT);\n  const [preview, setPreview] = useState('');\n\n  // --- Prettify HTML ---\n  const formatHTML = (html: string) => {\n    try {\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(html, 'text/html');\n      const formatNode = (node: Node, level = 0): string => {\n        const indent = '  '.repeat(level);\n        let formatted = '';\n        if (node.nodeType === Node.TEXT_NODE) {\n          const text = node.textContent?.trim();\n          if (text) formatted += indent + text + '\\n';\n          return formatted;\n        }\n        if (node.nodeType === Node.ELEMENT_NODE) {\n          const el = node as HTMLElement;\n          const tag = el.tagName.toLowerCase();\n          formatted += `${indent}<${tag}`;\n          for (const attr of Array.from(el.attributes)) {\n            formatted += ` ${attr.name}=\"${attr.value}\"`;\n          }\n          formatted += '>';\n          const childNodes = Array.from(el.childNodes);\n          const hasChildren = childNodes.some(\n            (child) => child.nodeType === Node.ELEMENT_NODE || child.textContent?.trim(),\n          );\n          if (hasChildren) formatted += '\\n';\n          for (const child of childNodes) formatted += formatNode(child, level + 1);\n          if (hasChildren) formatted += indent;\n          formatted += `</${tag}>\\n`;\n        }\n        return formatted;\n      };\n      const bodyNodes = Array.from(doc.body.childNodes);\n      return bodyNodes\n        .map((node) => formatNode(node))\n        .join('')\n        .trim();\n    } catch {\n      return html;\n    }\n  };\n\n  const prettifyHTML = () => {\n    if (!htmlContent.trim()) {\n      message.warning('No HTML content to prettify.');\n      return;\n    }\n    setHtmlContent(formatHTML(htmlContent));\n    message.success('HTML prettified!');\n  };\n\n  useEffect(() => {\n    const fullHTML = `\n      <!DOCTYPE html>\n      <html lang=\"en\">\n      <head><style>${cssContent}</style></head>\n      <body>\n        ${htmlContent}\n        <script>${jsContent}<\\/script>\n      </body>\n      </html>`;\n    setPreview(fullHTML);\n  }, [htmlContent, cssContent, jsContent]);\n\n  const handleCopy = async (content: string) => {\n    try {\n      await navigator.clipboard.writeText(content);\n      message.success('Copied!');\n    } catch {\n      message.error('Failed to copy.');\n    }\n  };\n\n  const handleDownload = (filename: string, content: string) => {\n    const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });\n    const link = document.createElement('a');\n    link.href = URL.createObjectURL(blob);\n    link.download = filename;\n    link.click();\n  };\n\n  // --- JS/TS Playground ---\n  const [language, setLanguage] = useState<'javascript' | 'typescript'>('javascript');\n  const [code, setCode] = useState(`// Try something!\\nconsole.log(\"Hello, playground!\");`);\n  const [output, setOutput] = useState<string>('');\n\n  const runCode = () => {\n    let captured: string[] = [];\n    const origLog = console.log;\n    const origErr = console.error;\n\n    console.log = (...args: any[]) => {\n      captured.push(args.join(' '));\n      origLog(...args);\n    };\n    console.error = (...args: any[]) => {\n      captured.push('‚ùå ' + args.join(' '));\n      origErr(...args);\n    };\n\n    try {\n      // eslint-disable-next-line no-new-func\n      const result = new Function(code)();\n      if (result !== undefined) captured.push(`‚û°Ô∏è ${String(result)}`);\n    } catch (err: any) {\n      captured.push(`‚ùå Error: ${err.message}`);\n    }\n\n    console.log = origLog;\n    console.error = origErr;\n    setOutput(captured.join('\\n'));\n  };\n\n  return (\n    <div className=\"playground-container\">\n      <Title level={2} className=\"playground-title\">\n        üß† Ultimate Playground\n      </Title>\n\n      <Segmented\n        options={[\n          { label: 'HTML / CSS / JS', value: 'html' },\n          { label: 'JS / TS Runner', value: 'playground' },\n        ]}\n        value={mode}\n        onChange={(val) => setMode(val as any)}\n        style={{ marginBottom: 16 }}\n      />\n\n      {mode === 'html' ? (\n        <Card className=\"html-card\" variant={'borderless'}>\n          <Tabs\n            defaultActiveKey=\"html\"\n            items={[\n              {\n                key: 'html',\n                label: 'HTML',\n                children: (\n                  <>\n                    <Space align=\"center\" style={{ marginBottom: 12 }}>\n                      <Segmented\n                        options={[\n                          { label: 'HTML Mode', value: 'html', icon: <CodeOutlined /> },\n                          { label: 'Rich Mode', value: 'rich', icon: <EditOutlined /> },\n                        ]}\n                        value={viewMode}\n                        onChange={(val) => setViewMode(val as any)}\n                      />\n                      <Button icon={<FormatPainterOutlined />} onClick={prettifyHTML}>\n                        Prettify\n                      </Button>\n                    </Space>\n                    {viewMode === 'rich' ? (\n                      <ReactQuill value={htmlContent} onChange={setHtmlContent} />\n                    ) : (\n                      <Editor\n                        height=\"400px\"\n                        language=\"html\"\n                        value={htmlContent}\n                        onChange={(val) => setHtmlContent(val || '')}\n                        options={{ minimap: { enabled: false } }}\n                      />\n                    )}\n                  </>\n                ),\n              },\n              {\n                key: 'css',\n                label: 'CSS',\n                children: (\n                  <>\n                    <Space align=\"center\" style={{ marginBottom: 12 }}>\n                      <Button\n                        icon={<FormatPainterOutlined />}\n                        onClick={() => message.info('Add CSS prettifier here')}\n                      >\n                        Prettify\n                      </Button>\n                    </Space>\n                    <Editor\n                      height=\"400px\"\n                      language=\"css\"\n                      value={cssContent}\n                      onChange={(val) => setCssContent(val || '')}\n                      options={{ minimap: { enabled: false } }}\n                    />\n                  </>\n                ),\n              },\n              {\n                key: 'js',\n                label: 'JS',\n                children: (\n                  <>\n                    <Space align=\"center\" style={{ marginBottom: 12 }}>\n                      <Button\n                        icon={<FormatPainterOutlined />}\n                        onClick={() => message.info('Add JS prettifier here')}\n                      >\n                        Prettify\n                      </Button>\n                    </Space>\n                    <Editor\n                      height=\"400px\"\n                      language=\"javascript\"\n                      value={jsContent}\n                      onChange={(val) => setJsContent(val || '')}\n                      options={{ minimap: { enabled: false } }}\n                    />\n                  </>\n                ),\n              },\n            ]}\n          />\n\n          <Space style={{ marginTop: 16 }}>\n            <Button icon={<CopyOutlined />} onClick={() => handleCopy(preview)}>\n              Copy All\n            </Button>\n            <Button\n              icon={<DownloadOutlined />}\n              onClick={() => handleDownload('index.html', preview)}\n            >\n              Download HTML\n            </Button>\n          </Space>\n\n          <div className=\"preview-pane\" style={{ marginTop: 24 }}>\n            <Title level={5}>Live Preview</Title>\n            <iframe\n              title=\"preview\"\n              srcDoc={preview}\n              className=\"html-preview\"\n              style={{\n                width: '100%',\n                height: '600px',\n                border: '1px solid #ddd',\n                borderRadius: 8,\n                background: '#fff',\n              }}\n            />\n          </div>\n        </Card>\n      ) : (\n        <Card className=\"playground-card\" variant={'borderless'}>\n          <Space style={{ marginBottom: 16 }}>\n            <Select\n              value={language}\n              onChange={(v) => setLanguage(v)}\n              options={[\n                { label: 'JavaScript', value: 'javascript' },\n                { label: 'TypeScript', value: 'typescript' },\n              ]}\n            />\n            <Button type=\"primary\" onClick={runCode}>\n              ‚ñ∂ Run\n            </Button>\n          </Space>\n\n          <Editor\n            height=\"400px\"\n            language={language}\n            value={code}\n            onChange={(val) => setCode(val || '')}\n            theme=\"vs-light\"\n            options={{\n              minimap: { enabled: false },\n              fontSize: 14,\n              scrollBeyondLastLine: false,\n              automaticLayout: true,\n            }}\n          />\n\n          <div className=\"playground-output\">\n            <Title level={5}>Output:</Title>\n            <pre>{output || '// Your output will appear here'}</pre>\n          </div>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nexport default PlaygroundPage;\n"],"names":[],"mappings":"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"}