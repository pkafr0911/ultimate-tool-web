(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["42fa4e67"],{bc7b36fe:function(e,t,i){e.exports="";},f5a76419:function(e,t,i){i.d(t,"__esModule",{value:!0}),i.e(t,{default:function(){return es;}});var l=i("777fffbe"),r=i("852bbaa9"),a=i("1a7c85b4"),n=i("47ffc2fb"),o=i("3cdaadee"),s=i("d43df923"),d=i("c0340237"),c=l._(d),u=i("1ee4d6ad"),h=l._(u),f=i("84cd549f"),p=l._(f),g=i("07d5c3d6"),x=l._(g),m=i("d2d0b3b6"),v=l._(m),w=i("d322be42"),b=r._(w),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M957.6 507.4L603.2 158.2a7.9 7.9 0 00-11.2 0L353.3 393.4a8.03 8.03 0 00-.1 11.3l.1.1 40 39.4-117.2 115.3a8.03 8.03 0 00-.1 11.3l.1.1 39.5 38.9-189.1 187H72.1c-4.4 0-8.1 3.6-8.1 8V860c0 4.4 3.6 8 8 8h344.9c2.1 0 4.1-.8 5.6-2.3l76.1-75.6 40.4 39.8a7.9 7.9 0 0011.2 0l117.1-115.6 40.1 39.5a7.9 7.9 0 0011.2 0l238.7-235.2c3.4-3 3.4-8 .3-11.2zM389.8 796.2H229.6l134.4-133 80.1 78.9-54.3 54.1zm154.8-62.1L373.2 565.2l68.6-67.6 171.4 168.9-68.6 67.6zM713.1 658L450.3 399.1 597.6 254l262.8 259-147.3 145z"}}]},name:"highlight",theme:"outlined"},y=i("85c4e0d9"),S=l._(y),C=b.forwardRef(function(e,t){return b.createElement(S.default,(0,v.default)((0,v.default)({},e),{},{ref:t,icon:j}));}),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"},k=b.forwardRef(function(e,t){return b.createElement(S.default,(0,v.default)((0,v.default)({},e),{},{ref:t,icon:_}));}),G=i("820c05df"),V=l._(G),N=b.forwardRef(function(e,t){return b.createElement(S.default,(0,v.default)((0,v.default)({},e),{},{ref:t,icon:V.default}));}),z=i("376b0022"),$=l._(z),A=i("8a2df7b6"),B=l._(A),R=i("70bd2056"),M=l._(R),T=i("7e7852f8"),U=i("b2a1469e"),F=l._(U),P=i("e9bcd22d"),I=l._(P),D=i("cec50f65"),L=l._(D),W=i("c9d8dc0b"),E=l._(W),O=i("ae31d792"),H=l._(O),q=i("ea21718c"),K=l._(q),Z=i("88b618ad"),Q=l._(Z),X=i("92be0fc5"),Y=l._(X),J=i("d4a32650"),ee=l._(J),et=i("6effc0fd"),ei=l._(et),el=i("34f06567"),er=l._(el),ea=i("7d44fa59"),en={container:"container-ifNp8X8v",black:"black-dzYcsv8L",white:"white-g7ji-nsv",previewSection:"previewSection-GnZ3WSda","svg-viewer-guide":"svg-viewer-guide-nxbycxb3",topActions:"topActions-UFx2oxkx",actions:"actions-66jwCBOd",previewTabs:"previewTabs-U_y_MWg8","ant-tabs-content-holder":"ant-tabs-content-holder-L5RM32NU",previewFooter:"previewFooter-vj4VT2rT",grey:"grey-uQ7R7QeA",previewWrapper:"previewWrapper-BjYbvX_x",editorBox:"editorBox-3UW17M3X",editorSection:"editorSection-QVl5cWPc",transparent:"transparent-P7OSMWzA",previewActions:"previewActions-CkErfeph","ant-tabs-content":"ant-tabs-content-K3XRNHSw",content:"content-MeCNiq_y",previewCodeBox:"previewCodeBox-TPkKQJk7"};let{Text:eo}=ei.default,es=()=>{let{darkMode:e}=(0,o.useDarkMode)(),[t,i]=(0,b.useState)(""),[l,r]=(0,b.useState)(""),[d,u]=(0,b.useState)(""),[f,g]=(0,b.useState)(""),[m,v]=(0,b.useState)("grey"),[w,j]=(0,b.useState)(null),[y,S]=(0,b.useState)("svg"),[_,G]=(0,b.useState)(!1),[V,z]=(0,b.useState)({width:"",height:""}),[A,R]=(0,b.useState)(1),U=(0,s.useIsMobile)(),P=(0,b.useRef)(0),D=(0,b.useRef)(null),W=(0,b.useRef)(null),O=(0,b.useRef)(null),[q,Z]=(0,b.useState)(null),X=e=>{let l=new FileReader;return l.onload=e=>{var l;let a=null===(l=e.target)||void 0===l?void 0:l.result;if(!a.includes("<svg")){E.default.error("Invalid SVG file");return;}let n=a.trim(),o="";i(o=t.trim()?`${t.trim()}

<!-- New SVG appended -->
${n}`:n),r(o),et(o),j({before:new Blob([o]).size}),E.default.success(t?"Appended new SVG!":"SVG loaded!");},l.readAsText(e),!1;},J=(e,t)=>{D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{e&&t&&el(e,t);},500);},et=e=>{let t=e.match(/width="([^"]+)"/),i=e.match(/height="([^"]+)"/);z({width:t?t[1]:"",height:i?i[1]:""});},el=(e,l)=>{if(!t.trim()){E.default.warning("No SVG loaded.");return;}if(!e||!l){E.default.warning("Please enter both width and height.");return;}let a=t;i(a=(a=a.includes("width=")?a.replace(/width="[^"]*"/,`width="${e}"`):a.replace("<svg",`<svg width="${e}"`)).includes("height=")?a.replace(/height="[^"]*"/,`height="${l}"`):a.replace("<svg",`<svg height="${l}"`)),r(a),E.default.success(`SVG resized to ${e} \xd7 ${l}`);},es=(e,t,i)=>{let l=new Blob([e],{type:i}),r=document.createElement("a");r.href=URL.createObjectURL(l),r.download=t,r.click(),URL.revokeObjectURL(r.href);},ed=e=>{let t=(e=(e=e.replace(/>\s+</g,"><").replace(/\r|\n/g,"").trim()).replace(/(>)(<)(\/*)/g,"$1\n$2$3")).split("\n"),i=0,l=[];return t.forEach(e=>{e.match(/^<\/\w/)&&i--;let t="  ".repeat(i),r=t+e.trim();r.match(/^<\w.*\s+\w+=/)&&(r=r.replace(/(\s+\w+=)/g,"\n"+t+"  $1")),l.push(r),e.match(/^<\w[^>]*[^/]>$/)&&i++;}),l.join("\n").trim();},ec=()=>`data:image/svg+xml;utf8,${encodeURIComponent(t)}`,eu=()=>`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(t)))}`,eh=async e=>new Promise((t,i)=>{let l=new Image;l.onload=()=>{let r=document.createElement("canvas");r.width=l.width,r.height=l.height;let a=r.getContext("2d");if(!a)return i("Canvas context not found");a.drawImage(l,0,0),t(r.toDataURL(e));},l.onerror=i,l.src=ec();}),ef=async()=>{try{let e=await eh("image/png"),t=document.createElement("a");t.href=e,t.download="image.png",t.click();}catch{E.default.error("Failed to convert to PNG.");}},ep=async()=>{try{let e=await eh("image/x-icon"),t=document.createElement("a");t.href=e,t.download="favicon.ico",t.click();}catch{E.default.error("Failed to convert to ICO.");}};return(0,a.jsxs)("div",{onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),P.current++,G(!0);},onDragOver:e=>{e.preventDefault(),e.stopPropagation();},onDragLeave:e=>{e.preventDefault(),e.stopPropagation(),P.current--,P.current<=0&&(P.current=0,G(!1));},onDrop:e=>{e.preventDefault(),e.stopPropagation(),G(!1),P.current=0;let t=e.dataTransfer.files;t.length>0&&X(t[0]);},style:{position:"relative",minHeight:"100vh"},children:[(0,a.jsxs)(I.default,{title:"\u{1F9E9} SVG Viewer",variant:"borderless",className:en.container,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ei.default.Title,{level:4,children:"\u{1F4D8} About SVG Viewer"}),(0,a.jsxs)(ei.default.Paragraph,{children:["This tool allows you to ",(0,a.jsx)(eo,{strong:!0,children:"upload"}),", ",(0,a.jsx)(eo,{strong:!0,children:"edit"}),", and",(0,a.jsx)(eo,{strong:!0,children:" preview SVG files"}),". You can optimize, prettify, resize, flip, and export SVGs as SVG, PNG, ICO, Data URI, or Base64 formats."]})]}),(0,a.jsx)("div",{className:en.content,children:(0,a.jsxs)(Q.default,{layout:U?"vertical":"horizontal",style:U?{height:1600}:{},children:[(0,a.jsx)(Q.default.Panel,{defaultSize:"50%",min:"20%",max:"70%",style:{padding:"0px 10px"},children:(0,a.jsxs)("div",{className:en.editorSection,children:[(0,a.jsxs)(K.default,{className:en.topActions,style:{marginTop:12,marginBottom:8},wrap:!0,children:[(0,a.jsx)(er.default,{beforeUpload:X,showUploadList:!1,accept:".svg",children:(0,a.jsx)(F.default,{icon:(0,a.jsx)(M.default,{}),children:"Upload SVG"})}),(0,a.jsx)(F.default,{onClick:()=>{if(!t.trim()){E.default.warning("No SVG code to prettify.");return;}try{let e=ed(t);i(e),r(e),et(e),E.default.success("SVG prettified!");}catch(e){console.error(e),E.default.error("Failed to prettify SVG.");}},icon:(0,a.jsx)(C,{}),children:"Prettify"}),(0,a.jsx)(F.default,{onClick:()=>{if(!t.trim()){E.default.warning("No SVG code to optimize.");return;}try{let e=new Blob([t]).size,l=(0,ea.optimize)(t,{multipass:!0}).data;l=l.replace(/\n+/g,"").replace(/\r+/g,"").replace(/\t+/g,"").replace(/\s{2,}/g," ").replace(/> </g,"><").trim();let a=new Blob([l]).size;i(l),r(l),j({before:e,after:a});let n=((e-a)/e*100).toFixed(1);E.default.success(`SVG optimized! Reduced by ${n}%`);}catch(e){console.error(e),E.default.error("Failed to optimize SVG.");}},icon:(0,a.jsx)(c.default,{}),children:"Optimize"})]}),w&&(0,a.jsxs)(eo,{type:"secondary",className:"mb-2 block",children:["Size: ",(0,a.jsxs)("b",{children:[(w.before/1024).toFixed(2)," KB"]}),w.after&&(0,a.jsxs)(a.Fragment,{children:[" ","\u2192 ",(0,a.jsxs)("b",{children:[(w.after/1024).toFixed(2)," KB"]})," (",((w.before-w.after)/w.before*100).toFixed(1),"% smaller)"]})]}),(0,a.jsx)("div",{className:en.editorBox,children:(0,a.jsx)(T.Editor,{height:"100%",defaultLanguage:"xml",value:t,onChange:e=>{let t=e||"";i(t),r(t),et(t);},onMount:e=>{O.current=e;let t=null,i=null,l=e=>{if(e){let t=e.querySelector("#__highlight_overlay__"),i=e.querySelector("#__highlight_tooltip__");t&&t.remove(),i&&i.remove();}},r=()=>{i&&(l(i.ownerSVGElement),i=null),Z(null),t=null;},a=e=>{let t;let r=e.ownerSVGElement;if(!r)return;if(l(r),"getBBox"in e&&"function"==typeof e.getBBox)try{t=e.getBBox();}catch(l){let i=e.getBoundingClientRect();t={x:i.x,y:i.y,width:i.width,height:i.height};}else{let i=e.getBoundingClientRect();t={x:i.x,y:i.y,width:i.width,height:i.height};}let a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("id","__highlight_overlay__"),a.setAttribute("x",t.x.toString()),a.setAttribute("y",t.y.toString()),a.setAttribute("width",t.width.toString()),a.setAttribute("height",t.height.toString()),a.setAttribute("fill","#1890ff"),a.setAttribute("fill-opacity","0.15"),a.setAttribute("stroke","#1890ff"),a.setAttribute("stroke-width","2"),a.setAttribute("pointer-events","none"),a.style.transition="all 0.15s ease";let n=document.createElementNS("http://www.w3.org/2000/svg","text");n.setAttribute("id","__highlight_tooltip__"),n.setAttribute("x",(t.x+t.width+5).toString()),n.setAttribute("y",(t.y+15).toString()),n.setAttribute("fill","#1890ff"),n.setAttribute("font-size","14"),n.setAttribute("font-family","monospace"),n.setAttribute("pointer-events","none"),n.textContent=`W: ${t.width.toFixed(1)} H: ${t.height.toFixed(1)}`,r.appendChild(a),r.appendChild(n),i=e,Z(e);};e.onMouseMove(l=>{let n=e.getValue(),o=l.target.position;if(!o)return;let s=e.getModel();if(!s)return;let d=s.getOffsetAt(o),c=n.lastIndexOf("<",d),u=n.indexOf(">",d);if(-1===c||-1===u||d<c||d>u){r();return;}let h=n.slice(c,u+1),f=h.match(/<([a-zA-Z][\w:-]*)\b([^>]*)>/i);if(!f)return;let p=f[1].toLowerCase(),g=f[2]||"";if(h===t&&i)return;t=h;let x=W.current;if(!x)return;let m=x.querySelector("svg");if(!m)return;let v=m.querySelectorAll(p);if(!v.length){r();return;}let w=null,b=g.replace(/\s*\/?\s*>?\s*$/,"").trim();(w=Array.from(v).find(e=>e.outerHTML.replace(/\s+/g," ").includes(b)))||(w=v[0]),i&&i!==w&&(i.style.stroke="",i.style.strokeWidth=""),a(w);}),e.onMouseLeave(()=>{r();});},theme:e?"vs-dark":"light",options:{minimap:{enabled:!1},wordWrap:"on",fontSize:14,lineNumbersMinChars:2,lineDecorationsWidth:0,lineNumbers:"on"}})}),(0,a.jsxs)(K.default,{className:en.actions,wrap:!0,children:[(0,a.jsx)(F.default,{type:"primary",onClick:()=>(0,n.handleCopy)(t,"Copied SVG code to clipboard!"),icon:(0,a.jsx)(h.default,{}),children:"Copy"}),(0,a.jsx)(F.default,{danger:!0,onClick:()=>{i(""),r(""),j(null),z({width:"",height:""});},icon:(0,a.jsx)(p.default,{}),children:"Clear"})]}),(0,a.jsxs)(K.default,{style:{float:"right",marginTop:16},children:[(0,a.jsx)(eo,{strong:!0,children:"Resize:"}),(0,a.jsx)(L.default,{size:"small",prefix:(0,a.jsx)(c.default,{}),placeholder:"W",style:{width:90},value:V.width,onChange:e=>{let t=e.target.value;z(e=>({...e,width:t})),t&&V.height&&J(t,V.height);}}),"x",(0,a.jsx)(L.default,{size:"small",prefix:(0,a.jsx)(c.default,{}),placeholder:"H",style:{width:90},value:V.height,onChange:e=>{let t=e.target.value;z(e=>({...e,height:t})),t&&V.width&&J(V.width,t);}}),(0,a.jsx)(ee.default,{title:"Flip H",children:(0,a.jsx)(F.default,{onClick:()=>{if(!t.trim()){E.default.warning("No SVG loaded.");return;}let e=t;i(e=e.replace(/<svg([^>]*)>/,(e,t)=>t.includes("transform=")?`<svg${t.replace(/transform="([^"]*)"/,'transform="scale(-1,1) $1"')}>`:`<svg${t} transform="scale(-1,1)">`)),r(e),E.default.success("Flipped horizontally!");},icon:(0,a.jsx)($.default,{})})}),(0,a.jsx)(ee.default,{title:"Flip V",children:(0,a.jsx)(F.default,{onClick:()=>{if(!t.trim()){E.default.warning("No SVG loaded.");return;}let e=t;i(e=e.replace(/<svg([^>]*)>/,(e,t)=>t.includes("transform=")?`<svg${t.replace(/transform="([^"]*)"/,'transform="scale(1,-1) $1"')}>`:`<svg${t} transform="scale(1,-1)">`)),r(e),E.default.success("Flipped vertically!");},icon:(0,a.jsx)($.default,{style:{transform:"rotate(90deg)"}})})})]})]})}),(0,a.jsx)(Q.default.Panel,{style:{padding:"0px 10px"},children:(0,a.jsxs)("div",{className:en.previewWrapper,children:[(0,a.jsx)(Y.default,{activeKey:y,onChange:e=>S(e),items:[{key:"svg",label:"SVG",children:(0,a.jsx)("div",{className:`${en.previewSection} ${en[m]}`,children:(0,a.jsx)("div",{ref:W,style:{transform:`scale(${A})`,transformOrigin:"top left",maxWidth:"100%",maxHeight:"100%",display:"inline-block"},dangerouslySetInnerHTML:{__html:l.split("<!-- New SVG appended -->").map((e,t)=>`<div>${e}</div>`).join("")}})})},{key:"png",label:"PNG",children:(0,a.jsx)("div",{className:`${en.previewSection} ${en[m]}`,children:(0,a.jsx)("img",{src:ec(),alt:"PNG preview",style:{maxWidth:"100%"}})})},{key:"ico",label:"ICO",children:(0,a.jsx)("div",{className:`${en.previewSection} ${en[m]}`,children:(0,a.jsx)("img",{src:ec(),alt:"ICO preview",style:{maxWidth:"100%"}})})},{key:"datauri",label:"Data URI",children:(0,a.jsx)("pre",{className:en.previewCodeBox,children:ec()})},{key:"base64",label:"Base64",children:(0,a.jsx)("pre",{className:en.previewCodeBox,children:eu()})}]}),(0,a.jsx)("div",{className:en.previewFooter,children:(0,a.jsxs)(K.default,{children:[(0,a.jsx)(H.default,{options:[{label:"Transparent",value:"transparent"},{label:"White",value:"white"},{label:"Grey",value:"grey"},{label:"Black",value:"black"}],value:m,onChange:e=>v(e)}),(0,a.jsx)(ee.default,{title:"Zoom Out",children:(0,a.jsx)(F.default,{icon:(0,a.jsx)(k,{}),onClick:()=>R(e=>Math.max(e-.1,.2))})}),(0,a.jsx)(ee.default,{title:"Zoom In",children:(0,a.jsx)(F.default,{icon:(0,a.jsx)(N,{}),onClick:()=>R(e=>Math.min(e+.1,3))})}),(0,a.jsx)(ee.default,{title:"Reset Zoom",children:(0,a.jsx)(F.default,{icon:(0,a.jsx)(B.default,{}),onClick:()=>R(1)})}),(0,a.jsxs)(eo,{type:"secondary",children:[Math.round(100*A),"%"]})]})}),(0,a.jsxs)("div",{className:en.previewActions,children:[["svg","png","ico"].includes(y)&&(0,a.jsxs)(F.default,{type:"primary",icon:(0,a.jsx)(x.default,{}),onClick:"svg"===y?()=>es(t,"image.svg","image/svg+xml"):"png"===y?ef:ep,children:["Download ",y.toUpperCase()]}),["datauri","base64"].includes(y)&&(0,a.jsxs)(F.default,{icon:(0,a.jsx)(h.default,{}),onClick:()=>(0,n.handleCopy)("datauri"===y?ec():eu(),`Copied ${y.toUpperCase()} to clipboard!`),children:["Copy ",y.toUpperCase()]})]})]})})]})}),(0,a.jsxs)("div",{className:en["svg-viewer-guide"],children:[(0,a.jsx)(ei.default.Title,{level:5,children:"\u{1F9ED} How to Use"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"Upload an SVG file via drag-and-drop or the upload button."}),(0,a.jsx)("li",{children:"Edit SVG code directly in the editor."}),(0,a.jsx)("li",{children:"Resize SVG using width/height inputs."}),(0,a.jsx)("li",{children:"Flip horizontally or vertically using the buttons."}),(0,a.jsx)("li",{children:"Prettify or optimize SVG with the respective buttons."}),(0,a.jsx)("li",{children:"Preview your SVG in different formats using the tabs."}),(0,a.jsx)("li",{children:"Download or copy the SVG, PNG, ICO, Data URI, or Base64 output."})]}),(0,a.jsx)(ei.default.Paragraph,{type:"secondary",children:"\u26A0\uFE0F Always check optimized SVGs to ensure no critical elements are removed."})]})]}),_&&(0,a.jsxs)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.1)",border:"2px dashed #1890ff",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",zIndex:1e3},children:[(0,a.jsx)(M.default,{style:{fontSize:48,color:"#1890ff"}}),(0,a.jsx)("p",{style:{fontSize:18,marginTop:8},children:"Drop your SVG file here to upload"})]})]});};}}]);
//# sourceMappingURL=42fa4e67-async.b70a2c12.js.map