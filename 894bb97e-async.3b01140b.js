(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["894bb97e"],{"4539ee1e":function(e,l,t){t.d(l,"__esModule",{value:!0}),t.e(l,{default:function(){return eQ;}});var a=t("777fffbe"),s=t("852bbaa9"),d=t("95bd365d"),r=t("26d8ab20"),i=t("05c9ca64"),c=a._(i),o=t("314fd1a3"),n=s._(o),u=t("2d281b0d"),b=t("54462ce3"),h=a._(b),f=t("bb4b9fac"),m=a._(f),x=t("c213ceab"),p=a._(x),g=t("e015c964"),y=a._(g),j=t("319e910c"),v=a._(j),k=t("0c5bfc2e"),w=a._(k),S=t("cb204712"),L=a._(S);let C=[[{code:"Escape",label:"Esc"},{code:"_gap1",label:"",width:1},{code:"F1",label:"F1"},{code:"F2",label:"F2"},{code:"F3",label:"F3"},{code:"F4",label:"F4"},{code:"_gap2",label:"",width:.5},{code:"F5",label:"F5"},{code:"F6",label:"F6"},{code:"F7",label:"F7"},{code:"F8",label:"F8"},{code:"_gap3",label:"",width:.5},{code:"F9",label:"F9"},{code:"F10",label:"F10"},{code:"F11",label:"F11"},{code:"F12",label:"F12"},{code:"_gap4",label:"",width:.25},{code:"PrintScreen",label:"PrtSc"},{code:"ScrollLock",label:"ScrLk"},{code:"Pause",label:"Pause"}],[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Backspace",width:2},{code:"_gap5",label:"",width:.25},{code:"Insert",label:"Ins"},{code:"Home",label:"Home"},{code:"PageUp",label:"PgUp"},{code:"_gap6",label:"",width:.25},{code:"NumLock",label:"Num"},{code:"NumpadDivide",label:"/"},{code:"NumpadMultiply",label:"*"},{code:"NumpadSubtract",label:"-"}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5},{code:"_gap7",label:"",width:.25},{code:"Delete",label:"Del"},{code:"End",label:"End"},{code:"PageDown",label:"PgDn"},{code:"_gap8",label:"",width:.25},{code:"Numpad7",label:"7"},{code:"Numpad8",label:"8"},{code:"Numpad9",label:"9"},{code:"NumpadAdd",label:"+",height:2}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Enter",width:2.25},{code:"_gap9",label:"",width:3.5},{code:"Numpad4",label:"4"},{code:"Numpad5",label:"5"},{code:"Numpad6",label:"6"}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75},{code:"_gap10",label:"",width:1.25},{code:"ArrowUp",label:"\u2191"},{code:"_gap11",label:"",width:1.25},{code:"Numpad1",label:"1"},{code:"Numpad2",label:"2"},{code:"Numpad3",label:"3"},{code:"NumpadEnter",label:"Ent",height:2}],[{code:"ControlLeft",label:"Ctrl",width:1.25},{code:"MetaLeft",label:"Win",width:1.25},{code:"AltLeft",label:"Alt",width:1.25},{code:"Space",label:"",width:6.25},{code:"AltRight",label:"Alt",width:1.25},{code:"MetaRight",label:"Win",width:1.25},{code:"ContextMenu",label:"Menu",width:1.25},{code:"ControlRight",label:"Ctrl",width:1.25},{code:"_gap12",label:"",width:.25},{code:"ArrowLeft",label:"\u2190"},{code:"ArrowDown",label:"\u2193"},{code:"ArrowRight",label:"\u2192"},{code:"_gap13",label:"",width:.25},{code:"Numpad0",label:"0",width:2},{code:"NumpadDecimal",label:"."}]],K=[[{code:"Escape",label:"Esc"},{code:"_gap1",label:"",width:1},{code:"F1",label:"F1"},{code:"F2",label:"F2"},{code:"F3",label:"F3"},{code:"F4",label:"F4"},{code:"_gap2",label:"",width:.5},{code:"F5",label:"F5"},{code:"F6",label:"F6"},{code:"F7",label:"F7"},{code:"F8",label:"F8"},{code:"_gap3",label:"",width:.5},{code:"F9",label:"F9"},{code:"F10",label:"F10"},{code:"F11",label:"F11"},{code:"F12",label:"F12"}],[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Delete",width:1.5}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Return",width:2.25}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75}],[{code:"Fn",label:"Fn",width:1},{code:"ControlLeft",label:"\u2303",width:1.25},{code:"AltLeft",label:"\u2325",width:1.25},{code:"MetaLeft",label:"\u2318",width:1.5},{code:"Space",label:"",width:5},{code:"MetaRight",label:"\u2318",width:1.5},{code:"AltRight",label:"\u2325",width:1.25},{code:"ArrowLeft",label:"\u2190"},{code:"ArrowDown",label:"\u2193"},{code:"ArrowUp",label:"\u2191"},{code:"ArrowRight",label:"\u2192"}]],M=[[{code:"Escape",label:"Esc"},{code:"_gap1",label:"",width:1},{code:"F1",label:"F1"},{code:"F2",label:"F2"},{code:"F3",label:"F3"},{code:"F4",label:"F4"},{code:"_gap2",label:"",width:.5},{code:"F5",label:"F5"},{code:"F6",label:"F6"},{code:"F7",label:"F7"},{code:"F8",label:"F8"},{code:"_gap3",label:"",width:.5},{code:"F9",label:"F9"},{code:"F10",label:"F10"},{code:"F11",label:"F11"},{code:"F12",label:"F12"},{code:"_gap4",label:"",width:.25},{code:"PrintScreen",label:"PrtSc"},{code:"ScrollLock",label:"ScrLk"},{code:"Pause",label:"Pause"}],[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Backspace",width:2},{code:"_gap5",label:"",width:.25},{code:"Insert",label:"Ins"},{code:"Home",label:"Home"},{code:"PageUp",label:"PgUp"}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5},{code:"_gap7",label:"",width:.25},{code:"Delete",label:"Del"},{code:"End",label:"End"},{code:"PageDown",label:"PgDn"}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Enter",width:2.25}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75},{code:"_gap10",label:"",width:1.25},{code:"ArrowUp",label:"\u2191"}],[{code:"ControlLeft",label:"Ctrl",width:1.25},{code:"MetaLeft",label:"Win",width:1.25},{code:"AltLeft",label:"Alt",width:1.25},{code:"Space",label:"",width:6.25},{code:"AltRight",label:"Alt",width:1.25},{code:"MetaRight",label:"Win",width:1.25},{code:"ContextMenu",label:"Menu",width:1.25},{code:"ControlRight",label:"Ctrl",width:1.25},{code:"_gap12",label:"",width:.25},{code:"ArrowLeft",label:"\u2190"},{code:"ArrowDown",label:"\u2193"},{code:"ArrowRight",label:"\u2192"}]],R=[[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Backspace",width:2}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Enter",width:2.25}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75}],[{code:"ControlLeft",label:"Ctrl",width:1.25},{code:"MetaLeft",label:"Win",width:1.25},{code:"AltLeft",label:"Alt",width:1.25},{code:"Space",label:"",width:6.25},{code:"AltRight",label:"Alt",width:1.25},{code:"MetaRight",label:"Win",width:1.25},{code:"ContextMenu",label:"Menu",width:1.25},{code:"ControlRight",label:"Ctrl",width:1.25}]],N=[[{code:"Backquote",label:"`",subLabel:"~"},{code:"Digit1",label:"1",subLabel:"!"},{code:"Digit2",label:"2",subLabel:"@"},{code:"Digit3",label:"3",subLabel:"#"},{code:"Digit4",label:"4",subLabel:"$"},{code:"Digit5",label:"5",subLabel:"%"},{code:"Digit6",label:"6",subLabel:"^"},{code:"Digit7",label:"7",subLabel:"&"},{code:"Digit8",label:"8",subLabel:"*"},{code:"Digit9",label:"9",subLabel:"("},{code:"Digit0",label:"0",subLabel:")"},{code:"Minus",label:"-",subLabel:"_"},{code:"Equal",label:"=",subLabel:"+"},{code:"Backspace",label:"Delete",width:1.5}],[{code:"Tab",label:"Tab",width:1.5},{code:"KeyQ",label:"Q"},{code:"KeyW",label:"W"},{code:"KeyE",label:"E"},{code:"KeyR",label:"R"},{code:"KeyT",label:"T"},{code:"KeyY",label:"Y"},{code:"KeyU",label:"U"},{code:"KeyI",label:"I"},{code:"KeyO",label:"O"},{code:"KeyP",label:"P"},{code:"BracketLeft",label:"[",subLabel:"{"},{code:"BracketRight",label:"]",subLabel:"}"},{code:"Backslash",label:"\\",subLabel:"|",width:1.5}],[{code:"CapsLock",label:"Caps",width:1.75},{code:"KeyA",label:"A"},{code:"KeyS",label:"S"},{code:"KeyD",label:"D"},{code:"KeyF",label:"F"},{code:"KeyG",label:"G"},{code:"KeyH",label:"H"},{code:"KeyJ",label:"J"},{code:"KeyK",label:"K"},{code:"KeyL",label:"L"},{code:"Semicolon",label:";",subLabel:":"},{code:"Quote",label:"'",subLabel:'"'},{code:"Enter",label:"Return",width:2.25}],[{code:"ShiftLeft",label:"Shift",width:2.25},{code:"KeyZ",label:"Z"},{code:"KeyX",label:"X"},{code:"KeyC",label:"C"},{code:"KeyV",label:"V"},{code:"KeyB",label:"B"},{code:"KeyN",label:"N"},{code:"KeyM",label:"M"},{code:"Comma",label:",",subLabel:"<"},{code:"Period",label:".",subLabel:">"},{code:"Slash",label:"/",subLabel:"?"},{code:"ShiftRight",label:"Shift",width:2.75}],[{code:"Fn",label:"Fn",width:1},{code:"ControlLeft",label:"\u2303",width:1.25},{code:"AltLeft",label:"\u2325",width:1.25},{code:"MetaLeft",label:"\u2318",width:1.5},{code:"Space",label:"",width:5},{code:"MetaRight",label:"\u2318",width:1.5},{code:"AltRight",label:"\u2325",width:1.25}]],D=()=>{let[e,l]=(0,n.useState)("100%"),[t,a]=(0,n.useState)("Windows"),[s,r]=(0,n.useState)("Desktop"),[i,c]=(0,n.useState)(!0),[o,u]=(0,n.useState)(new Set),[b,f]=(0,n.useState)(new Set),[x,g]=(0,n.useState)(0),[j,k]=(0,n.useState)({}),[S,D]=(0,n.useState)("-"),[F,A]=(0,n.useState)("-"),[T,B]=(0,n.useState)(""),[E,z]=(0,n.useState)(0),[I,P]=(0,n.useState)(0),[_,$]=(0,n.useState)(Array(60).fill(0)),q=(0,n.useRef)([]),H=(0,n.useRef)(0),W=(0,n.useRef)(null),O=(0,n.useRef)(null),U=(0,n.useRef)(null),G=(0,n.useCallback)(()=>{if(i)try{U.current||(U.current=new AudioContext);let e=U.current,l=e.createOscillator(),t=e.createGain();l.connect(t),t.connect(e.destination),l.frequency.value=800+400*Math.random(),l.type="sine",t.gain.setValueAtTime(.03,e.currentTime),t.gain.exponentialRampToValueAtTime(.001,e.currentTime+.05),l.start(e.currentTime),l.stop(e.currentTime+.05);}catch{}},[i]),V=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation();let l=e.code,t=performance.now();H.current>0&&A(`${(t-H.current).toFixed(1)} ms`),H.current=t,q.current.push(t),f(e=>new Set(e).add(l)),u(e=>new Set(e).add(l)),g(e=>e+1),k(e=>({...e,[l]:(e[l]||0)+1})),D(l),1===e.key.length?B(l=>l+e.key):"Backspace"===e.key?B(e=>e.slice(0,-1)):"Enter"===e.key&&B(e=>e+"\n"),G();},[G]),Y=(0,n.useCallback)(e=>{e.preventDefault(),f(l=>{let t=new Set(l);return t.delete(e.code),t;});},[]);(0,n.useEffect)(()=>{let e=O.current;if(e)return e.addEventListener("keydown",V),e.addEventListener("keyup",Y),()=>{e.removeEventListener("keydown",V),e.removeEventListener("keyup",Y);};},[V,Y]),(0,n.useEffect)(()=>{var e;null===(e=O.current)||void 0===e||e.focus();},[]),(0,n.useEffect)(()=>{let e=setInterval(()=>{let e=performance.now(),l=e-1e3,t=e-6e4,a=q.current.filter(e=>e>l).length,s=q.current.filter(e=>e>t).length;z(a),P(s),$(e=>[...e.slice(1),a]),q.current=q.current.filter(e=>e>t);},1e3);return()=>clearInterval(e);},[]),(0,n.useEffect)(()=>{let e=W.current;if(!e)return;let l=e.getContext("2d");if(!l)return;let t=e.width,a=e.height,s=Math.max(..._,5);l.clearRect(0,0,t,a),l.strokeStyle="#eee",l.lineWidth=1;for(let e=0;e<=4;e++){let s=a/4*e;l.beginPath(),l.moveTo(0,s),l.lineTo(t,s),l.stroke();}let d=t/60-1;_.forEach((e,t)=>{let r=e/s*(a-4),i=t*(d+1),c=l.createLinearGradient(i,a-r,i,a);c.addColorStop(0,"#4096ff"),c.addColorStop(1,"#1677ff"),l.fillStyle=c,l.fillRect(i,a-r,d,r);});},[_]);let X=e=>b.has(e)?"kb-key kb-key--active":o.has(e)?"kb-key kb-key--pressed":"kb-key",Q=(0,n.useMemo)(()=>"Mac"===t?"60%"===e?N:K:"60%"===e?R:"80%"===e?M:C,[t,e]),Z=(0,n.useMemo)(()=>(function(e){let l=[],t=0;return e.forEach((e,a)=>{let s=0,d=52*a;e.forEach(e=>{if(e.code.startsWith("_gap")){s+=(e.width??1)*52;return;}let t=e.width??1,a=e.height??1;l.push({code:e.code,label:e.label,subLabel:e.subLabel,x:s,y:d,w:52*t-4,h:52*a-4}),s+=52*t;}),t=Math.max(t,s-4);}),{keys:l,width:t,height:52*e.length-4};})(Q),[Q]),J=Q.flat().filter(e=>!e.code.startsWith("_gap")).length,ee=Object.keys(j).length>0?Object.entries(j).reduce((e,l)=>l[1]>e[1]?l:e):null,el="-"!==F?`${Math.round(1e3/parseFloat(F))} Hz`:"-";return(0,d.jsxs)("div",{className:"keyboard-test",ref:O,tabIndex:0,style:{outline:"none"},children:[(0,d.jsxs)("div",{className:"kb-toolbar",children:[(0,d.jsxs)("div",{className:"kb-toolbar-group",children:[(0,d.jsx)("span",{className:"kb-toolbar-label",children:"LAYOUT SIZE"}),(0,d.jsx)(v.default,{size:"small",value:e,onChange:l,options:["100%","80%","60%"]})]}),(0,d.jsxs)("div",{className:"kb-toolbar-group",children:[(0,d.jsx)("span",{className:"kb-toolbar-label",children:"OS"}),(0,d.jsx)(v.default,{size:"small",value:t,onChange:a,options:["Windows","Mac"]})]}),(0,d.jsxs)("div",{className:"kb-toolbar-group",children:[(0,d.jsx)("span",{className:"kb-toolbar-label",children:"TYPE"}),(0,d.jsx)(v.default,{size:"small",value:s,onChange:r,options:["Desktop","Laptop"]})]}),(0,d.jsxs)("div",{className:"kb-toolbar-group",children:[(0,d.jsx)("span",{className:"kb-toolbar-label",children:"SOUND"}),(0,d.jsx)(w.default,{checked:i,onChange:c,checkedChildren:"On",unCheckedChildren:"Off",size:"small"})]}),(0,d.jsxs)("div",{className:"kb-toolbar-group",children:[(0,d.jsx)("span",{className:"kb-toolbar-label",children:"ACTION"}),(0,d.jsx)("button",{className:"kb-reset-btn",onClick:()=>{var e;u(new Set),f(new Set),g(0),k({}),D("-"),A("-"),B(""),z(0),P(0),$(Array(60).fill(0)),q.current=[],H.current=0,null===(e=O.current)||void 0===e||e.focus();},children:"Reset"})]})]}),(0,d.jsxs)("div",{className:"kb-input-area",children:[(0,d.jsxs)("div",{className:"kb-input-text",children:[T||(0,d.jsx)("span",{className:"kb-input-placeholder",children:"Start typing..."}),(0,d.jsx)("span",{className:"kb-input-cursor"})]}),(0,d.jsx)(h.default,{count:`${o.size} keys`,showZero:!0,style:{backgroundColor:o.size===J?"#52c41a":"#1677ff",fontSize:12}})]}),(0,d.jsx)("div",{className:"kb-layout",style:{width:Z.width+36,height:Z.height+36},children:Z.keys.map(e=>{let l=j[e.code]||0;return(0,d.jsxs)("div",{className:X(e.code),style:{position:"absolute",left:e.x+18,top:e.y+18,width:e.w,height:e.h},title:`${e.code} (${l})`,children:[e.subLabel&&(0,d.jsx)("span",{className:"kb-key-sub",children:e.subLabel}),(0,d.jsx)("span",{className:"kb-key-label",children:e.label}),l>0&&(0,d.jsx)("span",{className:"kb-key-count",children:l})]},e.code);})}),(0,d.jsxs)(y.default,{gutter:16,style:{marginTop:16},children:[(0,d.jsx)(p.default,{xs:24,md:12,children:(0,d.jsx)(m.default,{title:"Stats",size:"small",className:"kb-stats-card",children:(0,d.jsxs)(y.default,{gutter:[16,16],children:[(0,d.jsx)(p.default,{span:12,children:(0,d.jsxs)("div",{className:"kb-stat-item",children:[(0,d.jsx)("div",{className:"kb-stat-label",children:"Active Keys"}),(0,d.jsx)("div",{className:"kb-stat-value kb-stat-value--blue",children:b.size})]})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsxs)("div",{className:"kb-stat-item",children:[(0,d.jsx)("div",{className:"kb-stat-label",children:"Total Presses"}),(0,d.jsx)("div",{className:"kb-stat-value",children:x})]})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsxs)("div",{className:"kb-stat-item",children:[(0,d.jsx)("div",{className:"kb-stat-label",children:"Most Pressed"}),(0,d.jsx)("div",{className:"kb-stat-value",children:ee?`${ee[0]} (${ee[1]})`:"-"})]})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsxs)("div",{className:"kb-stat-item",children:[(0,d.jsx)("div",{className:"kb-stat-label",children:"Last Key Code"}),(0,d.jsx)("div",{className:"kb-stat-value",children:S})]})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsxs)("div",{className:"kb-stat-item",children:[(0,d.jsx)("div",{className:"kb-stat-label",children:"Est. Scan Rate"}),(0,d.jsx)("div",{className:"kb-stat-value",children:el})]})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsxs)("div",{className:"kb-stat-item",children:[(0,d.jsx)("div",{className:"kb-stat-label",children:"Last Interval"}),(0,d.jsx)("div",{className:"kb-stat-value",children:F})]})})]})})}),(0,d.jsx)(p.default,{xs:24,md:12,children:(0,d.jsx)(m.default,{title:"Performance Monitor",size:"small",className:"kb-perf-card",extra:(0,d.jsxs)("div",{className:"kb-perf-badges",children:[(0,d.jsx)(L.default,{title:"Characters Per Second \u2014 keys pressed in the last 1 second",children:(0,d.jsxs)("div",{className:"kb-perf-badge",children:[(0,d.jsx)("span",{className:"kb-perf-badge-label",children:"CPS"}),(0,d.jsx)("span",{className:"kb-perf-badge-value",children:E})]})}),(0,d.jsx)(L.default,{title:"Actions Per Minute \u2014 total key presses in the last 60 seconds",children:(0,d.jsxs)("div",{className:"kb-perf-badge",children:[(0,d.jsx)("span",{className:"kb-perf-badge-label",children:"APM"}),(0,d.jsx)("span",{className:"kb-perf-badge-value",children:I})]})})]}),children:(0,d.jsx)("canvas",{ref:W,width:600,height:120,className:"kb-perf-canvas"})})})]})]});};var F=t("fcdafdd3"),A=a._(F),T=t("0ec3d373"),B=a._(T),E=t("eb98543b"),z=a._(E),I=t("ebcabb49"),P=a._(I),_=t("4f331305"),$=a._(_),q=t("5a83e636"),H=a._(q),W=t("2206dff1"),O=a._(W),U=t("522a0302"),G=a._(U),V=t("2ac36d38"),Y=a._(V),X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},Q=t("8fb0e3f9"),Z=a._(Q),J=n.forwardRef(function(e,l){return n.createElement(Z.default,(0,Y.default)((0,Y.default)({},e),{},{ref:l,icon:X}));}),ee=t("1d2482ba"),el=a._(ee),et=t("26952d79"),ea=a._(et),es=t("93dfa8fe"),ed=a._(es),er=t("912a3cb5"),ei=a._(er),ec=t("376ce0b3"),eo=a._(ec),en=t("235f33b8"),eu=a._(en);let{Text:eb,Title:eh}=G.default;function ef(e,l,t){return e<l?{label:"Low",color:"#ff4d4f"}:e>t?{label:"High",color:"#ff4d4f"}:{label:"Good",color:"#52c41a"};}let em=()=>{let e=(0,n.useRef)(null),l=(0,n.useRef)(null),t=(0,n.useRef)(null),a=(0,n.useRef)(null),s=(0,n.useRef)([]),[r,i]=(0,n.useState)([]),[c,o]=(0,n.useState)(""),[u,b]=(0,n.useState)(null),[h,f]=(0,n.useState)(""),[x,g]=(0,n.useState)(!0),[j,v]=(0,n.useState)(!1),[k,S]=(0,n.useState)(""),[C,K]=(0,n.useState)({}),[M,R]=(0,n.useState)(0),[N,D]=(0,n.useState)(null),[F,T]=(0,n.useState)({brightness:[],contrast:[],sharpness:[],noise:[],fps:[]}),E=(0,n.useRef)(0),I=(0,n.useRef)(performance.now()),_=(0,n.useRef)(0),q=(0,n.useRef)(0),W=(0,n.useCallback)(async()=>{try{let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind);i(e),e.length>0&&!c&&o(e[0].deviceId);}catch{f("Unable to enumerate devices");}},[c]),U=(0,n.useCallback)(async l=>{try{var t,a,s,d;u&&u.getTracks().forEach(e=>e.stop()),f("");let r=await navigator.mediaDevices.getUserMedia({video:{deviceId:l?{exact:l}:void 0,width:{ideal:1920},height:{ideal:1080}}});b(r),e.current&&(e.current.srcObject=r);let i=r.getVideoTracks()[0],c=i.getSettings(),o=null===(t=i.getCapabilities)||void 0===t?void 0:t.call(i);K({Label:i.label,Resolution:`${c.width} \xd7 ${c.height}`,"Frame Rate":`${c.frameRate} fps`,"Facing Mode":c.facingMode||"N/A","Aspect Ratio":(null===(a=c.aspectRatio)||void 0===a?void 0:a.toFixed(2))||"N/A","Max Resolution":o?`${null===(s=o.width)||void 0===s?void 0:s.max} \xd7 ${null===(d=o.height)||void 0===d?void 0:d.max}`:"N/A"});}catch(e){f(e.message||"Camera access denied");}},[u]);(0,n.useEffect)(()=>{if(!u||!e.current)return;let l=e.current,t=()=>{E.current++;let e=performance.now();e-I.current>=1e3&&(R(E.current),E.current=0,I.current=e),_.current=requestAnimationFrame(t);};return l.onplay=()=>{_.current=requestAnimationFrame(t);},()=>cancelAnimationFrame(_.current);},[u]),(0,n.useEffect)(()=>{if(!u||!e.current){D(null);return;}let l=e.current,a=t.current;if(a)return q.current=setInterval(()=>{if(l.readyState<2)return;let e=function(e,l){if(!e.videoWidth||!e.videoHeight)return null;let t=Math.floor(.25*e.videoWidth),a=Math.floor(.25*e.videoHeight);l.width=t,l.height=a;let s=l.getContext("2d",{willReadFrequently:!0});if(!s)return null;s.drawImage(e,0,0,t,a);let d=s.getImageData(0,0,t,a).data,r=t*a,i=Array(256).fill(0),c=Array(256).fill(0),o=Array(256).fill(0),n=0,u=0,b=0,h=0,f=0;for(let e=0;e<d.length;e+=4){let l=d[e],t=d[e+1],a=d[e+2];i[l]++,c[t]++,o[a]++,n+=.299*l+.587*t+.114*a,b+=l,h+=t,f+=a;let s=Math.max(l,t,a),r=Math.min(l,t,a),m=(s+r)/2;u+=s===r?0:(s-r)/(m>127.5?510-s-r:s+r);}let m=n/r,x=u/r*100,p=b/r,g=h/r,y=f/r,j=0;for(let e=0;e<d.length;e+=4)j+=(.299*d[e]+.587*d[e+1]+.114*d[e+2]-m)**2;let v=Math.min(100,Math.sqrt(j/r)/128*100),k=0,w=0;for(let e=1;e<a-1;e+=2)for(let l=1;l<t-1;l+=2){let a=(e*t+l)*4,s=.299*d[a]+.587*d[a+1]+.114*d[a+2],r=.299*d[a-4*t]+.587*d[a-4*t+1]+.114*d[a-4*t+2];k+=Math.abs(r+(.299*d[a+4*t]+.587*d[a+4*t+1]+.114*d[a+4*t+2])+(.299*d[a-4]+.587*d[a-3]+.114*d[a-2])+(.299*d[a+4]+.587*d[a+5]+.114*d[a+6])-4*s),w++;}let S=Math.min(100,k/w/50*100),L=0,C=0;for(let e=0;e<a-4;e+=8)for(let l=0;l<t-4;l+=8){let a=0,s=[];for(let r=0;r<4;r++)for(let i=0;i<4;i++){let c=((e+r)*t+(l+i))*4,o=.299*d[c]+.587*d[c+1]+.114*d[c+2];s.push(o),a+=o;}a/=s.length;let r=0;for(let e of s)r+=(e-a)**2;L+=r/s.length,C++;}return{brightness:m,contrast:v,saturation:x,sharpness:S,noise:Math.min(100,Math.sqrt(L/C)/30*100),colorTemp:Math.max(2e3,Math.min(12e3,Math.round(6500+(p/(p+g+y)-y/(p+g+y))*15e3))),rHistogram:i,gHistogram:c,bHistogram:o};}(l,a);e&&(D(e),T(l=>{let t=(e,l)=>{let t=[...e,l];return t.length>60?t.slice(-60):t;};return{brightness:t(l.brightness,e.brightness),contrast:t(l.contrast,e.contrast),sharpness:t(l.sharpness,e.sharpness),noise:t(l.noise,e.noise),fps:t(l.fps,M)};}));},500),()=>clearInterval(q.current);},[u,M]),(0,n.useEffect)(()=>{W();},[]),(0,n.useEffect)(()=>()=>{null==u||u.getTracks().forEach(e=>e.stop()),cancelAnimationFrame(_.current),clearInterval(q.current);},[u]);let G=(0,n.useMemo)(()=>N?{chart:{height:180,spacing:[5,5,5,5],backgroundColor:"transparent"},title:{text:""},xAxis:{labels:{enabled:!1},title:{text:""},gridLineWidth:0},yAxis:{labels:{enabled:!1},title:{text:""},gridLineWidth:0},legend:{enabled:!1},credits:{enabled:!1},tooltip:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.25,lineWidth:1.5,marker:{enabled:!1},animation:!1}},series:[{type:"areaspline",name:"Red",data:N.rHistogram,color:"#ff4d4f"},{type:"areaspline",name:"Green",data:N.gHistogram,color:"#52c41a"},{type:"areaspline",name:"Blue",data:N.bHistogram,color:"#1677ff"}]}:{},[N]),V=(0,n.useMemo)(()=>({chart:{height:200,spacing:[10,10,10,10],backgroundColor:"transparent"},title:{text:""},xAxis:{labels:{enabled:!1},title:{text:""},gridLineWidth:0,tickWidth:0},yAxis:{min:0,max:100,title:{text:""},gridLineColor:"rgba(128,128,128,0.15)",labels:{style:{fontSize:"10px"}}},legend:{align:"center",verticalAlign:"bottom",itemStyle:{fontSize:"11px"}},credits:{enabled:!1},tooltip:{shared:!0,valueSuffix:"",headerFormat:""},plotOptions:{spline:{lineWidth:2,marker:{enabled:!1},animation:!1}},series:[{type:"spline",name:"Brightness",data:F.brightness.map(e=>Math.round(e/255*100)),color:"#faad14"},{type:"spline",name:"Contrast",data:F.contrast.map(Math.round),color:"#1677ff"},{type:"spline",name:"Sharpness",data:F.sharpness.map(Math.round),color:"#52c41a"},{type:"spline",name:"Noise",data:F.noise.map(Math.round),color:"#ff4d4f"}]}),[F]),Y=(0,n.useMemo)(()=>({chart:{height:140,spacing:[10,10,5,10],backgroundColor:"transparent"},title:{text:""},xAxis:{labels:{enabled:!1},title:{text:""},gridLineWidth:0,tickWidth:0},yAxis:{min:0,title:{text:""},gridLineColor:"rgba(128,128,128,0.15)",labels:{style:{fontSize:"10px"}}},legend:{enabled:!1},credits:{enabled:!1},tooltip:{valueSuffix:" fps",headerFormat:""},plotOptions:{area:{fillOpacity:.15,lineWidth:2,marker:{enabled:!1},animation:!1}},series:[{type:"area",name:"FPS",data:F.fps,color:"#722ed1"}]}),[F.fps]);return(0,d.jsxs)("div",{className:"camera-test",children:[(0,d.jsxs)(y.default,{gutter:[16,16],children:[(0,d.jsx)(p.default,{xs:24,lg:16,children:(0,d.jsxs)(m.default,{title:(0,d.jsxs)(H.default,{children:[(0,d.jsx)(ei.default,{}),"Camera Preview",u&&(0,d.jsxs)(O.default,{color:"green",children:[M," FPS"]})]}),extra:(0,d.jsx)(H.default,{children:(0,d.jsx)(w.default,{checkedChildren:"Mirror",unCheckedChildren:"Normal",checked:x,onChange:g})}),children:[h&&(0,d.jsx)(A.default,{message:h,type:"error",showIcon:!0,style:{marginBottom:16}}),(0,d.jsxs)("div",{className:"camera-preview-wrapper",children:[(0,d.jsx)("video",{ref:e,autoPlay:!0,playsInline:!0,muted:!0,className:"camera-video",style:{transform:x?"scaleX(-1)":"none"}}),!u&&!h&&(0,d.jsxs)("div",{className:"camera-placeholder",children:[(0,d.jsx)(ei.default,{style:{fontSize:64,opacity:.3}}),(0,d.jsx)(eb,{type:"secondary",style:{marginTop:16},children:'Click "Start Camera" to begin testing'})]}),j&&(0,d.jsx)("div",{className:"recording-indicator",children:"\u25CF REC"})]}),(0,d.jsx)("canvas",{ref:l,style:{display:"none"}}),(0,d.jsx)("canvas",{ref:t,style:{display:"none"}}),(0,d.jsx)("div",{style:{marginTop:16},children:(0,d.jsxs)(H.default,{wrap:!0,children:[(0,d.jsx)($.default,{style:{width:300},placeholder:"Select camera",value:c||void 0,onChange:e=>{o(e),U(e);},options:r.map(e=>({label:e.label||`Camera ${e.deviceId.slice(0,8)}`,value:e.deviceId}))}),u?(0,d.jsx)(B.default,{danger:!0,icon:(0,d.jsx)(ed.default,{}),onClick:()=>{u.getTracks().forEach(e=>e.stop()),b(null),K({});},children:"Stop Camera"}):(0,d.jsx)(B.default,{type:"primary",icon:(0,d.jsx)(ea.default,{}),onClick:()=>U(c),children:"Start Camera"}),(0,d.jsx)(B.default,{icon:(0,d.jsx)(J,{}),onClick:()=>{if(!e.current||!l.current)return;let t=e.current,a=l.current;a.width=t.videoWidth,a.height=t.videoHeight;let s=a.getContext("2d");x&&(s.translate(a.width,0),s.scale(-1,1)),s.drawImage(t,0,0);let d=document.createElement("a");d.download=`camera-snapshot-${Date.now()}.png`,d.href=a.toDataURL("image/png"),d.click();},disabled:!u,children:"Snapshot"}),(0,d.jsx)(B.default,{icon:j?(0,d.jsx)(ed.default,{}):(0,d.jsx)(ei.default,{}),onClick:()=>{if(j){var e;null===(e=a.current)||void 0===e||e.stop(),v(!1);return;}if(!u)return;s.current=[];let l=new MediaRecorder(u,{mimeType:"video/webm"});l.ondataavailable=e=>{e.data.size>0&&s.current.push(e.data);},l.onstop=()=>{let e=new Blob(s.current,{type:"video/webm"});S(URL.createObjectURL(e));},l.start(),a.current=l,v(!0);},disabled:!u,danger:j,children:j?"Stop Recording":"Record"}),k&&(0,d.jsx)(B.default,{icon:(0,d.jsx)(el.default,{}),onClick:()=>{if(!k)return;let e=document.createElement("a");e.href=k,e.download=`camera-recording-${Date.now()}.webm`,e.click();},children:"Download Recording"})]})})]})}),(0,d.jsx)(p.default,{xs:24,lg:8,children:(0,d.jsxs)(H.default,{direction:"vertical",style:{width:"100%"},size:16,children:[(0,d.jsx)(m.default,{title:"Camera Information",size:"small",children:Object.keys(C).length>0?(0,d.jsx)(z.default,{column:1,size:"small",bordered:!0,children:Object.entries(C).map(([e,l])=>(0,d.jsx)(z.default.Item,{label:e,children:l},e))}):(0,d.jsx)(eb,{type:"secondary",children:"Start camera to see device information"})}),N&&(0,d.jsx)(m.default,{title:"Image Quality",size:"small",children:(0,d.jsxs)("div",{className:"camera-quality-metrics",children:[[{label:"Brightness",value:N.brightness,max:255,percent:Math.round(N.brightness/255*100),rating:ef(N.brightness,60,200),tooltip:"Average luminance of the frame. Too dark (<60) or too bright (>200) is flagged.",color:"#faad14"},{label:"Contrast",value:N.contrast,max:100,percent:Math.round(N.contrast),rating:ef(N.contrast,15,90),tooltip:"Standard deviation of luminance. Low means flat/washed out image.",color:"#1677ff"},{label:"Saturation",value:N.saturation,max:100,percent:Math.round(N.saturation),rating:ef(N.saturation,10,85),tooltip:"Average color saturation. Low means desaturated/gray image.",color:"#eb2f96"},{label:"Sharpness",value:N.sharpness,max:100,percent:Math.round(N.sharpness),rating:ef(N.sharpness,10,101),tooltip:"Edge detection via Laplacian. Low means blurry image.",color:"#52c41a"},{label:"Noise",value:N.noise,max:100,percent:Math.round(N.noise),rating:ef(100-N.noise,30,101),tooltip:"Local variance estimation. High means noisy/grainy image.",color:"#ff4d4f"}].map(e=>(0,d.jsxs)("div",{className:"camera-metric-row",children:[(0,d.jsxs)("div",{className:"camera-metric-header",children:[(0,d.jsx)(L.default,{title:e.tooltip,children:(0,d.jsx)(eb,{strong:!0,style:{fontSize:12},children:e.label})}),(0,d.jsxs)(H.default,{size:4,children:[(0,d.jsx)(O.default,{color:"#52c41a"===e.rating.color?"success":"error",style:{margin:0,fontSize:10},children:e.rating.label}),(0,d.jsxs)(eb,{code:!0,style:{fontSize:11},children:[e.percent,"%"]})]})]}),(0,d.jsx)(P.default,{percent:e.percent,showInfo:!1,strokeColor:e.color,size:"small"})]},e.label)),(0,d.jsxs)("div",{className:"camera-metric-row",style:{marginTop:8},children:[(0,d.jsxs)("div",{className:"camera-metric-header",children:[(0,d.jsx)(L.default,{title:"Estimated correlated color temperature based on RGB ratios",children:(0,d.jsx)(eb,{strong:!0,style:{fontSize:12},children:"Color Temp"})}),(0,d.jsxs)(eb,{code:!0,style:{fontSize:11},children:["~",N.colorTemp,"K"]})]}),(0,d.jsx)("div",{className:"camera-color-temp-bar",children:(0,d.jsx)("div",{className:"camera-color-temp-indicator",style:{left:`${(N.colorTemp-2e3)/1e4*100}%`}})}),(0,d.jsxs)("div",{className:"camera-color-temp-labels",children:[(0,d.jsx)(eb,{type:"secondary",style:{fontSize:10},children:"Warm 2000K"}),(0,d.jsx)(eb,{type:"secondary",style:{fontSize:10},children:"Cool 12000K"})]})]})]})})]})})]}),u&&N&&(0,d.jsxs)(y.default,{gutter:[16,16],style:{marginTop:16},children:[(0,d.jsx)(p.default,{xs:24,md:12,children:(0,d.jsx)(m.default,{title:"RGB Histogram",size:"small",children:(0,d.jsx)(eu.default,{highcharts:eo.default,options:G})})}),(0,d.jsx)(p.default,{xs:24,md:12,children:(0,d.jsx)(m.default,{title:"Quality Over Time",size:"small",children:(0,d.jsx)(eu.default,{highcharts:eo.default,options:V})})}),(0,d.jsx)(p.default,{xs:24,md:12,children:(0,d.jsx)(m.default,{title:"FPS Over Time",size:"small",children:(0,d.jsx)(eu.default,{highcharts:eo.default,options:Y})})}),(0,d.jsx)(p.default,{xs:24,md:12,children:(0,d.jsx)(m.default,{title:"Quality Summary",size:"small",children:(0,d.jsxs)(z.default,{column:{xs:1,sm:2},size:"small",bordered:!0,children:[(0,d.jsx)(z.default.Item,{label:"Overall",children:(()=>{let e=Math.round((N.brightness>60&&N.brightness<200?25:5)+(N.contrast>15?25:10)+(N.sharpness>10?25:10)+(N.noise<50?25:5));return(0,d.jsxs)(O.default,{color:e>=80?"success":e>=50?"warning":"error",children:[e>=80?"Excellent":e>=50?"Acceptable":"Poor"," (",e,"/100)"]});})()}),(0,d.jsx)(z.default.Item,{label:"Brightness",children:N.brightness<60?"\u26A0\uFE0F Too dark \u2013 improve lighting":N.brightness>200?"\u26A0\uFE0F Overexposed \u2013 reduce light":"\u2705 Good exposure"}),(0,d.jsx)(z.default.Item,{label:"Focus",children:N.sharpness<10?"\u26A0\uFE0F Blurry \u2013 check focus":N.sharpness<30?"\u26A0\uFE0F Slightly soft":"\u2705 Sharp"}),(0,d.jsx)(z.default.Item,{label:"Noise",children:N.noise>60?"\u26A0\uFE0F Very noisy \u2013 improve lighting":N.noise>30?"\u26A0\uFE0F Some noise detected":"\u2705 Clean image"}),(0,d.jsx)(z.default.Item,{label:"Color",children:N.saturation<10?"\u26A0\uFE0F Very desaturated":N.saturation>85?"\u26A0\uFE0F Oversaturated":"\u2705 Good color"}),(0,d.jsx)(z.default.Item,{label:"Temperature",children:N.colorTemp<3500?"\u{1F536} Very warm (indoor/tungsten)":N.colorTemp>7500?"\u{1F537} Very cool (shade/overcast)":"\u2705 Neutral"})]})})})]})]});};var ex=t("649689e8"),ep=a._(ex),eg={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M842 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1zM512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm-94-392c0-50.6 41.9-92 94-92s94 41.4 94 92v224c0 50.6-41.9 92-94 92s-94-41.4-94-92V232z"}}]},name:"audio",theme:"outlined"},ey=n.forwardRef(function(e,l){return n.createElement(Z.default,(0,Y.default)((0,Y.default)({},e),{},{ref:l,icon:eg}));});let{Text:ej}=G.default,ev=()=>{let[e,l]=(0,n.useState)([]),[t,a]=(0,n.useState)(""),[s,r]=(0,n.useState)(!1),[i,c]=(0,n.useState)(""),[o,u]=(0,n.useState)(0),[b,h]=(0,n.useState)(0),[f,x]=(0,n.useState)(!1),[g,j]=(0,n.useState)(""),[v,k]=(0,n.useState)({}),[w,S]=(0,n.useState)(1),L=(0,n.useRef)(null),C=(0,n.useRef)(null),K=(0,n.useRef)(null),M=(0,n.useRef)(0),R=(0,n.useRef)(null),N=(0,n.useRef)([]),D=(0,n.useRef)(null),F=(0,n.useRef)(w),T=(0,n.useRef)(0);(0,n.useEffect)(()=>{F.current=w;},[w]),(0,n.useEffect)(()=>{if(!s)return;let e=C.current,l=D.current;if(!e||!l)return;let t=l.getContext("2d"),a=e.fftSize,d=new Uint8Array(a),r=new Uint8Array(e.frequencyBinCount),i=()=>{M.current=requestAnimationFrame(i),e.getByteTimeDomainData(d),e.getByteFrequencyData(r);let s=0;for(let e=0;e<a;e++){let l=(d[e]-128)/128;s+=l*l;}let c=Math.min(100,Math.round(200*Math.sqrt(s/a)*F.current));u(c),c>T.current&&(T.current=c,h(c));let o=l.width,n=l.height;t.fillStyle="#141414",t.fillRect(0,0,o,n);let b=Math.ceil(o/e.frequencyBinCount*2.5),f=0;for(let l=0;l<e.frequencyBinCount;l++){let a=r[l]/255*n*.85,s=l/e.frequencyBinCount*240;if(t.fillStyle=`hsl(${s}, 90%, 55%)`,t.fillRect(f,n-a,b,a),(f+=b+1)>o)break;}t.lineWidth=2,t.strokeStyle="rgba(255,255,255,0.85)",t.beginPath();let m=o/a,x=0;for(let e=0;e<a;e++){let l=d[e]/255*n;0===e?t.moveTo(x,l):t.lineTo(x,l),x+=m;}t.stroke();};return i(),()=>{cancelAnimationFrame(M.current);};},[s]),(0,n.useEffect)(()=>{(async()=>{try{let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"audioinput"===e.kind);l(e),e.length>0&&a(e[0].deviceId);}catch{c("Unable to enumerate audio devices");}})();},[]),(0,n.useEffect)(()=>()=>{var e,l;cancelAnimationFrame(M.current),null===(e=L.current)||void 0===e||e.getTracks().forEach(e=>e.stop()),null===(l=K.current)||void 0===l||l.close();},[]);let E=async e=>{try{var l,t;cancelAnimationFrame(M.current),null===(l=L.current)||void 0===l||l.getTracks().forEach(e=>e.stop()),null===(t=K.current)||void 0===t||t.close(),C.current=null,r(!1),c(""),T.current=0,h(0),u(0);let a=await navigator.mediaDevices.getUserMedia({audio:!e||{deviceId:{exact:e}}});L.current=a;let s=new AudioContext;"suspended"===s.state&&await s.resume();let d=s.createMediaStreamSource(a),i=s.createAnalyser();i.fftSize=2048,i.smoothingTimeConstant=.8,d.connect(i),K.current=s,C.current=i;let o=a.getAudioTracks()[0],n=o.getSettings();k({Label:o.label||"Unknown","Sample Rate":`${n.sampleRate??s.sampleRate} Hz`,"Channel Count":String(n.channelCount??"N/A"),"Echo Cancellation":n.echoCancellation?"Enabled":"Disabled","Noise Suppression":n.noiseSuppression?"Enabled":"Disabled","Auto Gain Control":n.autoGainControl?"Enabled":"Disabled"}),r(!0);}catch(e){c(e.message||"Microphone access denied");}};return(0,d.jsx)("div",{className:"microphone-test",children:(0,d.jsxs)(y.default,{gutter:[16,16],children:[(0,d.jsx)(p.default,{xs:24,lg:16,children:(0,d.jsxs)(m.default,{title:(0,d.jsxs)(H.default,{children:[(0,d.jsx)(ey,{}),"Microphone Test",s&&(0,d.jsx)(O.default,{color:"green",children:"Active"}),f&&(0,d.jsx)(O.default,{color:"red",children:"\u25CF Recording"})]}),children:[i&&(0,d.jsx)(A.default,{message:i,type:"error",showIcon:!0,style:{marginBottom:16}}),(0,d.jsx)("div",{className:"mic-visualizer",children:(0,d.jsx)("canvas",{ref:D,width:800,height:200,style:{width:"100%",height:200,borderRadius:8,border:"1px solid #303030",backgroundColor:"#141414"}})}),(0,d.jsx)("div",{style:{marginTop:16},children:(0,d.jsxs)(y.default,{gutter:16,align:"middle",children:[(0,d.jsxs)(p.default,{span:12,children:[(0,d.jsx)(ej,{strong:!0,children:"Volume Level"}),(0,d.jsx)(P.default,{percent:o,strokeColor:o>70?"#ff4d4f":o>40?"#faad14":"#52c41a",status:"active",format:e=>`${e}%`})]}),(0,d.jsxs)(p.default,{span:12,children:[(0,d.jsx)(ej,{strong:!0,children:"Peak Volume"}),(0,d.jsx)(P.default,{percent:b,strokeColor:"#1677ff",format:e=>`${e}%`})]})]})}),(0,d.jsxs)("div",{style:{marginTop:16},children:[(0,d.jsx)(ej,{strong:!0,children:"Sensitivity"}),(0,d.jsx)(ep.default,{min:.5,max:5,step:.1,value:w,onChange:S,marks:{.5:"Low",1:"Normal",3:"High",5:"Max"}})]}),(0,d.jsx)("div",{style:{marginTop:16},children:(0,d.jsxs)(H.default,{wrap:!0,children:[(0,d.jsx)($.default,{style:{width:300},placeholder:"Select microphone",value:t||void 0,onChange:e=>{a(e),s&&E(e);},options:e.map(e=>({label:e.label||`Mic ${e.deviceId.slice(0,8)}`,value:e.deviceId}))}),s?(0,d.jsx)(B.default,{danger:!0,icon:(0,d.jsx)(ed.default,{}),onClick:()=>{var e,l;cancelAnimationFrame(M.current),null===(e=L.current)||void 0===e||e.getTracks().forEach(e=>e.stop()),null===(l=K.current)||void 0===l||l.close(),L.current=null,C.current=null,r(!1),u(0),h(0),T.current=0,k({});let t=D.current;if(t){let e=t.getContext("2d");null==e||e.clearRect(0,0,t.width,t.height);}},children:"Stop Mic"}):(0,d.jsx)(B.default,{type:"primary",icon:(0,d.jsx)(ea.default,{}),onClick:()=>E(t),children:"Start Mic"}),(0,d.jsx)(B.default,{icon:f?(0,d.jsx)(ed.default,{}):(0,d.jsx)(ey,{}),onClick:()=>{if(f){var e;null===(e=R.current)||void 0===e||e.stop(),x(!1);return;}let l=L.current;if(!l)return;N.current=[];let t=new MediaRecorder(l,{mimeType:"audio/webm"});t.ondataavailable=e=>{e.data.size>0&&N.current.push(e.data);},t.onstop=()=>{let e=new Blob(N.current,{type:"audio/webm"});j(URL.createObjectURL(e));},t.start(),R.current=t,x(!0);},disabled:!s,danger:f,children:f?"Stop Recording":"Record"}),g&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(B.default,{icon:(0,d.jsx)(el.default,{}),onClick:()=>{if(!g)return;let e=document.createElement("a");e.href=g,e.download=`mic-recording-${Date.now()}.webm`,e.click();},children:"Download"}),(0,d.jsx)("audio",{controls:!0,src:g,style:{height:32}})]})]})})]})}),(0,d.jsx)(p.default,{xs:24,lg:8,children:(0,d.jsx)(m.default,{title:"Microphone Information",style:{height:"100%"},children:Object.keys(v).length>0?(0,d.jsx)(z.default,{column:1,size:"small",bordered:!0,children:Object.entries(v).map(([e,l])=>(0,d.jsx)(z.default.Item,{label:e,children:l},e))}):(0,d.jsx)(ej,{type:"secondary",children:"Start microphone to see device information"})})})]})});};var ek=t("94e78bcf"),ew=a._(ek),eS=t("4c1ba611"),eL=a._(eS),eC=t("d6729838"),eK=a._(eC),eM=t("099ef56f"),eR=a._(eM),eN=t("65094f81"),eD=a._(eN);let{Text:eF,Title:eA}=G.default,eT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],eB=[{label:"Sub Bass",freq:40,desc:"Deep rumble \u2014 tests sub-woofer / large drivers",color:"#722ed1"},{label:"Bass",freq:100,desc:"Kick drum body \u2014 warmth and punch",color:"#1677ff"},{label:"Low-Mid",freq:300,desc:"Male vocals, guitar body",color:"#13c2c2"},{label:"Mid",freq:1e3,desc:"Voice clarity, presence",color:"#52c41a"},{label:"High-Mid",freq:4e3,desc:"Consonants, sibilance, attack",color:"#faad14"},{label:"Treble",freq:1e4,desc:"Cymbals, air, brilliance",color:"#f5222d"}],eE=()=>{let[e,l]=(0,n.useState)(!1),[t,a]=(0,n.useState)(440),[s,r]=(0,n.useState)(.4),[i,c]=(0,n.useState)("both"),[o,u]=(0,n.useState)(!1),[b,h]=(0,n.useState)("both"),f=(0,n.useRef)(null),x=(0,n.useRef)(null),g=(0,n.useRef)(null),j=(0,n.useRef)(null),v=(0,n.useRef)(null),k=(0,n.useRef)("left"),w=e=>"left"===e?-1:"right"===e?1:0,S=(0,n.useCallback)(()=>{var e,l;try{null===(l=x.current)||void 0===l||l.stop();}catch{}x.current=null,g.current=null,j.current=null,null===(e=f.current)||void 0===e||e.close(),f.current=null,v.current&&(clearInterval(v.current),v.current=null);},[]),C=(0,n.useCallback)((e,l,t)=>{S();let a=new AudioContext,s=a.createOscillator(),d=a.createGain(),r=a.createStereoPanner();s.type="sine",s.frequency.value=e,d.gain.value=l,r.pan.value=w(t),s.connect(d),d.connect(r),r.connect(a.destination),s.start(),f.current=a,x.current=s,g.current=d,j.current=r,h(t);},[S]);(0,n.useEffect)(()=>{e&&x.current&&g.current&&j.current&&(x.current.frequency.value=t,g.current.gain.value=s,o||(j.current.pan.value=w(i),h(i)));},[t,s,i,e,o]),(0,n.useEffect)(()=>{if(e&&o)return v.current=setInterval(()=>{k.current="left"===k.current?"right":"left",j.current&&(j.current.pan.value=w(k.current),h(k.current));},1500),()=>{v.current&&clearInterval(v.current);};},[e,o]);let K=t=>{a(t),e?C(t,s,o?"left":i):(C(t,s,o?"left":i),l(!0));},M=l=>{c(l),u(!1),e&&j.current&&(j.current.pan.value=w(l),h(l));};(0,n.useEffect)(()=>()=>S(),[S]);let R=w(b),N=`${(R+1)/2*100}%`,D=`${t<1e3?t:(t/1e3).toFixed(1)+"k"} Hz`,F=function(e){let l=Math.round(12*Math.log2(e/440)+69),t=Math.floor(l/12)-1,a=eT[(l%12+12)%12],s=Math.round(1200*Math.log2(e/(440*Math.pow(2,(l-69)/12)))),d=0===s?"":s>0?` +${s}\xa2`:` ${s}\xa2`;return`${a}${t}${d}`;}(t);return(0,d.jsxs)("div",{className:"headphone-test",children:[(0,d.jsx)(A.default,{message:"Put on your headphones before starting the tests.",type:"info",showIcon:!0,style:{marginBottom:16}}),(0,d.jsxs)(y.default,{gutter:[16,16],children:[(0,d.jsx)(p.default,{xs:24,lg:12,children:(0,d.jsxs)(m.default,{title:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(eD.default,{})," Left / Right Channel Test"]}),size:"small",children:[(0,d.jsx)(eF,{type:"secondary",style:{display:"block",marginBottom:12},children:"Verifies that left and right earpieces are correctly wired. You should only hear sound in the indicated ear."}),(0,d.jsxs)("div",{style:{position:"relative",height:40,marginBottom:16},children:[(0,d.jsx)("div",{style:{position:"absolute",top:"50%",left:0,right:0,height:4,background:"#303030",borderRadius:2,transform:"translateY(-50%)"}}),(0,d.jsx)("div",{style:{position:"absolute",top:"50%",left:N,width:20,height:20,borderRadius:"50%",background:e?"#1677ff":"#444",transform:"translate(-50%, -50%)",transition:"left 0.4s ease, background 0.3s",boxShadow:e?"0 0 8px #1677ff":"none"}}),(0,d.jsx)(eF,{style:{position:"absolute",left:0,top:"100%",fontSize:11,color:"#888"},children:"LEFT"}),(0,d.jsx)(eF,{style:{position:"absolute",right:0,top:"100%",fontSize:11,color:"#888"},children:"RIGHT"})]}),(0,d.jsxs)(H.default,{wrap:!0,style:{marginTop:24},children:[(0,d.jsx)(B.default,{type:"left"!==i||o?"default":"primary",onClick:()=>M("left"),children:"\u{1F507} Left Only"}),(0,d.jsx)(B.default,{type:"both"!==i||o?"default":"primary",onClick:()=>M("both"),children:"\u{1F50A} Both"}),(0,d.jsx)(B.default,{type:"right"!==i||o?"default":"primary",onClick:()=>M("right"),children:"Right Only \u{1F507}"}),(0,d.jsx)(B.default,{type:o?"primary":"default",icon:(0,d.jsx)(eD.default,{}),onClick:()=>{let l=!o;u(l),e&&(l?(k.current="left",j.current&&(j.current.pan.value=-1,h("left"))):(v.current&&clearInterval(v.current),j.current&&(j.current.pan.value=w(i),h(i))));},children:"Auto LR"})]}),e&&(0,d.jsx)("div",{style:{marginTop:12},children:(0,d.jsxs)(O.default,{color:"blue",children:["Playing:"," ","left"===b?"\u25C0 Left":"right"===b?"Right \u25B6":"\u25C0 Both \u25B6"]})})]})}),(0,d.jsx)(p.default,{xs:24,lg:12,children:(0,d.jsx)(m.default,{title:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(eR.default,{})," Tone Controls"]}),size:"small",children:(0,d.jsxs)(y.default,{gutter:[0,16],children:[(0,d.jsxs)(p.default,{span:24,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[(0,d.jsx)(eF,{strong:!0,children:"Frequency"}),(0,d.jsxs)(H.default,{children:[(0,d.jsx)(eF,{code:!0,children:D}),(0,d.jsx)(L.default,{title:"Closest musical note",children:(0,d.jsx)(O.default,{color:"geekblue",children:F})})]})]}),(0,d.jsx)(ep.default,{min:Math.sqrt(20),max:Math.sqrt(2e4),step:.01,value:Math.sqrt(t),onChange:e=>a(Math.round(e*e)),tooltip:{formatter:()=>D}}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,d.jsx)(eF,{type:"secondary",style:{fontSize:11},children:"20 Hz"}),(0,d.jsx)(eF,{type:"secondary",style:{fontSize:11},children:"20 kHz"})]})]}),(0,d.jsxs)(p.default,{span:24,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[(0,d.jsx)(eF,{strong:!0,children:"Volume"}),(0,d.jsxs)(eF,{code:!0,children:[Math.round(100*s),"%"]})]}),(0,d.jsx)(ep.default,{min:0,max:1,step:.01,value:s,onChange:r,tooltip:{formatter:e=>`${Math.round((e??0)*100)}%`}})]}),(0,d.jsx)(p.default,{span:24,children:(0,d.jsx)(B.default,{type:"primary",size:"large",block:!0,icon:e?(0,d.jsx)(eK.default,{}):(0,d.jsx)(eL.default,{}),onClick:()=>{e?(S(),l(!1)):(C(t,s,o?"left":i),l(!0));},danger:e,children:e?"Stop Tone":"Play Tone"})})]})})}),(0,d.jsx)(p.default,{span:24,children:(0,d.jsxs)(m.default,{title:"Frequency Range Tests",size:"small",children:[(0,d.jsx)(eF,{type:"secondary",style:{display:"block",marginBottom:12},children:"Click a preset to play that frequency. Good headphones should reproduce all ranges clearly without distortion."}),(0,d.jsx)(y.default,{gutter:[12,12],children:eB.map(l=>(0,d.jsx)(p.default,{xs:12,sm:8,md:4,children:(0,d.jsx)(L.default,{title:l.desc,children:(0,d.jsxs)(B.default,{block:!0,style:{borderColor:l.color,color:e&&t===l.freq?"#fff":l.color,background:e&&t===l.freq?l.color:"transparent",height:64,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},onClick:()=>K(l.freq),children:[(0,d.jsx)("div",{style:{fontWeight:700,fontSize:14},children:l.label}),(0,d.jsx)("div",{style:{fontSize:11,opacity:.75},children:l.freq<1e3?`${l.freq} Hz`:`${l.freq/1e3} kHz`})]})})},l.freq))})]})}),(0,d.jsx)(p.default,{span:24,children:(0,d.jsx)(m.default,{title:"How to Use",size:"small",children:(0,d.jsxs)(y.default,{gutter:[16,8],children:[(0,d.jsxs)(p.default,{xs:24,sm:8,children:[(0,d.jsx)(eA,{level:5,children:"1. Left / Right Test"}),(0,d.jsx)(eF,{type:"secondary",children:'Click "Left Only" \u2014 you should only hear sound in your left ear. Click "Right Only" \u2014 only in the right ear. If it\'s reversed, your headphones are on backwards or the cable is swapped.'})]}),(0,d.jsx)(ew.default,{type:"vertical",style:{height:"auto"}}),(0,d.jsxs)(p.default,{xs:24,sm:7,children:[(0,d.jsx)(eA,{level:5,children:"2. Frequency Generator"}),(0,d.jsx)(eF,{type:"secondary",children:"Drag the slider through the full range (20 Hz \u2013 20 kHz). You should hear the tone get higher. If it disappears at any point, your headphones may have a gap in their frequency response."})]}),(0,d.jsx)(ew.default,{type:"vertical",style:{height:"auto"}}),(0,d.jsxs)(p.default,{xs:24,sm:7,children:[(0,d.jsx)(eA,{level:5,children:"3. Preset Range Tests"}),(0,d.jsx)(eF,{type:"secondary",children:"Click each preset and listen for distortion or complete silence. Bass presets test driver size; treble tests tweeter quality. All six should play cleanly on good headphones."})]})]})})})]})]});};var ez=t("fb315213"),eI=a._(ez);let{Text:eP}=G.default,e_=["A / \u2715","B / \u25CB","X / \u25A1","Y / \u25B3","LB / L1","RB / R1","LT / L2","RT / R2","Back / Select","Start","L3 (Left Stick)","R3 (Right Stick)","D-Pad Up","D-Pad Down","D-Pad Left","D-Pad Right","Home / Guide"],e$=["Left Stick X","Left Stick Y","Right Stick X","Right Stick Y"],eq=()=>{let[e,l]=(0,n.useState)([]),[t,a]=(0,n.useState)(!1),[s,r]=(0,n.useState)(null),i=(0,n.useRef)(0),c=(0,n.useRef)(null),o=(0,n.useRef)(null),u=(0,n.useCallback)(()=>{let e=navigator.getGamepads(),t=[],d=!1;for(let l=0;l<4;l++){let a=e[l];a?(d=!0,t.push({index:a.index,id:a.id,buttons:Array.from(a.buttons).map(e=>({pressed:e.pressed,value:e.value})),axes:Array.from(a.axes),timestamp:a.timestamp,mapping:a.mapping||"non-standard",connected:a.connected,vibrationActuator:!!a.vibrationActuator})):t.push(null);}if(l(t),a(d),r(e=>{if(null!==e&&t[e])return e;let l=t.findIndex(e=>null!==e);return l>=0?l:null;}),d){let e=t.find((e,l)=>null!==e&&(null===s||l===s));e&&(b(c.current,e.axes[0]||0,e.axes[1]||0),b(o.current,e.axes[2]||0,e.axes[3]||0));}i.current=requestAnimationFrame(u);},[]),b=(e,l,t)=>{if(!e)return;let a=e.getContext("2d");if(!a)return;let s=e.width,d=e.height,r=s/2,i=d/2,c=.4*s;a.clearRect(0,0,s,d),a.beginPath(),a.arc(r,i,c,0,2*Math.PI),a.fillStyle="#f0f0f0",a.fill(),a.strokeStyle="#d9d9d9",a.lineWidth=2,a.stroke(),a.beginPath(),a.moveTo(r-c,i),a.lineTo(r+c,i),a.moveTo(r,i-c),a.lineTo(r,i+c),a.strokeStyle="#e0e0e0",a.lineWidth=1,a.stroke(),a.beginPath(),a.arc(r,i,.15*c,0,2*Math.PI),a.strokeStyle="#bbb",a.setLineDash([3,3]),a.stroke(),a.setLineDash([]);let o=r+l*c,n=i+t*c;a.beginPath(),a.arc(o,n,10,0,2*Math.PI);let u=Math.sqrt(l*l+t*t);a.fillStyle=`hsl(${u>.8?0:u>.4?40:120}, 80%, 50%)`,a.fill(),a.strokeStyle="white",a.lineWidth=2,a.stroke(),a.fillStyle="#666",a.font="10px monospace",a.textAlign="center",a.fillText(`(${l.toFixed(2)}, ${t.toFixed(2)})`,r,d-5);};(0,n.useEffect)(()=>{let e=()=>u(),t=()=>{a(!1),l([]);};return window.addEventListener("gamepadconnected",e),window.addEventListener("gamepaddisconnected",t),i.current=requestAnimationFrame(u),()=>{window.removeEventListener("gamepadconnected",e),window.removeEventListener("gamepaddisconnected",t),cancelAnimationFrame(i.current);};},[u]);let f=e.filter(e=>null!==e),x=null!==s?e[s]:e.find(e=>null!==e);return(0,d.jsxs)("div",{className:"gamepad-test",children:[!t&&(0,d.jsx)(A.default,{message:"No gamepad detected",description:"Connect a gamepad/controller and press any button to start testing. Supports Xbox, PlayStation, Switch Pro, and other standard controllers.",type:"info",showIcon:!0,style:{marginBottom:16}}),t&&f.length>1&&(0,d.jsx)(m.default,{size:"small",style:{marginBottom:16},children:(0,d.jsxs)(H.default,{align:"center",wrap:!0,children:[(0,d.jsx)(eP,{strong:!0,children:"Select Device:"}),(0,d.jsx)($.default,{value:s??void 0,onChange:e=>r(e),style:{minWidth:320},options:f.map(e=>({value:e.index,label:(0,d.jsxs)(H.default,{children:[(0,d.jsxs)(O.default,{color:"green",children:["Player ",e.index+1]}),e.id]})}))}),(0,d.jsxs)(eP,{type:"secondary",children:[f.length," devices connected"]})]})}),x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m.default,{title:(0,d.jsxs)(H.default,{children:[(0,d.jsx)(eI.default,{}),x.id,(0,d.jsx)(O.default,{color:"green",children:"Connected"}),(0,d.jsxs)(O.default,{color:"blue",children:[x.mapping," mapping"]}),f.length>1&&(0,d.jsxs)(O.default,{color:"purple",children:["Player ",x.index+1]})]}),style:{marginBottom:16},children:(0,d.jsxs)(y.default,{gutter:[16,16],children:[(0,d.jsxs)(p.default,{xs:24,md:12,children:[(0,d.jsx)(eP,{strong:!0,style:{display:"block",marginBottom:12},children:"Buttons"}),(0,d.jsx)("div",{className:"gamepad-buttons-grid",children:x.buttons.map((e,l)=>(0,d.jsxs)("div",{className:`gamepad-btn ${e.pressed?"gamepad-btn--pressed":""}`,children:[(0,d.jsx)("div",{className:"gamepad-btn-label",children:e_[l]||`Button ${l}`}),e.value>0&&e.value<1&&(0,d.jsx)(P.default,{percent:Math.round(100*e.value),size:"small",showInfo:!1,strokeColor:"#1677ff"})]},l))})]}),(0,d.jsxs)(p.default,{xs:24,md:12,children:[(0,d.jsx)(eP,{strong:!0,style:{display:"block",marginBottom:12},children:"Analog Sticks"}),(0,d.jsxs)(y.default,{gutter:16,children:[(0,d.jsx)(p.default,{span:12,children:(0,d.jsxs)("div",{style:{textAlign:"center"},children:[(0,d.jsx)(eP,{type:"secondary",children:"Left Stick"}),(0,d.jsx)("canvas",{ref:c,width:150,height:150,style:{display:"block",margin:"8px auto"}})]})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsxs)("div",{style:{textAlign:"center"},children:[(0,d.jsx)(eP,{type:"secondary",children:"Right Stick"}),(0,d.jsx)("canvas",{ref:o,width:150,height:150,style:{display:"block",margin:"8px auto"}})]})})]}),(0,d.jsxs)("div",{style:{marginTop:16},children:[(0,d.jsx)(eP,{strong:!0,style:{display:"block",marginBottom:8},children:"Axes"}),x.axes.map((e,l)=>(0,d.jsxs)("div",{style:{marginBottom:8},children:[(0,d.jsx)(eP,{type:"secondary",children:e$[l]||`Axis ${l}`}),(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,d.jsxs)("div",{className:"axis-bar-track",children:[(0,d.jsx)("div",{className:"axis-bar-fill",style:{left:"50%",width:`${50*Math.abs(e)}%`,transform:e<0?"translateX(-100%)":"none",backgroundColor:Math.abs(e)>.8?"#ff4d4f":"#1677ff"}}),(0,d.jsx)("div",{className:"axis-bar-center"})]}),(0,d.jsx)(eP,{code:!0,style:{minWidth:60,textAlign:"right"},children:e.toFixed(4)})]})]},l))]})]})]})}),(0,d.jsx)(m.default,{title:"Gamepad Details",size:"small",children:(0,d.jsxs)(z.default,{column:{xs:1,sm:2},size:"small",bordered:!0,children:[(0,d.jsx)(z.default.Item,{label:"ID",children:x.id}),(0,d.jsx)(z.default.Item,{label:"Index",children:x.index}),(0,d.jsx)(z.default.Item,{label:"Mapping",children:x.mapping}),(0,d.jsx)(z.default.Item,{label:"Buttons",children:x.buttons.length}),(0,d.jsx)(z.default.Item,{label:"Axes",children:x.axes.length}),(0,d.jsx)(z.default.Item,{label:"Vibration",children:x.vibrationActuator?(0,d.jsx)(O.default,{color:"green",children:"Supported"}):(0,d.jsx)(O.default,{color:"default",children:"Not Available"})})]})})]}),f.length>1&&(0,d.jsx)(m.default,{title:"All Connected Gamepads",size:"small",style:{marginTop:16},children:(0,d.jsx)(H.default,{direction:"vertical",style:{width:"100%"},children:f.map(e=>(0,d.jsx)(h.default.Ribbon,{text:`Player ${e.index+1}`,color:e.index===s?"blue":void 0,children:(0,d.jsx)(m.default,{size:"small",hoverable:!0,style:{cursor:"pointer",borderColor:e.index===s?"#1677ff":void 0},onClick:()=>r(e.index),children:(0,d.jsxs)(H.default,{children:[(0,d.jsx)(eP,{strong:e.index===s,children:e.id}),e.index===s&&(0,d.jsx)(O.default,{color:"blue",children:"Testing"})]})})},e.index))})})]});};var eH=t("f7ced2c5"),eW=a._(eH);let{Text:eO,Title:eU}=G.default,eG={0:"Left",1:"Middle",2:"Right",3:"Back",4:"Forward"},eV={0:"#1677ff",1:"#52c41a",2:"#ff4d4f",3:"#722ed1",4:"#fa8c16"},eY=()=>{let[e,l]=(0,n.useState)([]),[t,a]=(0,n.useState)({}),[s,r]=(0,n.useState)({x:0,y:0}),[i,c]=(0,n.useState)({x:0,y:0,total:0}),[o,u]=(0,n.useState)(0),[b,h]=(0,n.useState)(0),[f,x]=(0,n.useState)([]),[g,j]=(0,n.useState)(0),v=(0,n.useRef)(null),k=(0,n.useRef)(null),w=(0,n.useRef)(0),S=(0,n.useRef)(null),L=e.reduce((e,l)=>(e[l.button]=(e[l.button]||0)+1,e),{}),C=(0,n.useCallback)(e=>{var t;e.preventDefault();let s=null===(t=v.current)||void 0===t?void 0:t.getBoundingClientRect();s&&(a(l=>({...l,[e.button]:!0})),l(l=>[...l,{button:e.button,timestamp:Date.now(),x:e.clientX-s.left,y:e.clientY-s.top}]));},[]),K=(0,n.useCallback)(e=>{a(l=>({...l,[e.button]:!1}));},[]),M=(0,n.useCallback)(e=>{var l;let t=null===(l=v.current)||void 0===l?void 0:l.getBoundingClientRect();if(!t)return;let a=e.clientX-t.left,s=e.clientY-t.top;r({x:a,y:s});let d=performance.now();if(k.current){let l=e.movementX,t=e.movementY,a=Math.sqrt(l*l+t*t);u(e=>e+a);let s=d-w.current;s>0&&h(Math.round(a/s*1e3));}k.current={x:a,y:s},w.current=d,x(e=>{let l=[...e,{x:a,y:s}];return l.length>200?l.slice(-200):l;});},[]),R=(0,n.useCallback)(e=>{e.preventDefault(),c(l=>({x:l.x+e.deltaX,y:l.y+e.deltaY,total:l.total+Math.abs(e.deltaY)+Math.abs(e.deltaX)}));},[]),N=(0,n.useCallback)(e=>{e.preventDefault(),j(e=>e+1);},[]),D=(0,n.useCallback)(e=>{e.preventDefault();},[]);(0,n.useEffect)(()=>{let e=S.current;if(!e)return;let l=e.getContext("2d");if(!l||(l.clearRect(0,0,e.width,e.height),f.length<2))return;l.beginPath(),l.moveTo(f[0].x,f[0].y);for(let e=1;e<f.length;e++)l.lineTo(f[e].x,f[e].y);l.strokeStyle="rgba(22, 119, 255, 0.3)",l.lineWidth=2,l.lineCap="round",l.lineJoin="round",l.stroke();let t=f.slice(-20);t.forEach((e,a)=>{let s=(a+1)/t.length;l.beginPath(),l.arc(e.x,e.y,3*s+1,0,2*Math.PI),l.fillStyle=`rgba(22, 119, 255, ${.6*s})`,l.fill();});},[f]);let F=Date.now(),A=e.filter(e=>F-e.timestamp<5e3),T=A.length>0?(A.length/5).toFixed(1):"0";return(0,d.jsx)("div",{className:"mouse-test",children:(0,d.jsxs)(y.default,{gutter:[16,16],children:[(0,d.jsx)(p.default,{xs:24,lg:16,children:(0,d.jsx)(m.default,{title:"Click Test Area",size:"small",extra:(0,d.jsx)("button",{className:"mouse-reset-btn",onClick:()=>{l([]),a({}),c({x:0,y:0,total:0}),u(0),h(0),x([]),j(0),k.current=null;},children:"Reset"}),children:(0,d.jsxs)("div",{ref:v,className:"mouse-test-area",onMouseDown:C,onMouseUp:K,onMouseMove:M,onWheel:R,onDoubleClick:N,onContextMenu:D,children:[(0,d.jsx)("canvas",{ref:S,width:800,height:400,className:"mouse-trail-canvas"}),e.slice(-30).map((e,l)=>(0,d.jsx)("div",{className:"mouse-click-ripple",style:{left:e.x,top:e.y,borderColor:eV[e.button]||"#999"}},`${e.timestamp}-${l}`)),(0,d.jsx)("div",{className:"mouse-crosshair-h",style:{top:s.y}}),(0,d.jsx)("div",{className:"mouse-crosshair-v",style:{left:s.x}}),(0,d.jsx)("div",{className:"mouse-cursor-dot",style:{left:s.x,top:s.y}}),0===e.length&&(0,d.jsx)("div",{className:"mouse-test-overlay",children:(0,d.jsx)(eO,{type:"secondary",style:{fontSize:16},children:"Click, scroll, and move your mouse here"})}),(0,d.jsxs)("div",{className:"mouse-pos-label",children:["(",Math.round(s.x),", ",Math.round(s.y),")"]})]})})}),(0,d.jsx)(p.default,{xs:24,lg:8,children:(0,d.jsxs)(H.default,{direction:"vertical",style:{width:"100%"},size:16,children:[(0,d.jsx)(m.default,{title:"Mouse Buttons",size:"small",children:(0,d.jsx)("div",{className:"mouse-visual",children:(0,d.jsxs)("div",{className:"mouse-body",children:[(0,d.jsxs)("div",{className:"mouse-buttons-row",children:[(0,d.jsxs)("div",{className:`mouse-btn-visual mouse-btn-left ${t[0]?"mouse-btn-visual--active":""}`,children:[(0,d.jsx)("span",{children:"L"}),(0,d.jsx)(O.default,{color:t[0]?"blue":"default",children:L[0]||0})]}),(0,d.jsxs)("div",{className:`mouse-btn-visual mouse-btn-middle ${t[1]?"mouse-btn-visual--active":""}`,children:[(0,d.jsx)("span",{children:"M"}),(0,d.jsx)(O.default,{color:t[1]?"green":"default",children:L[1]||0})]}),(0,d.jsxs)("div",{className:`mouse-btn-visual mouse-btn-right ${t[2]?"mouse-btn-visual--active":""}`,children:[(0,d.jsx)("span",{children:"R"}),(0,d.jsx)(O.default,{color:t[2]?"red":"default",children:L[2]||0})]})]}),(0,d.jsx)("div",{className:"mouse-scroll-visual",children:(0,d.jsx)("div",{className:"mouse-scroll-indicator",style:{transform:`translateY(${Math.max(-15,Math.min(15,-(i.y%100)/3))}px)`}})}),(0,d.jsxs)("div",{className:"mouse-side-buttons",children:[(0,d.jsxs)("div",{className:`mouse-side-btn ${t[3]?"mouse-side-btn--active":""}`,children:[(0,d.jsx)("span",{children:"\u2190"}),(0,d.jsx)("small",{children:L[3]||0})]}),(0,d.jsxs)("div",{className:`mouse-side-btn ${t[4]?"mouse-side-btn--active":""}`,children:[(0,d.jsx)("span",{children:"\u2192"}),(0,d.jsx)("small",{children:L[4]||0})]})]})]})})}),(0,d.jsx)(m.default,{title:"Statistics",size:"small",children:(0,d.jsxs)(y.default,{gutter:[12,12],children:[(0,d.jsx)(p.default,{span:12,children:(0,d.jsx)(eW.default,{title:"Total Clicks",value:e.length})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsx)(eW.default,{title:"Double Clicks",value:g})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsx)(eW.default,{title:"CPS (5s)",value:T})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsx)(eW.default,{title:"Speed",value:b,suffix:"px/s"})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsx)(eW.default,{title:"Distance",value:Math.round(o),suffix:"px"})}),(0,d.jsx)(p.default,{span:12,children:(0,d.jsx)(eW.default,{title:"Scroll",value:Math.round(i.total),suffix:"\u0394"})})]})}),(0,d.jsx)(m.default,{title:"Scroll Details",size:"small",children:(0,d.jsxs)(z.default,{column:1,size:"small",bordered:!0,children:[(0,d.jsxs)(z.default.Item,{label:"Vertical (Y)",children:[(0,d.jsx)(eO,{code:!0,children:Math.round(i.y)}),0!==i.y&&(0,d.jsx)(O.default,{color:i.y>0?"orange":"cyan",style:{marginLeft:8},children:i.y>0?"\u2193 Down":"\u2191 Up"})]}),(0,d.jsxs)(z.default.Item,{label:"Horizontal (X)",children:[(0,d.jsx)(eO,{code:!0,children:Math.round(i.x)}),0!==i.x&&(0,d.jsx)(O.default,{color:i.x>0?"orange":"cyan",style:{marginLeft:8},children:i.x>0?"\u2192 Right":"\u2190 Left"})]}),(0,d.jsx)(z.default.Item,{label:"Total Scroll",children:(0,d.jsx)(eO,{code:!0,children:Math.round(i.total)})})]})}),(0,d.jsx)(m.default,{title:"Recent Clicks",size:"small",children:(0,d.jsxs)("div",{className:"mouse-click-log",children:[0===e.length&&(0,d.jsx)(eO,{type:"secondary",children:"No clicks recorded yet"}),e.slice(-10).reverse().map((e,l)=>(0,d.jsxs)("div",{className:"mouse-click-log-item",children:[(0,d.jsx)(O.default,{color:eV[e.button]||"default",children:eG[e.button]||`Button ${e.button}`}),(0,d.jsxs)(eO,{type:"secondary",style:{fontSize:12},children:["(",Math.round(e.x),", ",Math.round(e.y),")"]})]},`${e.timestamp}-${l}`))]})})]})})]})});},eX=["keyboard","camera","microphone","headphone","gamepad","mouse"],eQ=()=>{let e=function(e){let l=e.split("/").pop();return eX.includes(l)?l:"keyboard";}((0,u.useLocation)().pathname);return(0,d.jsx)(r.PageContainer,{title:"Device Test",subTitle:"Test your keyboard, camera, microphone, headphone, gamepad & mouse",children:(0,d.jsx)("div",{className:"device-test-page",children:(0,d.jsx)(c.default,{activeKey:e,onChange:e=>{u.history.push(`/utility/device-test/${e}`);},type:"card",size:"large",items:[{key:"keyboard",label:"\u2328\uFE0F Keyboard",children:(0,d.jsx)(D,{})},{key:"camera",label:"\u{1F4F7} Camera",children:(0,d.jsx)(em,{})},{key:"microphone",label:"\u{1F3A4} Microphone",children:(0,d.jsx)(ev,{})},{key:"headphone",label:"\u{1F3A7} Headphone",children:(0,d.jsx)(eE,{})},{key:"gamepad",label:"\u{1F3AE} Gamepad",children:(0,d.jsx)(eq,{})},{key:"mouse",label:"\u{1F5B1}\uFE0F Mouse",children:(0,d.jsx)(eY,{})}]})})});};}}]);
//# sourceMappingURL=894bb97e-async.3b01140b.js.map