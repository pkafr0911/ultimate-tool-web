{"version":3,"sources":["src/pages/Playground/constants.ts","src/pages/Playground/index.tsx"],"sourcesContent":["export const DEFAULT_HTML = `<div class=\"container\">\r\n    <h1>Hello World üåç</h1>\r\n    <p>This is a live HTML + CSS + JS playground!</p>\r\n    <button id=\"clickBtn\">Click me</button>\r\n  </div>`;\r\nexport const DEFAULT_CSS = `\r\n  body {\r\n    font-family: 'Segoe UI', sans-serif;\r\n    background: linear-gradient(135deg, #fdfbfb, #ebedee);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    height: 100vh;\r\n  }\r\n  .container { text-align: center; }\r\n  button {\r\n    background-color: #4CAF50;\r\n    color: white;\r\n    padding: 10px 20px;\r\n    border: none;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    transition: 0.3s;\r\n  }\r\n  button:hover { background-color: #45a049; transform: scale(1.05); }\r\n  `;\r\nexport const DEFAULT_SCRIPT = `\r\n  document.getElementById('clickBtn').addEventListener('click', () => {\r\n    alert('Hello from JavaScript!');\r\n  });\r\n  `;\r\n","import {\r\n  CodeOutlined,\r\n  CopyOutlined,\r\n  DownloadOutlined,\r\n  EditOutlined,\r\n  FormatPainterOutlined,\r\n} from '@ant-design/icons';\r\nimport Editor from '@monaco-editor/react';\r\nimport { Button, Card, message, Segmented, Select, Space, Tabs, Typography } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport { DEFAULT_CSS, DEFAULT_HTML, DEFAULT_SCRIPT } from './constants';\r\nimport './styles.less';\r\n\r\nconst { Title } = Typography;\r\n\r\nconst PlaygroundPage: React.FC = () => {\r\n  const [mode, setMode] = useState<'html' | 'playground'>('html');\r\n\r\n  // --- HTML / CSS / JS Playground ---\r\n  const [viewMode, setViewMode] = useState<'rich' | 'html'>('html');\r\n  const [htmlContent, setHtmlContent] = useState(DEFAULT_HTML);\r\n  const [cssContent, setCssContent] = useState(DEFAULT_CSS);\r\n  const [jsContent, setJsContent] = useState(DEFAULT_SCRIPT);\r\n  const [preview, setPreview] = useState('');\r\n\r\n  // --- Prettify HTML ---\r\n  const formatHTML = (html: string) => {\r\n    try {\r\n      const parser = new DOMParser();\r\n      const doc = parser.parseFromString(html, 'text/html');\r\n      const formatNode = (node: Node, level = 0): string => {\r\n        const indent = '  '.repeat(level);\r\n        let formatted = '';\r\n        if (node.nodeType === Node.TEXT_NODE) {\r\n          const text = node.textContent?.trim();\r\n          if (text) formatted += indent + text + '\\n';\r\n          return formatted;\r\n        }\r\n        if (node.nodeType === Node.ELEMENT_NODE) {\r\n          const el = node as HTMLElement;\r\n          const tag = el.tagName.toLowerCase();\r\n          formatted += `${indent}<${tag}`;\r\n          for (const attr of Array.from(el.attributes)) {\r\n            formatted += ` ${attr.name}=\"${attr.value}\"`;\r\n          }\r\n          formatted += '>';\r\n          const childNodes = Array.from(el.childNodes);\r\n          const hasChildren = childNodes.some(\r\n            (child) => child.nodeType === Node.ELEMENT_NODE || child.textContent?.trim(),\r\n          );\r\n          if (hasChildren) formatted += '\\n';\r\n          for (const child of childNodes) formatted += formatNode(child, level + 1);\r\n          if (hasChildren) formatted += indent;\r\n          formatted += `</${tag}>\\n`;\r\n        }\r\n        return formatted;\r\n      };\r\n      const bodyNodes = Array.from(doc.body.childNodes);\r\n      return bodyNodes\r\n        .map((node) => formatNode(node))\r\n        .join('')\r\n        .trim();\r\n    } catch {\r\n      return html;\r\n    }\r\n  };\r\n\r\n  const prettifyHTML = () => {\r\n    if (!htmlContent.trim()) {\r\n      message.warning('No HTML content to prettify.');\r\n      return;\r\n    }\r\n    setHtmlContent(formatHTML(htmlContent));\r\n    message.success('HTML prettified!');\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fullHTML = `\r\n      <!DOCTYPE html>\r\n      <html lang=\"en\">\r\n      <head><style>${cssContent}</style></head>\r\n      <body>\r\n        ${htmlContent}\r\n        <script>${jsContent}<\\/script>\r\n      </body>\r\n      </html>`;\r\n    setPreview(fullHTML);\r\n  }, [htmlContent, cssContent, jsContent]);\r\n\r\n  const handleCopy = async (content: string) => {\r\n    try {\r\n      await navigator.clipboard.writeText(content);\r\n      message.success('Copied!');\r\n    } catch {\r\n      message.error('Failed to copy.');\r\n    }\r\n  };\r\n\r\n  const handleDownload = (filename: string, content: string) => {\r\n    const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });\r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = filename;\r\n    link.click();\r\n  };\r\n\r\n  // --- JS/TS Playground ---\r\n  const [language, setLanguage] = useState<'javascript' | 'typescript'>('javascript');\r\n  const [code, setCode] = useState(`// Try something!\\nconsole.log(\"Hello, playground!\");`);\r\n  const [output, setOutput] = useState<string>('');\r\n\r\n  const runCode = () => {\r\n    let captured: string[] = [];\r\n    const origLog = console.log;\r\n    const origErr = console.error;\r\n\r\n    console.log = (...args: any[]) => {\r\n      captured.push(args.join(' '));\r\n      origLog(...args);\r\n    };\r\n    console.error = (...args: any[]) => {\r\n      captured.push('‚ùå ' + args.join(' '));\r\n      origErr(...args);\r\n    };\r\n\r\n    try {\r\n      // eslint-disable-next-line no-new-func\r\n      const result = new Function(code)();\r\n      if (result !== undefined) captured.push(`‚û°Ô∏è ${String(result)}`);\r\n    } catch (err: any) {\r\n      captured.push(`‚ùå Error: ${err.message}`);\r\n    }\r\n\r\n    console.log = origLog;\r\n    console.error = origErr;\r\n    setOutput(captured.join('\\n'));\r\n  };\r\n\r\n  return (\r\n    <div className=\"playground-container\">\r\n      <Title level={2} className=\"playground-title\">\r\n        üß† Ultimate Playground\r\n      </Title>\r\n\r\n      <Segmented\r\n        options={[\r\n          { label: 'HTML / CSS / JS', value: 'html' },\r\n          { label: 'JS / TS Runner', value: 'playground' },\r\n        ]}\r\n        value={mode}\r\n        onChange={(val) => setMode(val as any)}\r\n        style={{ marginBottom: 16 }}\r\n      />\r\n\r\n      {mode === 'html' ? (\r\n        <Card className=\"html-card\" variant={'borderless'}>\r\n          <Tabs\r\n            defaultActiveKey=\"html\"\r\n            items={[\r\n              {\r\n                key: 'html',\r\n                label: 'HTML',\r\n                children: (\r\n                  <>\r\n                    <Space align=\"center\" style={{ marginBottom: 12 }}>\r\n                      <Segmented\r\n                        options={[\r\n                          { label: 'HTML Mode', value: 'html', icon: <CodeOutlined /> },\r\n                          { label: 'Rich Mode', value: 'rich', icon: <EditOutlined /> },\r\n                        ]}\r\n                        value={viewMode}\r\n                        onChange={(val) => setViewMode(val as any)}\r\n                      />\r\n                      <Button icon={<FormatPainterOutlined />} onClick={prettifyHTML}>\r\n                        Prettify\r\n                      </Button>\r\n                    </Space>\r\n                    {viewMode === 'rich' ? (\r\n                      <ReactQuill value={htmlContent} onChange={setHtmlContent} />\r\n                    ) : (\r\n                      <Editor\r\n                        height=\"400px\"\r\n                        language=\"html\"\r\n                        value={htmlContent}\r\n                        onChange={(val) => setHtmlContent(val || '')}\r\n                        options={{ minimap: { enabled: false } }}\r\n                      />\r\n                    )}\r\n                  </>\r\n                ),\r\n              },\r\n              {\r\n                key: 'css',\r\n                label: 'CSS',\r\n                children: (\r\n                  <>\r\n                    <Space align=\"center\" style={{ marginBottom: 12 }}>\r\n                      <Button\r\n                        icon={<FormatPainterOutlined />}\r\n                        onClick={() => message.info('Add CSS prettifier here')}\r\n                      >\r\n                        Prettify\r\n                      </Button>\r\n                    </Space>\r\n                    <Editor\r\n                      height=\"400px\"\r\n                      language=\"css\"\r\n                      value={cssContent}\r\n                      onChange={(val) => setCssContent(val || '')}\r\n                      options={{ minimap: { enabled: false } }}\r\n                    />\r\n                  </>\r\n                ),\r\n              },\r\n              {\r\n                key: 'js',\r\n                label: 'JS',\r\n                children: (\r\n                  <>\r\n                    <Space align=\"center\" style={{ marginBottom: 12 }}>\r\n                      <Button\r\n                        icon={<FormatPainterOutlined />}\r\n                        onClick={() => message.info('Add JS prettifier here')}\r\n                      >\r\n                        Prettify\r\n                      </Button>\r\n                    </Space>\r\n                    <Editor\r\n                      height=\"400px\"\r\n                      language=\"javascript\"\r\n                      value={jsContent}\r\n                      onChange={(val) => setJsContent(val || '')}\r\n                      options={{ minimap: { enabled: false } }}\r\n                    />\r\n                  </>\r\n                ),\r\n              },\r\n            ]}\r\n          />\r\n\r\n          <Space style={{ marginTop: 16 }}>\r\n            <Button icon={<CopyOutlined />} onClick={() => handleCopy(preview)}>\r\n              Copy All\r\n            </Button>\r\n            <Button\r\n              icon={<DownloadOutlined />}\r\n              onClick={() => handleDownload('index.html', preview)}\r\n            >\r\n              Download HTML\r\n            </Button>\r\n          </Space>\r\n\r\n          <div className=\"preview-pane\" style={{ marginTop: 24 }}>\r\n            <Title level={5}>Live Preview</Title>\r\n            <iframe\r\n              title=\"preview\"\r\n              srcDoc={preview}\r\n              className=\"html-preview\"\r\n              style={{\r\n                width: '100%',\r\n                height: '600px',\r\n                border: '1px solid #ddd',\r\n                borderRadius: 8,\r\n                background: '#fff',\r\n              }}\r\n            />\r\n          </div>\r\n        </Card>\r\n      ) : (\r\n        <Card className=\"playground-card\" variant={'borderless'}>\r\n          <Space style={{ marginBottom: 16 }}>\r\n            <Select\r\n              value={language}\r\n              onChange={(v) => setLanguage(v)}\r\n              options={[\r\n                { label: 'JavaScript', value: 'javascript' },\r\n                { label: 'TypeScript', value: 'typescript' },\r\n              ]}\r\n            />\r\n            <Button type=\"primary\" onClick={runCode}>\r\n              ‚ñ∂ Run\r\n            </Button>\r\n          </Space>\r\n\r\n          <Editor\r\n            height=\"400px\"\r\n            language={language}\r\n            value={code}\r\n            onChange={(val) => setCode(val || '')}\r\n            theme=\"vs-light\"\r\n            options={{\r\n              minimap: { enabled: false },\r\n              fontSize: 14,\r\n              scrollBeyondLastLine: false,\r\n              automaticLayout: true,\r\n            }}\r\n          />\r\n\r\n          <div className=\"playground-output\">\r\n            <Title level={5}>Output:</Title>\r\n            <pre>{output || '// Your output will appear here'}</pre>\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaygroundPage;\r\n"],"names":[],"mappings":"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"}