(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["6842bed9"],{"6bac0e4a":function(e,l,t){t.d(l,"__esModule",{value:!0}),t.e(l,{default:function(){return Z;}});var r=t("777fffbe"),s=t("852bbaa9"),n=t("1a7c85b4"),a=t("d43df923"),i=t("934a4b0d"),d=t("93cff216"),o=r._(d),u=t("d2d0b3b6"),c=r._(u),f=t("d322be42"),h=s._(f),m=t("fd90e66d"),x=r._(m),j=t("85c4e0d9"),v=r._(j),g=h.forwardRef(function(e,l){return h.createElement(v.default,(0,c.default)((0,c.default)({},e),{},{ref:l,icon:x.default}));}),p=t("84cd549f"),y=r._(p),b=t("076b2e3c"),k=r._(b),w=t("34f8e1c9"),N=r._(w),C=t("b2a1469e"),_=r._(C),S=t("e9bcd22d"),M=r._(S),T=t("e2967699"),A=r._(T),$=t("c9d8dc0b"),E=r._($),I=t("a5512054"),z=r._(I),H=t("3eb6f542"),R=r._(H),D=t("ea21718c"),B=r._(D),F=t("6effc0fd"),L=r._(F),U=t("4fa5c282"),O=r._(U);let{Title:P,Text:V}=L.default,{Option:W}=R.default,Y=e=>e.map(e=>e.map(e=>({...e,notes:new Set([...e.notes])}))),q=e=>e.map(e=>e.map(e=>e.value??0)),G=(e,l)=>e.map((e,t)=>e.map((e,r)=>({r:t,c:r,value:0===e?null:e,given:l?!!l[t][r]:0!==e,notes:new Set}))),J=(e,l,t,r)=>{for(let s=0;s<9;s++)if(e[l][s]===r||e[s][t]===r)return!1;let s=3*Math.floor(l/3),n=3*Math.floor(t/3);for(let l=0;l<3;l++)for(let t=0;t<3;t++)if(e[s+l][n+t]===r)return!1;return!0;},K=e=>{let l=e.map(e=>e.slice()),t=[];for(let e=0;e<9;e++)for(let r=0;r<9;r++)0===l[e][r]&&t.push([e,r]);let r=e=>{if(e>=t.length)return!0;let[s,n]=t[e];for(let t=1;t<=9;t++)if(J(l,s,n,t)){if(l[s][n]=t,r(e+1))return!0;l[s][n]=0;}return!1;};return r(0)?l:null;},Q=()=>{let e=Array.from({length:9},()=>Array(9).fill(0)),l=(t=0)=>{if(81===t)return!0;let r=Math.floor(t/9),s=t%9;for(let n of[1,2,3,4,5,6,7,8,9].sort(()=>Math.random()-.5))if(J(e,r,s,n)){if(e[r][s]=n,l(t+1))return!0;e[r][s]=0;}return!1;};return l(0),e;},X=(e,l)=>{let t={easy:36,medium:32,hard:28,expert:24}[l]??32,r=e.map(e=>e.slice()),s=Array.from({length:9},()=>Array(9).fill(!0));for(let e of Array.from({length:81},(e,l)=>l).sort(()=>Math.random()-.5)){let l=Math.floor(e/9),n=e%9;if(!s[l][n])continue;let a=r[l][n];if(r[l][n]=0,s[l][n]=!1,K(r)){if(s.flat().filter(Boolean).length<=t)break;}else r[l][n]=a,s[l][n]=!0;}return{puzzle:r,givensMask:s};},Z=()=>{let e=(0,a.useIsMobile)();(0,i.useIsTouchDevice)();let[l,t]=(0,h.useState)("medium"),[r,s]=(0,h.useState)(null),[d,u]=(0,h.useState)(()=>G(Array.from({length:9},()=>Array(9).fill(0)))),[c,f]=(0,h.useState)(!1),[m,x]=(0,h.useState)(0),[j,v]=(0,h.useState)(null),[p,b]=(0,h.useState)(!1),[w,C]=(0,h.useState)(null),[S,T]=(0,h.useState)(!1),$=(0,h.useRef)([]),I=(0,h.useRef)([]),H=(e=l)=>{D();let r=Q(),{puzzle:n,givensMask:a}=X(r,e);s(r),u(G(n,a)),t(e),f(!0),x(0),T(!1),$.current=[],I.current=[],E.default.success("New Sudoku ready \u2014 good luck!"),F();};(0,h.useEffect)(()=>{H(l);},[]);let D=()=>{j&&(window.clearInterval(j),v(null));},F=()=>{j||v(window.setInterval(()=>x(e=>e+1),1e3));};(0,h.useEffect)(()=>()=>D(),[]);let L=e=>{$.current.push(Y(e)),$.current.length>200&&$.current.shift(),I.current=[];},U=()=>{let e=$.current;if(!e.length)return E.default.info("Nothing to undo");let l=e.pop();I.current.push(Y(d)),u(l);},K=()=>{let e=I.current;if(!e.length)return E.default.info("Nothing to redo");let l=e.pop();$.current.push(Y(d)),u(l);},Z=e=>{let l=q(e),t=new Set;for(let e=0;e<9;e++)for(let r=0;r<9;r++){let s=l[e][r];0!==s&&(l[e][r]=0,J(l,e,r,s)||t.add(`${e},${r}`),l[e][r]=s);}let r=Y(e);for(let e=0;e<9;e++)for(let l=0;l<9;l++)r[e][l].wrong=t.has(`${e},${l}`);u(r),t.size?E.default.error(`Found ${t.size} mistake(s)`):E.default.success("No obvious mistakes found");},ee=()=>{if(!r)return E.default.error("No solution available");let e=[];for(let l=0;l<9;l++)for(let t=0;t<9;t++)d[l][t].value||e.push([l,t]);if(!e.length)return E.default.info("Board already complete");let[l,t]=e[Math.floor(Math.random()*e.length)];L(d);let s=Y(d);s[l][t].value=r[l][t],s[l][t].notes.clear(),u(s),I.current=[];},el=()=>{if(!r)return E.default.error("No solution available");L(d),u(G(r,Array.from({length:9},()=>Array(9).fill(!0)))),D(),T(!0),E.default.success("Solved (cheater mode)");},et=(e,l,t)=>{if(d[e][l].given)return;L(d);let s=Y(d),n=s[e][l];null===t?(n.value=null,n.notes.clear()):p?n.notes.has(t)?n.notes.delete(t):n.notes.add(t):(n.value=t,n.notes.clear()),u(s),I.current=[];let a=q(s);a.every(e=>e.every(e=>0!==e))&&r&&(a.every((e,l)=>e.every((e,t)=>e===r[l][t]))?(D(),T(!0),E.default.success("\u{1F389} Puzzle solved \u2014 congratulations!")):Z(s));};(0,h.useEffect)(()=>{let e=e=>{if(!w)return;let[l,t]=w;e.key>="1"&&e.key<="9"?et(l,t,Number(e.key)):"Backspace"===e.key||"Delete"===e.key||"0"===e.key?et(l,t,null):"n"===e.key&&(b(e=>!e),E.default.info(`Notes mode ${p?"off":"on"}`));};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e);},[w,p,d,r]);let er=e=>{let l=["sud-cell"];return e.given&&l.push("sud-given"),e.value&&!e.given&&l.push("sud-user"),e.wrong&&l.push("sud-wrong"),l.join(" ");},es=(e,l=24)=>{if(!Array.from(e.notes).sort((e,l)=>e-l).length)return null;let t=Math.max(8,Math.floor(l/4));return(0,n.jsx)("div",{className:"sud-notes",style:{fontSize:t},children:Array.from({length:9},(l,t)=>(0,n.jsx)("div",{className:"sud-note-slot",children:e.notes.has(t+1)?t+1:""},t))});};return(0,n.jsxs)("div",{className:"sud-page",children:[S&&(0,n.jsx)(O.default,{}),(0,n.jsxs)(M.default,{className:"sud-card",bordered:!1,children:[(0,n.jsxs)(z.default,{justify:"space-between",align:"middle",children:[(0,n.jsxs)(A.default,{children:[(0,n.jsx)(P,{level:3,children:"\u{1F9E9} Sudoku"}),(0,n.jsx)(V,{type:"secondary",style:{display:"block",marginTop:8,maxWidth:640,lineHeight:1.6},children:"Sudoku is a logic-based, combinatorial number-placement puzzle. In classic Sudoku, the objective is to fill a 9 \xd7 9 grid with digits so that each column, each row, and each of the nine 3 \xd7 3 subgrids that compose the grid contains all of the digits from 1 to 9."}),(0,n.jsx)(V,{type:"secondary",children:"Responsive, notes, hints, undo/redo, and solver."})]}),(0,n.jsx)(A.default,{children:(0,n.jsxs)(B.default,{wrap:!0,children:[(0,n.jsx)(V,{children:"Difficulty"}),(0,n.jsxs)(R.default,{value:l,onChange:e=>t(e),children:[(0,n.jsx)(W,{value:"easy",children:"Easy"}),(0,n.jsx)(W,{value:"medium",children:"Medium"}),(0,n.jsx)(W,{value:"hard",children:"Hard"}),(0,n.jsx)(W,{value:"expert",children:"Expert"})]}),(0,n.jsx)(_.default,{onClick:()=>H(l),type:"primary",children:"New"}),(0,n.jsx)(_.default,{onClick:()=>U(),icon:(0,n.jsx)(N.default,{})}),(0,n.jsx)(_.default,{onClick:()=>K(),icon:(0,n.jsx)(k.default,{})}),(0,n.jsx)(_.default,{onClick:()=>Z(d),icon:(0,n.jsx)(g,{})}),(0,n.jsx)(_.default,{onClick:()=>ee(),icon:(0,n.jsx)(o.default,{})}),(0,n.jsx)(_.default,{onClick:()=>el(),danger:!0,children:"Solve"})]})})]}),(0,n.jsx)("div",{style:{marginTop:12,display:"flex",justifyContent:e?"center":"flex-start",gap:16},children:(0,n.jsxs)("div",{className:"sud-layout",children:[(0,n.jsx)("div",{className:"sud-grid",children:(0,n.jsxs)("div",{style:{minWidth:340},children:[(0,n.jsx)("div",{className:"sud-grid",role:"grid","aria-label":"Sudoku board",children:d.map((e,l)=>(0,n.jsx)("div",{className:"sud-row",children:e.map((e,t)=>(0,n.jsx)("div",{role:"gridcell",tabIndex:0,className:`${er(e)} ${w&&w[0]===l&&w[1]===t?"sud-selected":""}`,onClick:()=>C([l,t]),onDoubleClick:()=>C([l,t]),children:e.value?(0,n.jsx)("div",{className:"sud-val",children:e.value}):(0,n.jsx)("div",{className:"sud-empty",children:es(e)})},`${l}-${t}`))},l))}),(0,n.jsxs)("div",{style:{marginTop:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(V,{strong:!0,children:"Time:"})," ",(0,n.jsxs)(V,{children:[m,"s"]})]}),(0,n.jsx)("div",{children:(0,n.jsxs)(B.default,{children:[(0,n.jsx)(_.default,{onClick:()=>b(e=>!e),children:p?"Notes: ON":"Notes: OFF"}),(0,n.jsx)(_.default,{onClick:()=>et((null==w?void 0:w[0])??0,(null==w?void 0:w[1])??0,null),icon:(0,n.jsx)(y.default,{}),children:"Erase"})]})})]})]})}),(0,n.jsxs)("div",{className:"sud-number-wrap",children:[(0,n.jsx)("div",{className:"sud-number-palette",children:Array.from({length:9},(e,l)=>l+1).map(e=>(0,n.jsx)(_.default,{onClick:()=>{if(!w)return E.default.info("Select a cell first");et(w[0],w[1],e);},children:e},e))}),(0,n.jsxs)("div",{className:"sud-control-buttons",children:[(0,n.jsx)(_.default,{onClick:()=>ee(),children:"Hint"}),(0,n.jsx)(_.default,{onClick:()=>Z(d),children:"Validate"})]})]})]})}),(0,n.jsxs)("div",{style:{marginTop:24,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,n.jsx)(P,{level:4,children:"\u{1F9E0} How to Play"}),(0,n.jsxs)("ul",{style:{paddingLeft:20,lineHeight:1.7},children:[(0,n.jsx)("li",{children:"Click any empty cell to select it."}),(0,n.jsx)("li",{children:"Use the number palette or keyboard (1\u20139) to fill in digits."}),(0,n.jsxs)("li",{children:["Toggle ",(0,n.jsx)("strong",{children:"Notes Mode"})," to jot down possible numbers."]}),(0,n.jsxs)("li",{children:["Click ",(0,n.jsx)("strong",{children:"Validate"})," to check for mistakes."]}),(0,n.jsxs)("li",{children:["Use ",(0,n.jsx)("strong",{children:"Undo"})," and ",(0,n.jsx)("strong",{children:"Redo"})," to revert moves."]}),(0,n.jsxs)("li",{children:["Click ",(0,n.jsx)("strong",{children:"Hint"})," to reveal a random correct number."]}),(0,n.jsx)("li",{children:"You win when the entire grid is correctly filled!"})]})]}),(0,n.jsx)("div",{style:{marginTop:12,textAlign:"center"},children:(0,n.jsx)(V,{type:"secondary",children:"Made with \u2764\uFE0F \u2014 responsive and keyboard friendly."})})]})]});};}}]);
//# sourceMappingURL=6842bed9-async.27a845b8.js.map