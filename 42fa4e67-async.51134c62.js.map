{"version":3,"sources":["E:/code\\ultimate-tool-web\\src\\pages\\SVGViewer\\styles.less?asmodule","node_modules/@ant-design/icons-svg/es/asn/HighlightOutlined.js","node_modules/@ant-design/icons/es/icons/HighlightOutlined.js","node_modules/@ant-design/icons-svg/es/asn/LockOutlined.js","node_modules/@ant-design/icons/es/icons/LockOutlined.js","node_modules/@ant-design/icons/es/icons/RotateRightOutlined.js","node_modules/@ant-design/icons/es/icons/EyeOutlined.js","node_modules/@ant-design/icons/es/icons/ZoomInOutlined.js","node_modules/@ant-design/icons-svg/es/asn/ExclamationCircleOutlined.js","node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js","src/pages/SVGViewer/components/GuideSection.tsx","src/pages/SVGViewer/components/DragDropWrapper.tsx","src/pages/SVGViewer/hooks/useSetting.ts","src/pages/SVGViewer/components/EditorSection.tsx","node_modules/@ant-design/icons-svg/es/asn/MinusOutlined.js","node_modules/@ant-design/icons/es/icons/MinusOutlined.js","node_modules/@ant-design/icons/es/icons/PlusOutlined.js","src/pages/SVGViewer/components/PreviewTabs.tsx","src/pages/SVGViewer/components/SettingsModal.tsx","src/pages/SVGViewer/index.tsx","src/assets/logo.svg?raw","src/pages/SVGViewer/constants.ts","src/pages/SVGViewer/utils/helpers.tsx","virtual:external_fs"],"sourcesContent":["\nimport \"E:/code/ultimate-tool-web/src/pages/SVGViewer/styles.less?modules\";\nexport default {\"container\": `container-N8utMQ39`,\"black\": `black-XKi5n_Zc`,\"white\": `white-OyOL651q`,\"previewSection\": `previewSection-0MbHaDww`,\"svg-viewer-guide\": `svg-viewer-guide-Bkus_91A`,\"topActions\": `topActions-sqz9om7E`,\"actions\": `actions-D1aTqXUy`,\"previewTabs\": `previewTabs-z6fCjTbY`,\"ant-tabs-content-holder\": `ant-tabs-content-holder-BAjZ8OG6`,\"previewFooter\": `previewFooter-uwNtj5Tv`,\"grey\": `grey-byNWOYpg`,\"previewWrapper\": `previewWrapper-d49S0jT_`,\"editorBox\": `editorBox-yd3ohj5M`,\"editorSection\": `editorSection-GdXoa-Wa`,\"transparent\": `transparent-4OlCYO9U`,\"previewActions\": `previewActions-ELOrQmEq`,\"ant-tabs-content\": `ant-tabs-content-3kBABj5S`,\"content\": `content-N7YpnWSD`,\"previewCodeBox\": `previewCodeBox-7-fgpWTJ`}\n","// This icon file is generated automatically.\nvar HighlightOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M957.6 507.4L603.2 158.2a7.9 7.9 0 00-11.2 0L353.3 393.4a8.03 8.03 0 00-.1 11.3l.1.1 40 39.4-117.2 115.3a8.03 8.03 0 00-.1 11.3l.1.1 39.5 38.9-189.1 187H72.1c-4.4 0-8.1 3.6-8.1 8V860c0 4.4 3.6 8 8 8h344.9c2.1 0 4.1-.8 5.6-2.3l76.1-75.6 40.4 39.8a7.9 7.9 0 0011.2 0l117.1-115.6 40.1 39.5a7.9 7.9 0 0011.2 0l238.7-235.2c3.4-3 3.4-8 .3-11.2zM389.8 796.2H229.6l134.4-133 80.1 78.9-54.3 54.1zm154.8-62.1L373.2 565.2l68.6-67.6 171.4 168.9-68.6 67.6zM713.1 658L450.3 399.1 597.6 254l262.8 259-147.3 145z\" } }] }, \"name\": \"highlight\", \"theme\": \"outlined\" };\nexport default HighlightOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport HighlightOutlinedSvg from \"@ant-design/icons-svg/es/asn/HighlightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar HighlightOutlined = function HighlightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: HighlightOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(HighlightOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'HighlightOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar LockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" } }] }, \"name\": \"lock\", \"theme\": \"outlined\" };\nexport default LockOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LockOutlinedSvg from \"@ant-design/icons-svg/es/asn/LockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar LockOutlined = function LockOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LockOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(LockOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'LockOutlined';\n}\nexport default RefIcon;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RotateRightOutlinedSvg from \"@ant-design/icons-svg/es/asn/RotateRightOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar RotateRightOutlined = function RotateRightOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: RotateRightOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(RotateRightOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'RotateRightOutlined';\n}\nexport default RefIcon;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeOutlinedSvg from \"@ant-design/icons-svg/es/asn/EyeOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar EyeOutlined = function EyeOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EyeOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(EyeOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'EyeOutlined';\n}\nexport default RefIcon;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ZoomInOutlinedSvg from \"@ant-design/icons-svg/es/asn/ZoomInOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ZoomInOutlined = function ZoomInOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ZoomInOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(ZoomInOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ZoomInOutlined';\n}\nexport default RefIcon;","// This icon file is generated automatically.\nvar ExclamationCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"outlined\" };\nexport default ExclamationCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ExclamationCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/ExclamationCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ExclamationCircleOutlined = function ExclamationCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ExclamationCircleOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(ExclamationCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ExclamationCircleOutlined';\n}\nexport default RefIcon;","import React from 'react';\r\nimport { Typography, Divider } from 'antd';\r\nimport {\r\n  UploadOutlined,\r\n  EditOutlined,\r\n  HighlightOutlined,\r\n  CompressOutlined,\r\n  SwapOutlined,\r\n  LockOutlined,\r\n  UnlockOutlined,\r\n  RotateRightOutlined,\r\n  EyeOutlined,\r\n  ZoomInOutlined,\r\n  ZoomOutOutlined,\r\n  SyncOutlined,\r\n  DownloadOutlined,\r\n  CopyOutlined,\r\n  ExclamationCircleOutlined,\r\n} from '@ant-design/icons';\r\nimport styles from '../styles.less';\r\n\r\nconst { Title, Paragraph, Text } = Typography;\r\n\r\nconst steps = [\r\n  {\r\n    icon: <UploadOutlined />,\r\n    text: 'Upload an SVG file via drag-and-drop or the ‚ÄúUpload SVG‚Äù button.',\r\n  },\r\n  {\r\n    icon: <EditOutlined />,\r\n    text: 'Edit SVG code directly in the built-in Monaco Editor with syntax highlighting.',\r\n  },\r\n  {\r\n    icon: <HighlightOutlined />,\r\n    text: 'Prettify your SVG for better readability with the ‚ÄúPrettify‚Äù button.',\r\n  },\r\n  {\r\n    icon: <CompressOutlined />,\r\n    text: 'Optimize SVG using SVGO to reduce file size without losing quality.',\r\n  },\r\n  {\r\n    icon: <LockOutlined />,\r\n    text: 'Lock aspect ratio to maintain proportions when resizing width/height.',\r\n  },\r\n  {\r\n    icon: <UnlockOutlined />,\r\n    text: 'Unlock the aspect ratio if you want to freely adjust width and height.',\r\n  },\r\n  {\r\n    icon: <SwapOutlined />,\r\n    text: 'Flip the SVG horizontally or vertically with the flip buttons.',\r\n  },\r\n  {\r\n    icon: <RotateRightOutlined />,\r\n    text: 'Rotate the SVG by 90¬∞ increments using the rotation button.',\r\n  },\r\n  {\r\n    icon: <EyeOutlined />,\r\n    text: 'Preview your SVG interactively with pan, zoom, and background color modes.',\r\n  },\r\n  {\r\n    icon: <ZoomInOutlined />,\r\n    text: 'Zoom in for detailed inspection, or use zoom out/reset controls for fitting.',\r\n  },\r\n  {\r\n    icon: <SyncOutlined />,\r\n    text: 'Reset zoom or pan with the reset button to refit the SVG view.',\r\n  },\r\n  {\r\n    icon: <DownloadOutlined />,\r\n    text: 'Download your SVG as SVG, PNG, or ICO formats from the preview section.',\r\n  },\r\n  {\r\n    icon: <CopyOutlined />,\r\n    text: 'Copy SVG code, Base64, or Data URI to clipboard for quick reuse.',\r\n  },\r\n];\r\n\r\nconst GuideSection: React.FC = () => {\r\n  return (\r\n    <div className={styles['svg-viewer-guide']}>\r\n      <Title level={5}>üß≠ How to Use the SVG Editor & Preview</Title>\r\n\r\n      <ul className={styles['guide-list']}>\r\n        {steps.map((step, i) => (\r\n          <li key={i}>\r\n            <span className={styles['guide-icon']}>{step.icon}</span>\r\n            <span>{step.text}</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <Divider style={{ margin: '12px 0' }} />\r\n\r\n      <Paragraph type=\"secondary\">\r\n        <ExclamationCircleOutlined style={{ marginRight: 8, color: '#faad14' }} />\r\n        Always <Text strong>check optimized SVGs</Text> to ensure that no essential shapes or paths\r\n        were removed during optimization.\r\n      </Paragraph>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GuideSection;\r\n","import React from 'react';\r\n\r\nexport const DragDropWrapper = ({ children, setDragging, dragCounter, handleUpload }: any) => (\r\n  <div\r\n    onDragEnter={(e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      dragCounter.current++;\r\n      setDragging(true);\r\n    }}\r\n    onDragOver={(e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }}\r\n    onDragLeave={(e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      dragCounter.current--;\r\n      if (dragCounter.current <= 0) {\r\n        dragCounter.current = 0;\r\n        setDragging(false);\r\n      }\r\n    }}\r\n    onDrop={(e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setDragging(false);\r\n      dragCounter.current = 0;\r\n      const files = e.dataTransfer.files;\r\n      if (files.length > 0) handleUpload(files[0]);\r\n    }}\r\n    style={{ position: 'relative', minHeight: '100vh' }}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n","import { useEffect, useState } from 'react';\nimport { ViewerSettings } from '../constants';\nimport { loadSettings, saveSettings } from '../utils/helpers';\n\nexport const useSetting = () => {\n  const [settings, setSettings] = useState<ViewerSettings>(loadSettings());\n\n  useEffect(() => {\n    saveSettings(settings);\n  }, [settings]);\n\n  return { settings, setSettings };\n};\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Button, Upload, Space, Typography, Input, Tooltip, message } from 'antd'; // Import Ant Design components\r\nimport { Editor } from '@monaco-editor/react'; // Import Monaco Editor component\r\nimport {\r\n  UploadOutlined,\r\n  HighlightOutlined,\r\n  CompressOutlined,\r\n  CopyOutlined,\r\n  DeleteOutlined,\r\n  SwapOutlined,\r\n  LockOutlined,\r\n  UnlockOutlined,\r\n  RotateRightOutlined,\r\n} from '@ant-design/icons'; // Import icons\r\nimport styles from '../styles.less'; // Import CSS module\r\nimport { handleCopy } from '@/helpers';\r\nimport {\r\n  extractSize,\r\n  formatXML,\r\n  handleEditorMount,\r\n  loadSettings,\r\n  saveSettings,\r\n} from '../utils/helpers';\r\nimport { optimize } from 'svgo'; // Import SVG optimizer\r\nimport type * as monaco from 'monaco-editor';\r\nimport { useDarkMode } from '@/hooks/useDarkMode';\r\nimport { useSetting } from '../hooks/useSetting';\r\nimport { ViewerSettings } from '../constants';\r\n\r\nconst { Text } = Typography; // Destructure Text component from Typography\r\n\r\ntype Props = {\r\n  svgCode: string;\r\n  setSvgCode: (val: string) => void;\r\n  setPreview: (val: string) => void;\r\n  sizeInfo: { before: number; after?: number } | null;\r\n  setSizeInfo: (info: { before: number; after?: number } | null) => void;\r\n  svgSize: { width: string; height: string };\r\n  setSvgSize: (size: any) => void;\r\n  svgContainerRef: React.RefObject<HTMLDivElement>;\r\n  handleUpload: (file: File) => boolean;\r\n};\r\n\r\nconst EditorSection: React.FC<Props> = ({\r\n  svgCode,\r\n  setSvgCode,\r\n  setPreview,\r\n  sizeInfo,\r\n  setSizeInfo,\r\n  svgSize,\r\n  setSvgSize,\r\n  svgContainerRef,\r\n  handleUpload,\r\n}) => {\r\n  // --- State variables ---\r\n  const { darkMode } = useDarkMode();\r\n  const editorRef = useRef<monaco.editor.IStandaloneCodeEditor | null>(null);\r\n  const debounceTimeout = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  const [cursorPos, setCursorPos] = useState({ line: 1, column: 1 });\r\n\r\n  const [lockRatio, setLockRatio] = useState<boolean>(true);\r\n  const ratioRef = useRef<number | null>(null);\r\n\r\n  const [rotation, setRotation] = useState(0);\r\n\r\n  // Setting hook\r\n  const { settings, setSettings } = useSetting();\r\n\r\n  // Keep ratio updated whenever SVG size changes\r\n  useEffect(() => {\r\n    const w = parseFloat(svgSize.width);\r\n    const h = parseFloat(svgSize.height);\r\n    if (w && h && !isNaN(w) && !isNaN(h)) {\r\n      ratioRef.current = w / h;\r\n    }\r\n  }, [svgSize.width, svgSize.height]);\r\n\r\n  // Sync lock ratio with setting\r\n  useEffect(() => {\r\n    if (lockRatio !== settings.lockRatio) setSettings({ ...settings, lockRatio });\r\n  }, [lockRatio]);\r\n\r\n  // --- Optimize SVG using SVGO ---\r\n  const handleOptimize = () => {\r\n    if (!svgCode.trim()) {\r\n      // Check if SVG code exists\r\n      message.warning('No SVG code to optimize.');\r\n      return;\r\n    }\r\n    try {\r\n      const beforeSize = new Blob([svgCode]).size; // Get original size\r\n      const result = optimize(svgCode, { multipass: true }); // Optimize SVG\r\n      let optimized = result.data; // Get optimized code\r\n\r\n      // Remove unnecessary whitespace\r\n      optimized = optimized\r\n        .replace(/\\n+/g, '')\r\n        .replace(/\\r+/g, '')\r\n        .replace(/\\t+/g, '')\r\n        .replace(/\\s{2,}/g, ' ')\r\n        .replace(/> </g, '><')\r\n        .trim();\r\n\r\n      const afterSize = new Blob([optimized]).size; // Get optimized size\r\n      setSvgCode(optimized); // Update SVG code\r\n      setPreview(optimized); // Update preview\r\n      setSizeInfo({ before: beforeSize, after: afterSize }); // Update size info\r\n\r\n      const percent = (((beforeSize - afterSize) / beforeSize) * 100).toFixed(1); // Calculate reduction\r\n      message.success(`SVG optimized! Reduced by ${percent}%`);\r\n    } catch (err) {\r\n      console.error(err);\r\n      message.error('Failed to optimize SVG.');\r\n    }\r\n  };\r\n\r\n  // --- Copy SVG code to clipboard ---\r\n  const handleCopyCode = () => handleCopy(svgCode, 'Copied SVG code to clipboard!');\r\n\r\n  // --- Clear SVG code and preview ---\r\n  const handleClear = () => {\r\n    setSvgCode(''); // Clear SVG code\r\n    setPreview(''); // Clear preview\r\n    setSizeInfo(null); // Clear size info\r\n    setSvgSize({ width: '', height: '' }); // Clear detected size\r\n  };\r\n\r\n  // --- Debounced Resize ---\r\n  const debouncedResize = (width: string, height: string) => {\r\n    if (debounceTimeout.current) clearTimeout(debounceTimeout.current);\r\n    debounceTimeout.current = setTimeout(() => {\r\n      if (width && height) handleResize(width, height);\r\n    }, 500); // waits 500ms after typing stops\r\n  };\r\n\r\n  // --- Resize SVG by updating width and height attributes ---\r\n  const handleResize = (width: string, height: string) => {\r\n    if (!svgCode.trim()) {\r\n      message.warning('No SVG loaded.');\r\n      return;\r\n    }\r\n\r\n    if (!width || !height) {\r\n      message.warning('Please enter both width and height.');\r\n      return;\r\n    }\r\n\r\n    let updated = svgCode;\r\n\r\n    if (updated.includes('width=')) {\r\n      updated = updated.replace(/width=\"[^\"]*\"/, `width=\"${width}\"`);\r\n    } else {\r\n      updated = updated.replace('<svg', `<svg width=\"${width}\"`);\r\n    }\r\n\r\n    if (updated.includes('height=')) {\r\n      updated = updated.replace(/height=\"[^\"]*\"/, `height=\"${height}\"`);\r\n    } else {\r\n      updated = updated.replace('<svg', `<svg height=\"${height}\"`);\r\n    }\r\n\r\n    setSvgCode(updated);\r\n    setPreview(updated);\r\n    message.success(`SVG resized to ${width} √ó ${height}`);\r\n  };\r\n\r\n  // --- Flip SVG horizontally ---\r\n  const flipHorizontal = () => {\r\n    if (!svgCode.trim()) {\r\n      message.warning('No SVG loaded.');\r\n      return;\r\n    }\r\n    let updated = svgCode;\r\n\r\n    // Insert or update transform attribute\r\n    updated = updated.replace(/<svg([^>]*)>/, (match, attrs) => {\r\n      if (attrs.includes('transform=')) {\r\n        return `<svg${attrs.replace(/transform=\"([^\"]*)\"/, 'transform=\"scale(-1,1) $1\"')}>`;\r\n      } else {\r\n        return `<svg${attrs} transform=\"scale(-1,1)\">`;\r\n      }\r\n    });\r\n\r\n    setSvgCode(updated);\r\n    setPreview(updated);\r\n    message.success('Flipped horizontally!');\r\n  };\r\n\r\n  // --- Flip SVG vertically ---\r\n  const flipVertical = () => {\r\n    if (!svgCode.trim()) {\r\n      message.warning('No SVG loaded.');\r\n      return;\r\n    }\r\n    let updated = svgCode;\r\n\r\n    updated = updated.replace(/<svg([^>]*)>/, (match, attrs) => {\r\n      if (attrs.includes('transform=')) {\r\n        return `<svg${attrs.replace(/transform=\"([^\"]*)\"/, 'transform=\"scale(1,-1) $1\"')}>`;\r\n      } else {\r\n        return `<svg${attrs} transform=\"scale(1,-1)\">`;\r\n      }\r\n    });\r\n\r\n    setSvgCode(updated);\r\n    setPreview(updated);\r\n    message.success('Flipped vertically!');\r\n  };\r\n\r\n  // --- Prettify SVG code ---\r\n  const prettifySVG = () => {\r\n    if (!svgCode.trim()) {\r\n      message.warning('No SVG code to prettify.');\r\n      return;\r\n    }\r\n    try {\r\n      const settings = loadSettings();\r\n      let code = svgCode;\r\n      if (settings.optimizeBeforePrettify) code = optimize(svgCode, { multipass: true }); // Optimize SVG\r\n      const pretty = formatXML(code);\r\n      setSvgCode(pretty);\r\n      setPreview(pretty);\r\n      extractSize(pretty, setSvgSize);\r\n      message.success('SVG prettified!');\r\n    } catch (err) {\r\n      console.error(err);\r\n      message.error('Failed to prettify SVG.');\r\n    }\r\n  };\r\n\r\n  // --- Size Change ---\r\n  const handleSizeChange = (type: 'width' | 'height', value: string) => {\r\n    setSvgSize((prev) => {\r\n      const updated = { ...prev };\r\n      const numValue = parseFloat(value);\r\n\r\n      // Assign new value\r\n      updated[type] = value;\r\n\r\n      if (lockRatio && ratioRef.current && !isNaN(numValue) && numValue > 0) {\r\n        if (type === 'width') {\r\n          // Auto-correct height based on width\r\n          updated.height = numValue / ratioRef.current;\r\n        } else {\r\n          // Auto-correct width based on height\r\n          updated.width = numValue * ratioRef.current;\r\n        }\r\n      }\r\n\r\n      // Trigger resize only if both are valid numbers\r\n      const w = parseFloat(updated.width);\r\n      const h = parseFloat(updated.height);\r\n      if (!isNaN(w) && !isNaN(h) && w > 0 && h > 0) {\r\n        debouncedResize(updated.width, updated.height);\r\n      }\r\n\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // --- Rotate SVG by 90¬∞ ---\r\n  const handleRotate = () => {\r\n    if (!svgCode.trim()) {\r\n      message.warning('No SVG loaded.');\r\n      return;\r\n    }\r\n\r\n    const newRotation = (rotation + 90) % 360;\r\n    setRotation(newRotation);\r\n\r\n    let updated = svgCode;\r\n    updated = updated.replace(/<svg([^>]*)>/, (match, attrs) => {\r\n      const transformValue = `rotate(${newRotation})`;\r\n      if (attrs.includes('transform=')) {\r\n        return `<svg${attrs.replace(/transform=\"([^\"]*)\"/, `transform=\"${transformValue}\"`)}>`;\r\n      } else {\r\n        return `<svg${attrs} transform=\"${transformValue}\">`;\r\n      }\r\n    });\r\n\r\n    setSvgCode(updated);\r\n    setPreview(updated);\r\n    message.success(`Rotated SVG to ${newRotation}¬∞!`);\r\n  };\r\n\r\n  const onMount = (editor: monaco.editor.IStandaloneCodeEditor) => {\r\n    editorRef.current = editor; // Store the editor instance for later use\r\n    const callback = (action: string, data: any) => {\r\n      if (action === 'position')\r\n        setCursorPos({\r\n          line: data.lineNumber,\r\n          column: data.column,\r\n        });\r\n    };\r\n    handleEditorMount(editor, svgContainerRef, callback);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.editorSection}>\r\n      <Space className={styles.topActions} style={{ marginTop: 12, marginBottom: 8 }} wrap>\r\n        <Upload beforeUpload={handleUpload} showUploadList={false} accept=\".svg\">\r\n          <Button size=\"small\" icon={<UploadOutlined />}>\r\n            Upload SVG\r\n          </Button>\r\n        </Upload>\r\n        <Button size=\"small\" onClick={prettifySVG} icon={<HighlightOutlined />}>\r\n          Prettify\r\n        </Button>\r\n        <Button size=\"small\" onClick={handleOptimize} icon={<CompressOutlined />}>\r\n          Optimize\r\n        </Button>\r\n      </Space>\r\n\r\n      <Space direction=\"horizontal\" size={'large'}>\r\n        {/* Show cursor position */}\r\n        <div\r\n          style={{\r\n            height: 28,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            justifyContent: 'flex-end',\r\n            borderBottom: '1px solid #ddd',\r\n          }}\r\n        >\r\n          <Text type=\"secondary\">\r\n            Ln {cursorPos.line}, Col {cursorPos.column}\r\n          </Text>\r\n        </div>\r\n\r\n        {/* Show size info */}\r\n        {sizeInfo && (\r\n          <Text type=\"secondary\" className=\"mb-2 block\">\r\n            Size: <b>{(sizeInfo.before / 1024).toFixed(2)} KB</b>\r\n            {sizeInfo.after && (\r\n              <>\r\n                {' '}\r\n                ‚Üí <b>{(sizeInfo.after / 1024).toFixed(2)} KB</b> (\r\n                {(((sizeInfo.before - sizeInfo.after) / sizeInfo.before) * 100).toFixed(1)}%\r\n                smaller)\r\n              </>\r\n            )}\r\n          </Text>\r\n        )}\r\n      </Space>\r\n\r\n      {/* Editor */}\r\n      <div className={styles.editorBox}>\r\n        <Editor\r\n          height=\"100%\"\r\n          defaultLanguage=\"xml\"\r\n          value={svgCode}\r\n          onChange={(val) => {\r\n            const code = val || '';\r\n            setSvgCode(code);\r\n            setPreview(code);\r\n            extractSize(code, setSvgSize);\r\n          }}\r\n          onMount={onMount}\r\n          theme={darkMode ? 'vs-dark' : 'light'}\r\n          options={{\r\n            minimap: { enabled: false },\r\n            wordWrap: 'on',\r\n            fontSize: 14,\r\n            lineNumbersMinChars: 2,\r\n            lineDecorationsWidth: 0,\r\n            lineNumbers: 'on',\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Editor actions */}\r\n      <Space className={styles.actions} wrap>\r\n        <Button size=\"small\" type=\"primary\" onClick={handleCopyCode} icon={<CopyOutlined />}>\r\n          Copy\r\n        </Button>\r\n        <Button size=\"small\" danger onClick={handleClear} icon={<DeleteOutlined />}>\r\n          Clear\r\n        </Button>\r\n      </Space>\r\n      {/* Resize controls */}\r\n      <Space style={{ float: 'right', marginTop: 16 }}>\r\n        <Text strong>Resize:</Text>\r\n        {/* Lock Ratio Button */}\r\n        <Tooltip title={lockRatio ? 'Unlock aspect ratio' : 'Lock aspect ratio'}>\r\n          <Button\r\n            size=\"small\"\r\n            icon={lockRatio ? <LockOutlined /> : <UnlockOutlined />}\r\n            type={lockRatio ? 'primary' : 'default'}\r\n            onClick={() => setLockRatio((prev) => !prev)}\r\n          />\r\n        </Tooltip>\r\n        {/*Size Input*/}\r\n        <Input\r\n          size=\"small\"\r\n          prefix={<CompressOutlined />}\r\n          placeholder=\"W\"\r\n          style={{ width: 90 }}\r\n          value={svgSize.width}\r\n          onChange={(e) => handleSizeChange('width', e.target.value.trim())}\r\n        />\r\n        x\r\n        <Input\r\n          size=\"small\"\r\n          prefix={<CompressOutlined />}\r\n          placeholder=\"H\"\r\n          style={{ width: 90 }}\r\n          value={svgSize.height}\r\n          onChange={(e) => handleSizeChange('height', e.target.value.trim())}\r\n        />\r\n        {/* Flip buttons */}\r\n        <Tooltip title={'Flip H'}>\r\n          <Button size=\"small\" onClick={flipHorizontal} icon={<SwapOutlined />} />\r\n        </Tooltip>\r\n        <Tooltip title={'Flip V'}>\r\n          <Button\r\n            size=\"small\"\r\n            onClick={flipVertical}\r\n            icon={<SwapOutlined style={{ transform: 'rotate(90deg)' }} />}\r\n          />\r\n        </Tooltip>\r\n        <Tooltip title=\"Rotate 90¬∞\">\r\n          <Button size=\"small\" icon={<RotateRightOutlined />} onClick={handleRotate} />\r\n        </Tooltip>\r\n      </Space>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditorSection;\r\n","// This icon file is generated automatically.\nvar MinusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"minus\", \"theme\": \"outlined\" };\nexport default MinusOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MinusOutlinedSvg from \"@ant-design/icons-svg/es/asn/MinusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar MinusOutlined = function MinusOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: MinusOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(MinusOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'MinusOutlined';\n}\nexport default RefIcon;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(PlusOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PlusOutlined';\n}\nexport default RefIcon;","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Tabs, Button, Space, Segmented, Tooltip, Typography, message } from 'antd'; // Import Ant Design components\r\nimport {\r\n  MinusOutlined,\r\n  PlusOutlined,\r\n  SyncOutlined,\r\n  DownloadOutlined,\r\n  CopyOutlined,\r\n} from '@ant-design/icons'; // Import icons\r\nimport styles from '../styles.less'; // Import CSS module\r\n\r\nconst { Text } = Typography;\r\n\r\ntype Props = {\r\n  preview: string;\r\n  svgCode: string;\r\n  handleDownload: (content: string, name: string, type: string) => void;\r\n  handleCopy: (val: string, msg: string) => void;\r\n  svgContainerRef: React.RefObject<HTMLDivElement>;\r\n  getDataURI: () => string;\r\n  getBase64: () => string;\r\n};\r\n\r\nconst PreviewTabs: React.FC<Props> = ({\r\n  preview,\r\n  svgCode,\r\n  handleDownload,\r\n  handleCopy,\r\n  svgContainerRef,\r\n  getDataURI,\r\n  getBase64,\r\n}) => {\r\n  // --- State variables ---\r\n  const [activeTab, setActiveTab] = useState<string>('svg'); // Active preview tab\r\n  const [bgMode, setBgMode] = useState<'transparent' | 'white' | 'black' | 'grey'>('grey'); // Background mode\r\n\r\n  // --- Pan (drag) control ---\r\n  const [isDragging, setIsDragging] = useState(false);\r\n  const [offset, setOffset] = useState({ x: 0, y: 0 });\r\n  const [start, setStart] = useState<{ x: number; y: number } | null>(null);\r\n\r\n  const [zoom, setZoom] = useState(1); // 1 = 100%\r\n  const handleZoomIn = () => setZoom((z) => Math.min(z * 2, 8)); // up to 800%\r\n  const handleZoomOut = () => setZoom((z) => Math.max(z * 0.5, 0.125)); // down to 12.5%\r\n  const handleResetZoom = () => setZoom(1);\r\n  const [fitScale, setFitScale] = useState(1);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Auto-fit SVG to container\r\n  useEffect(() => {\r\n    const fitSvgToContainer = () => {\r\n      const container = containerRef.current;\r\n      const svgWrapper = svgContainerRef.current;\r\n      if (!container || !svgWrapper) return;\r\n\r\n      const svgEl = svgWrapper.querySelector('svg');\r\n      if (!svgEl) return;\r\n\r\n      const bbox = svgEl.getBBox();\r\n      const containerRect = container.getBoundingClientRect();\r\n      if (!bbox.width || !bbox.height) return;\r\n\r\n      const scaleX = containerRect.width / bbox.width;\r\n      const scaleY = containerRect.height / bbox.height;\r\n      const scale = Math.min(scaleX, scaleY, 1); // Prevent upscaling beyond 100%\r\n\r\n      setFitScale(scale);\r\n      setZoom(scale); // Initialize zoom to fit scale\r\n      setOffset({ x: 0, y: 0 });\r\n    };\r\n\r\n    fitSvgToContainer();\r\n    window.addEventListener('resize', fitSvgToContainer);\r\n    return () => window.removeEventListener('resize', fitSvgToContainer);\r\n  }, [preview]);\r\n\r\n  const handleMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    // Triggered when mouse button is pressed down on the div\r\n    e.preventDefault(); // Prevents default browser drag behavior (like image dragging)\r\n    setIsDragging(true); // Marks that dragging has started\r\n    setStart({\r\n      // Records the starting mouse position relative to current offset\r\n      x: e.clientX - offset.x, // Calculate X starting point (adjusted by current offset)\r\n      y: e.clientY - offset.y, // Calculate Y starting point (adjusted by current offset)\r\n    });\r\n  };\r\n\r\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\r\n    // Triggered when mouse moves over the div\r\n    if (!isDragging || !start) return; // Do nothing if dragging hasn‚Äôt started or start point is missing\r\n    setOffset({\r\n      // Update the offset (i.e., how much the SVG has been moved)\r\n      x: e.clientX - start.x, // Calculate new X offset based on current mouse position\r\n      y: e.clientY - start.y, // Calculate new Y offset based on current mouse position\r\n    });\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    // Triggered when mouse button is released\r\n    setIsDragging(false); // Ends the dragging state\r\n    setStart(null); // Clears the starting position\r\n  };\r\n\r\n  // --- Ctrl + Scroll Zoom Control (Zoom centered around cursor) ---\r\n  useEffect(() => {\r\n    const container = svgContainerRef.current?.parentElement; // The previewSection div\r\n    const svgEl = svgContainerRef.current?.querySelector('svg'); // The actual SVG element\r\n    if (!container || !svgEl) return;\r\n\r\n    const handleWheel = (e: WheelEvent) => {\r\n      if (!e.ctrlKey) return; // Only zoom when holding Ctrl\r\n      e.preventDefault(); // Prevent page zoom\r\n\r\n      const rect = container.getBoundingClientRect();\r\n      const svgRect = svgEl.getBoundingClientRect();\r\n\r\n      // Mouse position relative to SVG (not container)\r\n      const mouseX = e.clientX - svgRect.left;\r\n      const mouseY = e.clientY - svgRect.top;\r\n\r\n      setZoom((prevZoom) => {\r\n        const zoomFactor = e.deltaY < 0 ? 1.1 : 0.9; // Smooth scaling up/down\r\n        const newZoom = Math.min(Math.max(prevZoom * zoomFactor, 0.1), 10); // Limit zoom range\r\n        const scaleChange = newZoom / prevZoom;\r\n\r\n        // Keep the mouse point fixed while zooming (Figma-style math)\r\n        setOffset((prevOffset) => ({\r\n          x: mouseX - (mouseX - prevOffset.x) * scaleChange,\r\n          y: mouseY - (mouseY - prevOffset.y) * scaleChange,\r\n        }));\r\n\r\n        return newZoom;\r\n      });\r\n    };\r\n\r\n    container.addEventListener('wheel', handleWheel, { passive: false });\r\n    return () => container.removeEventListener('wheel', handleWheel);\r\n  }, [svgContainerRef]);\r\n\r\n  // --- Convert SVG to Canvas image (PNG or ICO) ---\r\n  const svgToCanvas = async (mimeType: string) => {\r\n    return new Promise<string>((resolve, reject) => {\r\n      const img = new Image(); // Create image element\r\n      img.onload = () => {\r\n        const canvas = document.createElement('canvas'); // Create canvas\r\n        canvas.width = img.width; // Set width\r\n        canvas.height = img.height; // Set height\r\n        const ctx = canvas.getContext('2d'); // Get 2D context\r\n        if (!ctx) return reject('Canvas context not found'); // Error if context missing\r\n        ctx.drawImage(img, 0, 0); // Draw image on canvas\r\n        resolve(canvas.toDataURL(mimeType)); // Return as data URL\r\n      };\r\n      img.onerror = reject; // Reject on load error\r\n      img.src = getDataURI(); // Set image source\r\n    });\r\n  };\r\n\r\n  // --- Download PNG ---\r\n  const handleDownloadPng = async () => {\r\n    try {\r\n      const dataUrl = await svgToCanvas('image/png'); // Convert SVG to PNG\r\n      const link = document.createElement('a'); // Create link\r\n      link.href = dataUrl;\r\n      link.download = 'image.png'; // Set filename\r\n      link.click(); // Trigger download\r\n    } catch {\r\n      message.error('Failed to convert to PNG.');\r\n    }\r\n  };\r\n\r\n  // --- Download ICO ---\r\n  const handleDownloadIco = async () => {\r\n    try {\r\n      const dataUrl = await svgToCanvas('image/x-icon'); // Convert SVG to ICO\r\n      const link = document.createElement('a'); // Create link\r\n      link.href = dataUrl;\r\n      link.download = 'favicon.ico'; // Set filename\r\n      link.click(); // Trigger download\r\n    } catch {\r\n      message.error('Failed to convert to ICO.');\r\n    }\r\n  };\r\n  return (\r\n    <div className={styles.previewWrapper}>\r\n      <Tabs\r\n        size=\"small\"\r\n        style={{ marginTop: 17 }}\r\n        activeKey={activeTab}\r\n        onChange={(key) => setActiveTab(key)}\r\n        items={[\r\n          {\r\n            key: 'svg',\r\n            label: 'SVG',\r\n            children: (\r\n              <div\r\n                className={`${styles.previewSection} ${styles[bgMode]}`}\r\n                style={{ cursor: isDragging ? 'grabbing' : 'grab' }}\r\n                onMouseDown={handleMouseDown}\r\n                onMouseMove={handleMouseMove}\r\n                onMouseUp={handleMouseUp}\r\n                onMouseLeave={handleMouseUp}\r\n              >\r\n                <div\r\n                  ref={svgContainerRef}\r\n                  style={{\r\n                    transform: `translate(${offset.x}px, ${offset.y}px) scale(${zoom})`,\r\n                    transformOrigin: 'top left',\r\n                    display: 'inline-block',\r\n                  }}\r\n                  dangerouslySetInnerHTML={{\r\n                    __html: preview\r\n                      .split('<!-- New SVG appended -->')\r\n                      .map((part, i) => `<div>${part}</div>`)\r\n                      .join(''),\r\n                  }}\r\n                />\r\n              </div>\r\n            ),\r\n          },\r\n\r\n          {\r\n            key: 'png',\r\n            label: 'PNG',\r\n            children: (\r\n              <div className={`${styles.previewSection} ${styles[bgMode]}`}>\r\n                <img src={getDataURI()} alt=\"PNG preview\" style={{ maxWidth: '100%' }} />\r\n              </div>\r\n            ),\r\n          },\r\n          {\r\n            key: 'ico',\r\n            label: 'ICO',\r\n            children: (\r\n              <div className={`${styles.previewSection} ${styles[bgMode]}`}>\r\n                <img src={getDataURI()} alt=\"ICO preview\" style={{ maxWidth: '100%' }} />\r\n              </div>\r\n            ),\r\n          },\r\n          {\r\n            key: 'datauri',\r\n            label: 'Data URI',\r\n            children: <pre className={styles.previewCodeBox}>{getDataURI()}</pre>,\r\n          },\r\n          {\r\n            key: 'base64',\r\n            label: 'Base64',\r\n            children: <pre className={styles.previewCodeBox}>{getBase64()}</pre>,\r\n          },\r\n        ]}\r\n      />\r\n\r\n      {/* Bottom-left: background mode switch */}\r\n      <div className={styles.previewFooter}>\r\n        <Space>\r\n          <Segmented\r\n            size=\"small\"\r\n            options={[\r\n              { label: 'Transparent', value: 'transparent' },\r\n              { label: 'White', value: 'white' },\r\n              { label: 'Grey', value: 'grey' },\r\n              { label: 'Black', value: 'black' },\r\n            ]}\r\n            value={bgMode}\r\n            onChange={(val) => setBgMode(val as any)}\r\n          />\r\n          <Tooltip title=\"Zoom Out\">\r\n            <Button size=\"small\" icon={<MinusOutlined />} onClick={handleZoomOut} />\r\n          </Tooltip>\r\n          <Tooltip title=\"Zoom In\">\r\n            <Button size=\"small\" icon={<PlusOutlined />} onClick={handleZoomIn} />\r\n          </Tooltip>\r\n          <Tooltip title=\"Reset Zoom\">\r\n            <Button size=\"small\" icon={<SyncOutlined />} onClick={handleResetZoom} />\r\n          </Tooltip>\r\n          <Text type=\"secondary\">{Math.round(zoom * 100)}%</Text>\r\n        </Space>\r\n      </div>\r\n\r\n      {/* Bottom-right: download / copy actions */}\r\n      <div className={styles.previewActions}>\r\n        {['svg', 'png', 'ico'].includes(activeTab) && (\r\n          <Button\r\n            size=\"small\"\r\n            type=\"primary\"\r\n            icon={<DownloadOutlined />}\r\n            onClick={\r\n              activeTab === 'svg'\r\n                ? () => handleDownload(svgCode, 'image.svg', 'image/svg+xml')\r\n                : activeTab === 'png'\r\n                  ? handleDownloadPng\r\n                  : handleDownloadIco\r\n            }\r\n          >\r\n            Download {activeTab.toUpperCase()}\r\n          </Button>\r\n        )}\r\n        {['datauri', 'base64'].includes(activeTab) && (\r\n          <Button\r\n            size=\"small\"\r\n            icon={<CopyOutlined />}\r\n            onClick={() =>\r\n              handleCopy(\r\n                activeTab === 'datauri' ? getDataURI() : getBase64(),\r\n                `Copied ${activeTab.toUpperCase()} to clipboard!`,\r\n              )\r\n            }\r\n          >\r\n            Copy {activeTab.toUpperCase()}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreviewTabs;\r\n","import React from 'react';\r\nimport { Modal, Space, Switch, Typography } from 'antd';\r\nimport { useSetting } from '../hooks/useSetting';\r\n// Setting hook\r\ntype Props = {\r\n  open: boolean;\r\n  onClose: () => void;\r\n};\r\n\r\nconst { Text } = Typography;\r\n\r\nconst SettingsModal: React.FC<Props> = ({ open, onClose }) => {\r\n  const { settings, setSettings } = useSetting();\r\n\r\n  return (\r\n    <Modal\r\n      title=\"‚öôÔ∏è SVG Viewer Settings\"\r\n      open={open}\r\n      onCancel={onClose}\r\n      onOk={onClose}\r\n      footer={<></>}\r\n    >\r\n      <Space direction=\"vertical\" style={{ width: '100%' }}>\r\n        <Space align=\"center\" style={{ justifyContent: 'space-between', width: '100%' }}>\r\n          <Text>Highlight Border</Text>\r\n          <Switch\r\n            checked={settings.highlightBorder}\r\n            onChange={(val) => setSettings({ ...settings, highlightBorder: val })}\r\n          />\r\n        </Space>\r\n\r\n        <Space align=\"center\" style={{ justifyContent: 'space-between', width: '100%' }}>\r\n          <Text>Highlight Area</Text>\r\n          <Switch\r\n            checked={settings.highlightArea}\r\n            onChange={(val) => setSettings({ ...settings, highlightArea: val })}\r\n          />\r\n        </Space>\r\n\r\n        <Space align=\"center\" style={{ justifyContent: 'space-between', width: '100%' }}>\r\n          <Text>Upload Stack (append new SVGs)</Text>\r\n          <Switch\r\n            checked={settings.uploadStack}\r\n            onChange={(val) => setSettings({ ...settings, uploadStack: val })}\r\n          />\r\n        </Space>\r\n\r\n        <Space align=\"center\" style={{ justifyContent: 'space-between', width: '100%' }}>\r\n          <Text>Optimize Before Prettify</Text>\r\n          <Switch\r\n            checked={settings.optimizeBeforePrettify}\r\n            onChange={(val) => setSettings({ ...settings, optimizeBeforePrettify: val })}\r\n          />\r\n        </Space>\r\n      </Space>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SettingsModal;\r\n","import { handleCopy } from '@/helpers'; // Import custom copy helper\r\nimport { useIsMobile } from '@/hooks/useIsMobile';\r\n\r\nimport { Button, Card, message, Space, Splitter, Typography } from 'antd'; // Import Ant Design components\r\nimport React, { useRef, useState } from 'react'; // Import React and useState hook\r\nimport styles from './styles.less'; // Import CSS module\r\n\r\nimport { extractSize, handleDownload, loadSettings } from './utils/helpers';\r\nimport GuideSection from './components/GuideSection';\r\nimport DragOverlay from '@/components/DragOverlay';\r\nimport { DragDropWrapper } from './components/DragDropWrapper';\r\nimport EditorSection from './components/EditorSection';\r\nimport PreviewTabs from './components/PreviewTabs';\r\nimport { SettingOutlined } from '@ant-design/icons';\r\nimport SettingsModal from './components/SettingsModal';\r\nimport logo from '@/assets/logo.svg?raw';\r\n\r\nconst { Text } = Typography; // Destructure Text component from Typography\r\n\r\nconst SVGViewer: React.FC = () => {\r\n  // --- State variables ---\r\n  const [svgCode, setSvgCode] = useState<string>(logo); // Store the raw SVG code\r\n  const [preview, setPreview] = useState<string>(logo); // Store SVG preview HTML\r\n  const [pngPreview, setPngPreview] = useState<string>('');\r\n  const [icoPreview, setIcoPreview] = useState<string>('');\r\n\r\n  const [sizeInfo, setSizeInfo] = useState<{ before: number; after?: number } | null>(null); // Store size info before/after optimization\r\n  const [dragging, setDragging] = useState(false);\r\n  const [svgSize, setSvgSize] = useState<{ width: string; height: string }>({\r\n    width: '',\r\n    height: '',\r\n  }); // Store detected or custom SVG width/height\r\n\r\n  // Settings state\r\n  const [isSettingsModalOpen, setIsSettingsModalOpen] = useState(false);\r\n\r\n  // Check in using Mobile\r\n  const isMobile = useIsMobile();\r\n\r\n  // Couting Drag\r\n  const dragCounter = useRef(0);\r\n\r\n  // Highlight Editor Mount\r\n  const svgContainerRef = useRef<HTMLDivElement>(null);\r\n\r\n  // --- Function to handle SVG file upload ---\r\n  const handleUpload = (file: File) => {\r\n    const settings = loadSettings(); // üëà Load user preferences\r\n\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      const result = e.target?.result as string;\r\n      if (!result.includes('<svg')) {\r\n        message.error('Invalid SVG file');\r\n        return;\r\n      }\r\n\r\n      const newContent = result.trim();\r\n      let combinedSvg = '';\r\n\r\n      if (settings.uploadStack && svgCode.trim()) {\r\n        combinedSvg = `${svgCode.trim()}\\n\\n<!-- New SVG appended -->\\n${newContent}`;\r\n      } else {\r\n        combinedSvg = newContent;\r\n      }\r\n\r\n      setSvgCode(combinedSvg);\r\n      setPreview(combinedSvg);\r\n      extractSize(combinedSvg, setSvgSize);\r\n\r\n      setSizeInfo({ before: new Blob([combinedSvg]).size });\r\n      message.success(settings.uploadStack && svgCode ? 'Appended new SVG!' : 'SVG loaded!');\r\n    };\r\n    reader.readAsText(file);\r\n    return false;\r\n  };\r\n\r\n  // --- Generate Data URI string ---\r\n  const getDataURI = () => `data:image/svg+xml;utf8,${encodeURIComponent(svgCode)}`;\r\n\r\n  // --- Generate Base64 string ---\r\n  const getBase64 = () =>\r\n    `data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(svgCode)))}`;\r\n\r\n  return (\r\n    <DragDropWrapper\r\n      setDragging={setDragging}\r\n      dragCounter={dragCounter}\r\n      handleUpload={handleUpload}\r\n    >\r\n      <Card\r\n        title={\r\n          <Space>\r\n            üß© SVG Viewer\r\n            <Button\r\n              type=\"text\"\r\n              icon={<SettingOutlined />}\r\n              onClick={() => setIsSettingsModalOpen(true)}\r\n            />\r\n          </Space>\r\n        }\r\n        variant={'borderless'}\r\n        className={styles.container}\r\n      >\r\n        <div>\r\n          <Typography.Title level={4}>üìò About SVG Viewer</Typography.Title>\r\n          <Typography.Paragraph>\r\n            This tool allows you to <Text strong>upload</Text>, <Text strong>edit</Text>, and\r\n            <Text strong> preview SVG files</Text>. You can optimize, prettify, resize, flip, and\r\n            export SVGs as SVG, PNG, ICO, Data URI, or Base64 formats.\r\n          </Typography.Paragraph>\r\n        </div>\r\n        <div className={styles.content}>\r\n          <Splitter\r\n            layout={isMobile ? 'vertical' : 'horizontal'}\r\n            style={isMobile ? { height: 1600 } : {}}\r\n          >\r\n            <Splitter.Panel defaultSize=\"50%\" min=\"20%\" max=\"70%\" style={{ padding: '0px 10px' }}>\r\n              {/* Left Side - Editor */}\r\n              <EditorSection\r\n                svgCode={svgCode}\r\n                setSvgCode={setSvgCode}\r\n                setPreview={setPreview}\r\n                sizeInfo={sizeInfo}\r\n                setSizeInfo={setSizeInfo}\r\n                svgSize={svgSize}\r\n                setSvgSize={setSvgSize}\r\n                svgContainerRef={svgContainerRef}\r\n                handleUpload={handleUpload}\r\n              />\r\n            </Splitter.Panel>\r\n            <Splitter.Panel style={{ padding: '0px 10px' }}>\r\n              {/* Right Side - Preview */}\r\n              <PreviewTabs\r\n                preview={preview}\r\n                svgCode={svgCode}\r\n                handleDownload={handleDownload}\r\n                handleCopy={handleCopy}\r\n                svgContainerRef={svgContainerRef}\r\n                getDataURI={getDataURI}\r\n                getBase64={getBase64}\r\n              />\r\n            </Splitter.Panel>\r\n          </Splitter>\r\n        </div>\r\n        {/* --- Guide Section --- */}\r\n        <GuideSection />\r\n      </Card>\r\n\r\n      {/* Drag overlay */}\r\n      {dragging && <DragOverlay />}\r\n\r\n      {/* --- Settings Modal --- */}\r\n      <SettingsModal open={isSettingsModalOpen} onClose={() => setIsSettingsModalOpen(false)} />\r\n    </DragDropWrapper>\r\n  );\r\n};\r\n\r\nexport default SVGViewer;\r\n","module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\r\\n<!-- Simplified favicon-only version of Ultimate Tools & Utilities logo with larger inner elements -->\\r\\n<svg\\r\\n     xmlns=\\\"http://www.w3.org/2000/svg\\\"\\r\\n     width=\\\"256\\\"\\r\\n     height=\\\"256\\\"\\r\\n     viewBox=\\\"0 0 1024 1024\\\"\\r\\n     role=\\\"img\\\" aria-labelledby=\\\"title desc\\\">\\r\\n  <title id=\\\"title\\\">Ultimate Tools favicon</title>\\r\\n  <desc id=\\\"desc\\\">Rounded gradient icon combining enlarged play triangle with a larger gradient circle.</desc>\\r\\n  <defs>\\r\\n    <radialGradient id=\\\"bgGrad\\\" cx=\\\"20%\\\" cy=\\\"15%\\\" r=\\\"80%\\\">\\r\\n      <stop offset=\\\"0%\\\" stop-color=\\\"#e9e3ff\\\" />\\r\\n      <stop offset=\\\"50%\\\" stop-color=\\\"#b5fffc\\\" />\\r\\n      <stop offset=\\\"100%\\\" stop-color=\\\"#ffe5e5ff\\\" />\\r\\n    </radialGradient>\\r\\n    <linearGradient id=\\\"iconGrad\\\" x1=\\\"0\\\" x2=\\\"1\\\">\\r\\n      <stop offset=\\\"0%\\\" stop-color=\\\"#ff718b\\\"/>\\r\\n      <stop offset=\\\"100%\\\" stop-color=\\\"#85ebfdff\\\"/>\\r\\n    </linearGradient>\\r\\n    <linearGradient id=\\\"borderGrad\\\" x1=\\\"0\\\" x2=\\\"1\\\" y1=\\\"0\\\" y2=\\\"1\\\">\\r\\n      <stop offset=\\\"0%\\\" stop-color=\\\"#ff718b\\\"/>\\r\\n      <stop offset=\\\"100%\\\" stop-color=\\\"#d8b3b5ff\\\"/>\\r\\n    </linearGradient>\\r\\n    <filter id=\\\"shadow\\\" x=\\\"-20%\\\" y=\\\"-20%\\\" width=\\\"140%\\\" height=\\\"140%\\\">\\r\\n      <feDropShadow dx=\\\"0\\\" dy=\\\"8\\\" stdDeviation=\\\"12\\\" flood-color=\\\"#000\\\" flood-opacity=\\\"0.1\\\"/>\\r\\n    </filter>\\r\\n  </defs>\\r\\n  <!-- Background -->\\r\\n  <rect width=\\\"100%\\\" height=\\\"100%\\\" fill=\\\"url(#bgGrad)\\\" rx=\\\"160\\\"/>\\r\\n  <!-- Rounded square with border -->\\r\\n  <rect x=\\\"152\\\" y=\\\"152\\\" width=\\\"720\\\" height=\\\"720\\\" rx=\\\"160\\\" fill=\\\"#fff\\\" filter=\\\"url(#shadow)\\\" stroke=\\\"url(#borderGrad)\\\" stroke-width=\\\"20\\\"/>\\r\\n  <!-- Larger inner gradient circle -->\\r\\n  <circle cx=\\\"512\\\" cy=\\\"512\\\" r=\\\"280\\\" fill=\\\"url(#iconGrad)\\\" opacity=\\\"0.3\\\" />\\r\\n  <!-- Slightly larger Play triangle -->\\r\\n  <polygon points=\\\"420,392 640,512 420,632\\\" fill=\\\"#fff\\\" opacity=\\\"0.92\\\" stroke=\\\"url(#borderGrad)\\\" stroke-width=\\\"15\\\" />\\r\\n</svg>\"","// --- Helpers for LocalStorage ---\r\nexport const SETTINGS_KEY = 'svg_viewer_settings';\r\n\r\nexport type ViewerSettings = {\r\n  highlightBorder: boolean;\r\n  highlightArea: boolean;\r\n  lockRatio: boolean;\r\n  uploadStack: boolean;\r\n  optimizeBeforePrettify: boolean;\r\n};\r\n\r\nexport const defaultSettings: ViewerSettings = {\r\n  highlightBorder: false,\r\n  highlightArea: true,\r\n  lockRatio: false,\r\n  uploadStack: true,\r\n  optimizeBeforePrettify: false,\r\n};\r\n","import * as monaco from 'monaco-editor';\r\nimport { defaultSettings, SETTINGS_KEY, ViewerSettings } from '../constants';\r\n\r\n// --- Helpers for LocalStorage ---\r\nexport const saveSettings = (settings: ViewerSettings) => {\r\n  localStorage.setItem(SETTINGS_KEY, JSON.stringify(settings));\r\n};\r\n\r\nexport const loadSettings = (): ViewerSettings => {\r\n  try {\r\n    const saved = localStorage.getItem(SETTINGS_KEY);\r\n    return saved ? { ...defaultSettings, ...JSON.parse(saved) } : defaultSettings;\r\n  } catch {\r\n    return defaultSettings;\r\n  }\r\n};\r\n\r\n// --- Download SVG or other data as file ---\r\nexport const handleDownload = (data: string, filename: string, type: string) => {\r\n  const blob = new Blob([data], { type }); // Create a blob from data\r\n  const link = document.createElement('a'); // Create an anchor element\r\n  link.href = URL.createObjectURL(blob); // Set href to blob URL\r\n  link.download = filename; // Set file name\r\n  link.click(); // Trigger download\r\n  URL.revokeObjectURL(link.href); // Clean up URL object\r\n};\r\n\r\n// --- Helper function to format XML ---\r\nexport const formatXML = (xml: string) => {\r\n  xml = xml.replace(/>\\s+</g, '><').replace(/\\r|\\n/g, '').trim(); // Remove whitespace between tags and newlines\r\n  xml = xml.replace(/(>)(<)(\\/*)/g, '$1\\n$2$3'); // Add newline between tags\r\n  const lines = xml.split('\\n'); // Split XML into lines\r\n  let indentLevel = 0; // Initialize indentation level\r\n  const formattedLines: string[] = []; // Store formatted lines\r\n\r\n  lines.forEach((line) => {\r\n    if (line.match(/^<\\/\\w/)) indentLevel--; // Decrease indent for closing tags\r\n    const padding = '  '.repeat(indentLevel); // Create padding string\r\n    let formattedLine = padding + line.trim(); // Apply padding\r\n    if (formattedLine.match(/^<\\w.*\\s+\\w+=/)) {\r\n      // If tag has attributes\r\n      formattedLine = formattedLine.replace(/(\\s+\\w+=)/g, '\\n' + padding + '  $1'); // Put each attribute on a new line\r\n    }\r\n    formattedLines.push(formattedLine); // Add formatted line to array\r\n    if (line.match(/^<\\w[^>]*[^/]>$/)) indentLevel++; // Increase indent for opening tag\r\n  });\r\n\r\n  return formattedLines.join('\\n').trim(); // Join all lines\r\n};\r\n\r\n// --- Extract width and height from SVG code ---\r\nexport const extractSize = (\r\n  code: string,\r\n  setSvgSize: (size: { width: string; height: string }) => void,\r\n) => {\r\n  const widthMatch = code.match(/width=\"([^\"]+)\"/);\r\n  const heightMatch = code.match(/height=\"([^\"]+)\"/);\r\n  setSvgSize({\r\n    width: widthMatch ? widthMatch[1] : '',\r\n    height: heightMatch ? heightMatch[1] : '',\r\n  });\r\n};\r\n\r\nexport const handleEditorMount = (\r\n  editor: monaco.editor.IStandaloneCodeEditor,\r\n  svgContainerRef,\r\n  callback?: (action: string, data: any) => void,\r\n) => {\r\n  let lastTagFragment: string | null = null; // Track the last highlighted tag name\r\n  let lastHighlightedEl: SVGElement | null = null; // Track the last highlighted SVG element\r\n\r\n  // Function to remove highlight overlay and tooltip\r\n  const removeHighlight = (svg: SVGSVGElement | null) => {\r\n    if (svg) {\r\n      const oldOverlay = svg.querySelector('#__highlight_overlay__');\r\n      const oldTooltip = svg.querySelector('#__highlight_tooltip__');\r\n      if (oldOverlay) oldOverlay.remove();\r\n      if (oldTooltip) oldTooltip.remove();\r\n    }\r\n  };\r\n\r\n  // Function to clear highlight state\r\n  const clear = (settings: ViewerSettings) => {\r\n    // üßπ Remove highlight overlay and tooltip if present\r\n    if (lastHighlightedEl) {\r\n      lastHighlightedEl.style.stroke = '';\r\n      lastHighlightedEl.style.strokeWidth = '';\r\n\r\n      const svg = lastHighlightedEl.ownerSVGElement;\r\n      removeHighlight(svg);\r\n      lastHighlightedEl = null;\r\n    }\r\n    lastTagFragment = null;\r\n  };\r\n\r\n  // Function to apply highlight styles\r\n  const applyHighlight = (targetEl: SVGElement, settings: ViewerSettings) => {\r\n    const svg = targetEl.ownerSVGElement;\r\n    if (!svg) return;\r\n\r\n    // ‚úÖ Highlight border if enabled\r\n    if (settings.highlightBorder) {\r\n      // Apply highlight stroke to matched SVG element\r\n      targetEl.style.stroke = '#1890ff';\r\n      targetEl.style.strokeWidth = '3';\r\n    }\r\n\r\n    // üßπ Remove old highlight overlay if any\r\n    removeHighlight(svg);\r\n\r\n    // üß© Get the bounding box of the target element (use SVGGraphicsElement.getBBox when available)\r\n    let bbox: { x: number; y: number; width: number; height: number };\r\n    if ('getBBox' in targetEl && typeof (targetEl as any).getBBox === 'function') {\r\n      try {\r\n        // Cast to SVGGraphicsElement to satisfy TypeScript\r\n        bbox = (targetEl as unknown as SVGGraphicsElement).getBBox();\r\n      } catch (err) {\r\n        // If getBBox throws (some browsers/elements), fall back to DOM rect\r\n        const rect = (targetEl as Element).getBoundingClientRect();\r\n        bbox = { x: rect.x, y: rect.y, width: rect.width, height: rect.height };\r\n      }\r\n    } else {\r\n      // Fallback for elements without getBBox\r\n      const rect = (targetEl as Element).getBoundingClientRect();\r\n      bbox = { x: rect.x, y: rect.y, width: rect.width, height: rect.height };\r\n    }\r\n\r\n    if (settings.highlightArea) {\r\n      // üé® Create overlay rect\r\n      const overlay = document.createElementNS('http://www.w3.org/2000/svg', 'rect');\r\n      overlay.setAttribute('id', '__highlight_overlay__');\r\n      overlay.setAttribute('x', bbox.x.toString());\r\n      overlay.setAttribute('y', bbox.y.toString());\r\n      overlay.setAttribute('width', bbox.width.toString());\r\n      overlay.setAttribute('height', bbox.height.toString());\r\n      overlay.setAttribute('fill', '#1890ff');\r\n      overlay.setAttribute('fill-opacity', '0.15');\r\n      overlay.setAttribute('stroke', '#1890ff');\r\n      // overlay.setAttribute('stroke-width', '2');\r\n      overlay.setAttribute('pointer-events', 'none');\r\n      overlay.style.transition = 'all 0.15s ease';\r\n      svg.appendChild(overlay); // ü™Ñ Add overlay to SVG\r\n    }\r\n\r\n    // üè∑Ô∏è Tooltip showing width √ó height\r\n    const tooltip = document.createElementNS('http://www.w3.org/2000/svg', 'text');\r\n    tooltip.setAttribute('id', '__highlight_tooltip__');\r\n    tooltip.setAttribute('x', (bbox.x + bbox.width + 5).toString());\r\n    tooltip.setAttribute('y', (bbox.y + 15).toString());\r\n    tooltip.setAttribute('fill', '#1890ff');\r\n    tooltip.setAttribute('font-size', '12');\r\n    tooltip.setAttribute('font-family', 'monospace');\r\n    tooltip.setAttribute('pointer-events', 'none');\r\n    tooltip.textContent = `W: ${bbox.width.toFixed(1)} H: ${bbox.height.toFixed(1)}`;\r\n    svg.appendChild(tooltip); // ü™Ñ Add tooltip to SVG\r\n\r\n    // üîó Track highlight\r\n    lastHighlightedEl = targetEl;\r\n  };\r\n\r\n  editor.onDidChangeCursorPosition((e) => {\r\n    const position = editor.getPosition();\r\n    if (!position) return;\r\n\r\n    if (callback) {\r\n      callback('position', position);\r\n    }\r\n  });\r\n\r\n  // üñ±Ô∏è Highlight based on cursor position in the code editor\r\n  editor.onMouseMove((e) => {\r\n    const settings = loadSettings();\r\n    const code = editor.getValue();\r\n    const position = e.target.position;\r\n    if (!position) return;\r\n\r\n    const model = editor.getModel();\r\n    if (!model) return;\r\n\r\n    const offset = model.getOffsetAt(position);\r\n    const tagStart = code.lastIndexOf('<', offset);\r\n    const tagEnd = code.indexOf('>', offset);\r\n\r\n    if (tagStart === -1 || tagEnd === -1 || offset < tagStart || offset > tagEnd) {\r\n      clear(settings);\r\n      return;\r\n    }\r\n\r\n    // üß© Extract the tag block safely ‚Äî include attributes across multiple lines\r\n    const tagFragment = code\r\n      .slice(tagStart, tagEnd + 1)\r\n      .replace(/\\s+/g, ' ')\r\n      .trim();\r\n\r\n    const match = tagFragment.match(/<([a-zA-Z][\\w:-]*)\\b([^>]*)>/i);\r\n    if (!match) return;\r\n\r\n    const tagName = match[1].toLowerCase();\r\n    const attrString = match[2] || '';\r\n\r\n    if (tagFragment === lastTagFragment && lastHighlightedEl) return;\r\n    lastTagFragment = tagFragment;\r\n\r\n    const container = svgContainerRef.current;\r\n    if (!container) return;\r\n    const svg = container.querySelector('svg');\r\n    if (!svg) return;\r\n\r\n    const elements: Element[] = svg.querySelectorAll(tagName);\r\n    if (!elements.length) {\r\n      clear(settings);\r\n      return;\r\n    }\r\n\r\n    const parseAttributes = (str: string): Record<string, string> => {\r\n      const attrs: Record<string, string> = {};\r\n      str.replace(/([\\w:-]+)\\s*=\\s*(['\"])(.*?)\\2/g, (_, key, _q, value) => {\r\n        attrs[key] = value.replace(/\\s+/g, ' ').trim();\r\n        return '';\r\n      });\r\n      return attrs;\r\n    };\r\n\r\n    const parsedAttr = parseAttributes(attrString);\r\n\r\n    // üß© Try to find the closest visual match\r\n    let targetEl: SVGElement | null = null;\r\n\r\n    // First, try perfect attribute match\r\n    // üß© Step 1: Try to find the element whose attributes exactly match the tag under the cursor\r\n    targetEl = Array.from(elements).find((el) => {\r\n      // Collect all attributes from the SVG element into a normalized key-value map\r\n      const elAttrs: Record<string, string> = {};\r\n      for (const { name, value } of Array.from(el.attributes)) {\r\n        // Normalize internal whitespace (e.g., remove extra spaces or line breaks)\r\n        elAttrs[name] = value.replace(/\\s+/g, ' ').trim();\r\n      }\r\n\r\n      // ‚úÖ Compare attributes:\r\n      // - Every attribute (key-value pair) in the parsed tag must exist in the SVG element\r\n      // - This ensures we‚Äôre matching the *exact* element that corresponds to the code cursor\r\n      return Object.entries(parsedAttr).every(([k, v]) => elAttrs[k] === v);\r\n    }) as SVGElement | null;\r\n\r\n    // ü™Ñ Step 2: If no exact attribute match was found,\r\n    // and there are multiple elements with the same tag name (e.g. multiple <path> tags)\r\n    if (!targetEl && elements.length > 1) {\r\n      // Get the current mouse Y position in the browser window\r\n      const mouseY = e.event.browserEvent?.clientY || 0;\r\n\r\n      // Calculate the screen position (bounding box) of each element\r\n      // Then sort them by how close their top edge is to the mouse Y position\r\n      const sorted = Array.from(elements)\r\n        .map((el) => ({\r\n          el,\r\n          box: el.getBoundingClientRect(),\r\n        }))\r\n        .sort((a, b) => Math.abs(a.box.top - mouseY) - Math.abs(b.box.top - mouseY));\r\n\r\n      // üéØ Pick the element visually closest to the mouse position as the best candidate\r\n      targetEl = sorted[0]?.el as SVGElement;\r\n    }\r\n\r\n    // ü©π Step 3: If all else fails, just use the first matching element as fallback\r\n    if (!targetEl) targetEl = elements[0] as SVGElement;\r\n\r\n    // üßπ Clear previous highlight\r\n    if (lastHighlightedEl && lastHighlightedEl !== targetEl) {\r\n      lastHighlightedEl.style.stroke = '';\r\n      lastHighlightedEl.style.strokeWidth = '';\r\n    }\r\n\r\n    // ‚ú® Apply highlight\r\n    applyHighlight(targetEl, settings);\r\n  });\r\n\r\n  // üñ±Ô∏è Clear highlight when mouse leaves editor\r\n  editor.onMouseLeave(() => {\r\n    const settings = loadSettings(); // üëà Load user preferences\r\n    clear(settings);\r\n  });\r\n};\r\n","module.exports = '';"],"names":[],"mappings":"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"}