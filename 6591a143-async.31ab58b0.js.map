{"version":3,"sources":["node_modules/@ant-design/icons-svg/es/asn/ExpandOutlined.js","node_modules/@ant-design/icons/es/icons/ExpandOutlined.js","node_modules/@ant-design/icons/es/icons/ZoomOutOutlined.js","src/pages/MermaidEditor/constants.ts","E:/code\\ultimate-tool-web\\src\\pages\\MermaidEditor\\styles.less?asmodule","src/pages/MermaidEditor/index.tsx"],"sourcesContent":["// This icon file is generated automatically.\nvar ExpandOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"defs\", \"attrs\": {}, \"children\": [{ \"tag\": \"style\", \"attrs\": {} }] }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"expand\", \"theme\": \"outlined\" };\nexport default ExpandOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ExpandOutlinedSvg from \"@ant-design/icons-svg/es/asn/ExpandOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ExpandOutlined = function ExpandOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ExpandOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(ExpandOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ExpandOutlined';\n}\nexport default RefIcon;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ZoomOutOutlinedSvg from \"@ant-design/icons-svg/es/asn/ZoomOutOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar ZoomOutOutlined = function ZoomOutOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ZoomOutOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(ZoomOutOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ZoomOutOutlined';\n}\nexport default RefIcon;","export const SAMPLE_DIAGRAMS: Record<string, { label: string; icon: string; code: string }> = {\r\n  flowchart: {\r\n    label: 'Flowchart',\r\n    icon: 'üìä',\r\n    code: `flowchart TD\r\n    A[Christmas] -->|Get money| B(Go shopping)\r\n    B --> C{Let me think}\r\n    C -->|One| D[Laptop]\r\n    C -->|Two| E[iPhone]\r\n    C -->|Three| F[fa:fa-car Car]`,\r\n  },\r\n  sequence: {\r\n    label: 'Sequence',\r\n    icon: 'üîÑ',\r\n    code: `sequenceDiagram\r\n    Alice->>+John: Hello John, how are you?\r\n    Alice->>+John: John, can you hear me?\r\n    John-->>-Alice: Hi Alice, I can hear you!\r\n    John-->>-Alice: I feel great!`,\r\n  },\r\n  classDiagram: {\r\n    label: 'Class',\r\n    icon: 'üèóÔ∏è',\r\n    code: `classDiagram\r\n    Animal <|-- Duck\r\n    Animal <|-- Fish\r\n    Animal <|-- Zebra\r\n    Animal : +int age\r\n    Animal : +String gender\r\n    Animal: +isMammal()\r\n    Animal: +mate()\r\n    class Duck{\r\n        +String beakColor\r\n        +swim()\r\n        +quack()\r\n    }\r\n    class Fish{\r\n        -int sizeInFeet\r\n        -canEat()\r\n    }\r\n    class Zebra{\r\n        +bool is_wild\r\n        +run()\r\n    }`,\r\n  },\r\n  stateDiagram: {\r\n    label: 'State',\r\n    icon: 'üî≤',\r\n    code: `stateDiagram-v2\r\n    [*] --> Still\r\n    Still --> [*]\r\n\r\n    Still --> Moving\r\n    Moving --> Still\r\n    Moving --> Crash\r\n    Crash --> [*]`,\r\n  },\r\n  erDiagram: {\r\n    label: 'Entity Relationship',\r\n    icon: 'üóÉÔ∏è',\r\n    code: `erDiagram\r\n    CUSTOMER ||--o{ ORDER : places\r\n    ORDER ||--|{ LINE-ITEM : contains\r\n    CUSTOMER }|..|{ DELIVERY-ADDRESS : uses`,\r\n  },\r\n  gantt: {\r\n    label: 'Gantt',\r\n    icon: 'üìÖ',\r\n    code: `gantt\r\n    title A Gantt Diagram\r\n    dateFormat YYYY-MM-DD\r\n    section Section\r\n        A task          :a1, 2024-01-01, 30d\r\n        Another task    :after a1, 20d\r\n    section Another\r\n        Task in Another :2024-01-12, 12d\r\n        another task    :24d`,\r\n  },\r\n  pie: {\r\n    label: 'Pie',\r\n    icon: 'ü•ß',\r\n    code: `pie title Pets adopted by volunteers\r\n    \"Dogs\" : 386\r\n    \"Cats\" : 85\r\n    \"Rats\" : 15`,\r\n  },\r\n  gitGraph: {\r\n    label: 'Git',\r\n    icon: 'üåø',\r\n    code: `gitGraph\r\n    commit\r\n    commit\r\n    branch develop\r\n    checkout develop\r\n    commit\r\n    commit\r\n    checkout main\r\n    merge develop\r\n    commit\r\n    commit`,\r\n  },\r\n  mindmap: {\r\n    label: 'Mindmap',\r\n    icon: 'üß†',\r\n    code: `mindmap\r\n  root((mindmap))\r\n    Origins\r\n      Long history\r\n      ::icon(fa fa-book)\r\n      Popularisation\r\n        British popular psychology author Tony Buzan\r\n    Research\r\n      On effectiveness<br/>and features\r\n      On Automatic creation\r\n        Uses\r\n            Creative techniques\r\n            Strategic planning\r\n            Argument mapping\r\n    Tools\r\n      Pen and paper\r\n      Mermaid`,\r\n  },\r\n  timeline: {\r\n    label: 'Timeline',\r\n    icon: '‚è≥',\r\n    code: `timeline\r\n    title History of Social Media Platform\r\n    2002 : LinkedIn\r\n    2004 : Facebook\r\n         : Google\r\n    2005 : YouTube\r\n    2006 : Twitter`,\r\n  },\r\n  quadrant: {\r\n    label: 'Quadrant',\r\n    icon: 'üìê',\r\n    code: `quadrantChart\r\n    title Reach and engagement of campaigns\r\n    x-axis Low Reach --> High Reach\r\n    y-axis Low Engagement --> High Engagement\r\n    quadrant-1 We should expand\r\n    quadrant-2 Need to promote\r\n    quadrant-3 Re-evaluate\r\n    quadrant-4 May be improved\r\n    Campaign A: [0.3, 0.6]\r\n    Campaign B: [0.45, 0.23]\r\n    Campaign C: [0.57, 0.69]\r\n    Campaign D: [0.78, 0.34]\r\n    Campaign E: [0.40, 0.34]\r\n    Campaign F: [0.35, 0.78]`,\r\n  },\r\n  sankey: {\r\n    label: 'Sankey',\r\n    icon: 'üåä',\r\n    code: `sankey-beta\r\n\r\nAgricultural 'waste',Bio-energy,124.729\r\nBio-energy,Electricity grid,29.544\r\nBio-energy,Losses,6.242\r\nBio-energy,Industry,10.544\r\nCoal imports,Coal,135.835\r\nCoal reserves,Coal,35.000\r\nCoal,Electricity grid,35.999\r\nCoal,Industry,11.606\r\nCoal,Losses,51.230`,\r\n  },\r\n  xychart: {\r\n    label: 'XY Chart',\r\n    icon: 'üìà',\r\n    code: `xychart-beta\r\n    title \"Sales Revenue\"\r\n    x-axis [jan, feb, mar, apr, may, jun, jul, aug, sep, oct, nov, dec]\r\n    y-axis \"Revenue (in $)\" 4000 --> 11000\r\n    bar [5000, 6000, 7500, 8200, 9500, 10500, 11000, 10200, 9200, 8500, 7000, 6000]\r\n    line [5000, 6000, 7500, 8200, 9500, 10500, 11000, 10200, 9200, 8500, 7000, 6000]`,\r\n  },\r\n  block: {\r\n    label: 'Block',\r\n    icon: 'üß±',\r\n    code: `block-beta\r\ncolumns 1\r\n  db((\"DB\"))\r\n  blockArrowId6<[\"&nbsp;&nbsp;&nbsp;\"]>(down)\r\n  block:ID\r\n    A\r\n    B[\"A wide one in the middle\"]\r\n    C\r\n  end\r\n  space\r\n  D\r\n  ID --> D\r\n  C --> D\r\n  style B fill:#969,stroke:#333,stroke-width:4px`,\r\n  },\r\n  journey: {\r\n    label: 'User Journey',\r\n    icon: 'üö∂',\r\n    code: `journey\r\n    title My working day\r\n    section Go to work\r\n      Make tea: 5: Me\r\n      Go upstairs: 3: Me\r\n      Do work: 1: Me, Cat\r\n    section Go home\r\n      Go downstairs: 5: Me\r\n      Sit down: 5: Me`,\r\n  },\r\n  requirement: {\r\n    label: 'Requirement',\r\n    icon: 'üìã',\r\n    code: `requirementDiagram\r\n\r\n    requirement test_req {\r\n    id: 1\r\n    text: the test text.\r\n    risk: high\r\n    verifymethod: test\r\n    }\r\n\r\n    element test_entity {\r\n    type: simulation\r\n    }\r\n\r\n    test_entity - satisfies -> test_req`,\r\n  },\r\n  c4: {\r\n    label: 'C4',\r\n    icon: 'üè¢',\r\n    code: `C4Context\r\n      title System Context diagram for Internet Banking System\r\n      Enterprise_Boundary(b0, \"BankBoundary0\") {\r\n        Person(customerA, \"Banking Customer A\", \"A customer of the bank, with personal bank accounts.\")\r\n        System(SystemAA, \"Internet Banking System\", \"Allows customers to view information about their bank accounts, and make payments.\")\r\n\r\n        Enterprise_Boundary(b1, \"BankBoundary\") {\r\n          SystemDb_Ext(SystemE, \"Mainframe Banking System\", \"Stores all of the core banking information about customers, accounts, transactions, etc.\")\r\n          System_Boundary(b2, \"BankBoundary2\") {\r\n            System(SystemA, \"Banking System A\")\r\n          }\r\n        }\r\n      }\r\n\r\n      BiRel(customerA, SystemAA, \"Uses\")\r\n      Rel(SystemAA, SystemE, \"Uses\")\r\n      Rel(SystemAA, SystemA, \"Uses\")\r\n\r\n      UpdateRelStyle(customerA, SystemAA, $offsetY=\"10\")`,\r\n  },\r\n  kanban: {\r\n    label: 'Kanban',\r\n    icon: 'üìå',\r\n    code: `kanban\r\n  Todo\r\n    id1[Design new feature]\r\n    id2[Write documentation]\r\n  \"In Progress\"\r\n    id3[Implement login]@{ assigned: 'knsv' }\r\n  Done\r\n    id4[Setup CI/CD]\r\n    id5[Create test cases]`,\r\n  },\r\n};\r\n\r\nexport const DEFAULT_CODE = SAMPLE_DIAGRAMS.flowchart.code;\r\n\r\nexport const DEFAULT_CONFIG = `{\r\n  \"theme\": \"default\"\r\n}`;\r\n","\nimport \"E:/code/ultimate-tool-web/src/pages/MermaidEditor/styles.less?modules\";\nexport default {\"fullscreenContent\": `fullscreenContent-LHKSp_GJ`,\"mermaidEditorPageDark\": `mermaidEditorPageDark-F1isjBGJ`,\"previewPane\": `previewPane-gYEhYpgZ`,\"toolbar\": `toolbar-8Stu1a_v`,\"sampleGrid\": `sampleGrid-lpIjeHx-`,\"errorMessage\": `errorMessage-2meiiHEW`,\"editorPane\": `editorPane-I3znh4No`,\"editorTab\": `editorTab-RJAg5X8m`,\"mermaidOutput\": `mermaidOutput-JDjDYJzd`,\"sampleIcon\": `sampleIcon-PXpT13ZK`,\"fullscreenHeader\": `fullscreenHeader-Xc4LIFFB`,\"toolbarLeft\": `toolbarLeft-ZF0aqREX`,\"editorContent\": `editorContent-KlHHnbzs`,\"previewContent\": `previewContent-GJsFGzM5`,\"editorTabs\": `editorTabs-2_nioq4N`,\"previewTitle\": `previewTitle-_F-XLJLo`,\"fullscreenOverlay\": `fullscreenOverlay-GIu_Wsrl`,\"active\": `active-kY09lTKp`,\"toolbarRight\": `toolbarRight-b3vKszea`,\"previewHeader\": `previewHeader-qa2AxWCD`,\"editorContainer\": `editorContainer-nSzzunCe`,\"previewActions\": `previewActions-a9IEzobU`,\"mermaidEditorPage\": `mermaidEditorPage-lVaGqfZF`,\"sampleCard\": `sampleCard-u1bxwhjC`,\"sampleDiagramsPanel\": `sampleDiagramsPanel-ou-EPP7J`}\n","import { useDarkMode } from '@/hooks/useDarkMode';\r\nimport { useIsMobile } from '@/hooks/useIsMobile';\r\nimport {\r\n  AimOutlined,\r\n  BorderOutlined,\r\n  CodeOutlined,\r\n  CopyOutlined,\r\n  DownloadOutlined,\r\n  ExpandOutlined,\r\n  EyeOutlined,\r\n  SettingOutlined,\r\n  CompressOutlined,\r\n  FileImageOutlined,\r\n  AppstoreOutlined,\r\n  ZoomInOutlined,\r\n  ZoomOutOutlined,\r\n} from '@ant-design/icons';\r\nimport Editor from '@monaco-editor/react';\r\nimport { Button, Collapse, ColorPicker, message, Splitter, Tooltip, Typography } from 'antd';\r\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { DEFAULT_CODE, DEFAULT_CONFIG, SAMPLE_DIAGRAMS } from './constants';\r\nimport styles from './styles.less';\r\nimport classNames from 'classnames';\r\nimport mermaid from 'mermaid';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\ntype EditorTab = 'code' | 'config';\r\n\r\nconst CHECKERBOARD_STYLE: React.CSSProperties = {\r\n  backgroundImage: [\r\n    'linear-gradient(45deg, rgba(0,0,0,0.06) 25%, transparent 25%)',\r\n    'linear-gradient(-45deg, rgba(0,0,0,0.06) 25%, transparent 25%)',\r\n    'linear-gradient(45deg, transparent 75%, rgba(0,0,0,0.06) 75%)',\r\n    'linear-gradient(-45deg, transparent 75%, rgba(0,0,0,0.06) 75%)',\r\n  ].join(', '),\r\n  backgroundPosition: '0 0, 0 10px, 10px -10px, -10px 0px',\r\n  backgroundSize: '20px 20px',\r\n};\r\n\r\nconst getPreviewBgStyle = (bg: string, showGrid: boolean): React.CSSProperties => {\r\n  if (showGrid) {\r\n    return {\r\n      backgroundColor: bg,\r\n      ...CHECKERBOARD_STYLE,\r\n    };\r\n  }\r\n  return { backgroundColor: bg };\r\n};\r\n\r\nconst STORAGE_KEY = 'mermaid-editor';\r\n\r\nconst loadFromStorage = () => {\r\n  try {\r\n    const raw = localStorage.getItem(STORAGE_KEY);\r\n    if (raw) return JSON.parse(raw);\r\n  } catch {\r\n    // ignore\r\n  }\r\n  return null;\r\n};\r\n\r\nconst MermaidEditorPage: React.FC = () => {\r\n  const { darkMode } = useDarkMode();\r\n  const isMobile = useIsMobile();\r\n\r\n  const saved = useRef(loadFromStorage()).current;\r\n\r\n  const [code, setCode] = useState<string>(saved?.code ?? DEFAULT_CODE);\r\n  const [config, setConfig] = useState<string>(saved?.config ?? DEFAULT_CONFIG);\r\n  const [activeTab, setActiveTab] = useState<EditorTab>('code');\r\n  const [svgOutput, setSvgOutput] = useState<string>('');\r\n  const [error, setError] = useState<string>('');\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const [previewBg, setPreviewBg] = useState(\r\n    saved?.previewBg ?? (darkMode ? '#1f1f1f' : '#ffffff'),\r\n  );\r\n  const [showGrid, setShowGrid] = useState<boolean>(saved?.showGrid ?? true);\r\n\r\n  // Save to localStorage on change\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(STORAGE_KEY, JSON.stringify({ code, config, previewBg, showGrid }));\r\n    } catch {\r\n      // ignore quota errors\r\n    }\r\n  }, [code, config, previewBg, showGrid]);\r\n\r\n  const BG_PRESETS = [\r\n    '#ffffff',\r\n    '#f5f5f5',\r\n    '#e8e8e8',\r\n    '#1f1f1f',\r\n    '#141414',\r\n    '#000000',\r\n    '#f0f5ff',\r\n    '#f6ffed',\r\n    '#fff7e6',\r\n    '#fff1f0',\r\n  ];\r\n\r\n  const previewRef = useRef<HTMLDivElement>(null);\r\n  const fullscreenPreviewRef = useRef<HTMLDivElement>(null);\r\n  const renderTimeoutRef = useRef<ReturnType<typeof setTimeout>>();\r\n  const renderIdRef = useRef(0);\r\n\r\n  // Pan & Zoom state\r\n  const [zoom, setZoom] = useState(1);\r\n  const [pan, setPan] = useState({ x: 0, y: 0 });\r\n  const isPanningRef = useRef(false);\r\n  const panStartRef = useRef({ x: 0, y: 0 });\r\n  const panOffsetRef = useRef({ x: 0, y: 0 });\r\n\r\n  // Fullscreen Pan & Zoom state\r\n  const [fsZoom, setFsZoom] = useState(1);\r\n  const [fsPan, setFsPan] = useState({ x: 0, y: 0 });\r\n  const isFsPanningRef = useRef(false);\r\n  const fsPanStartRef = useRef({ x: 0, y: 0 });\r\n  const fsPanOffsetRef = useRef({ x: 0, y: 0 });\r\n\r\n  const ZOOM_MIN = 0.1;\r\n  const ZOOM_MAX = 5;\r\n  const ZOOM_STEP = 0.1;\r\n\r\n  // Reset pan/zoom when diagram changes\r\n  useEffect(() => {\r\n    setZoom(1);\r\n    setPan({ x: 0, y: 0 });\r\n  }, [svgOutput]);\r\n\r\n  const resetView = () => {\r\n    setZoom(1);\r\n    setPan({ x: 0, y: 0 });\r\n  };\r\n\r\n  const resetFsView = () => {\r\n    setFsZoom(1);\r\n    setFsPan({ x: 0, y: 0 });\r\n  };\r\n\r\n  // Wheel zoom handler for preview (zoom toward mouse position)\r\n  const handleWheel = useCallback((e: React.WheelEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const mouseX = e.clientX - rect.left;\r\n    const mouseY = e.clientY - rect.top;\r\n    const centerX = rect.width / 2;\r\n    const centerY = rect.height / 2;\r\n\r\n    setZoom((prevZoom) => {\r\n      const delta = e.deltaY > 0 ? -ZOOM_STEP : ZOOM_STEP;\r\n      const newZoom = Math.min(ZOOM_MAX, Math.max(ZOOM_MIN, prevZoom + delta));\r\n      const scale = newZoom / prevZoom;\r\n\r\n      setPan((prevPan) => ({\r\n        x: mouseX - centerX - (mouseX - centerX - prevPan.x) * scale,\r\n        y: mouseY - centerY - (mouseY - centerY - prevPan.y) * scale,\r\n      }));\r\n\r\n      return newZoom;\r\n    });\r\n  }, []);\r\n\r\n  // Mouse pan handlers for preview\r\n  const handleMouseDown = useCallback(\r\n    (e: React.MouseEvent<HTMLDivElement>) => {\r\n      if (e.button !== 0) return;\r\n      isPanningRef.current = true;\r\n      panStartRef.current = { x: e.clientX, y: e.clientY };\r\n      panOffsetRef.current = { ...pan };\r\n      e.currentTarget.style.cursor = 'grabbing';\r\n    },\r\n    [pan],\r\n  );\r\n\r\n  const handleMouseMove = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (!isPanningRef.current) return;\r\n    const dx = e.clientX - panStartRef.current.x;\r\n    const dy = e.clientY - panStartRef.current.y;\r\n    setPan({ x: panOffsetRef.current.x + dx, y: panOffsetRef.current.y + dy });\r\n  }, []);\r\n\r\n  const handleMouseUp = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\r\n    isPanningRef.current = false;\r\n    e.currentTarget.style.cursor = 'grab';\r\n  }, []);\r\n\r\n  // Wheel zoom handler for fullscreen (zoom toward mouse position)\r\n  const handleFsWheel = useCallback((e: React.WheelEvent<HTMLDivElement>) => {\r\n    e.preventDefault();\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const mouseX = e.clientX - rect.left;\r\n    const mouseY = e.clientY - rect.top;\r\n    const centerX = rect.width / 2;\r\n    const centerY = rect.height / 2;\r\n\r\n    setFsZoom((prevZoom) => {\r\n      const delta = e.deltaY > 0 ? -ZOOM_STEP : ZOOM_STEP;\r\n      const newZoom = Math.min(ZOOM_MAX, Math.max(ZOOM_MIN, prevZoom + delta));\r\n      const scale = newZoom / prevZoom;\r\n\r\n      setFsPan((prevPan) => ({\r\n        x: mouseX - centerX - (mouseX - centerX - prevPan.x) * scale,\r\n        y: mouseY - centerY - (mouseY - centerY - prevPan.y) * scale,\r\n      }));\r\n\r\n      return newZoom;\r\n    });\r\n  }, []);\r\n\r\n  // Mouse pan handlers for fullscreen\r\n  const handleFsMouseDown = useCallback(\r\n    (e: React.MouseEvent<HTMLDivElement>) => {\r\n      if (e.button !== 0) return;\r\n      isFsPanningRef.current = true;\r\n      fsPanStartRef.current = { x: e.clientX, y: e.clientY };\r\n      fsPanOffsetRef.current = { ...fsPan };\r\n      e.currentTarget.style.cursor = 'grabbing';\r\n    },\r\n    [fsPan],\r\n  );\r\n\r\n  const handleFsMouseMove = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (!isFsPanningRef.current) return;\r\n    const dx = e.clientX - fsPanStartRef.current.x;\r\n    const dy = e.clientY - fsPanStartRef.current.y;\r\n    setFsPan({ x: fsPanOffsetRef.current.x + dx, y: fsPanOffsetRef.current.y + dy });\r\n  }, []);\r\n\r\n  const handleFsMouseUp = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\r\n    isFsPanningRef.current = false;\r\n    e.currentTarget.style.cursor = 'grab';\r\n  }, []);\r\n\r\n  // Initialize mermaid\r\n  useEffect(() => {\r\n    mermaid.initialize({\r\n      startOnLoad: false,\r\n      theme: darkMode ? 'dark' : 'default',\r\n      securityLevel: 'loose',\r\n      fontFamily: '\"trebuchet ms\", verdana, arial, sans-serif',\r\n      flowchart: { useMaxWidth: false, htmlLabels: true, padding: 15 },\r\n      sequence: { useMaxWidth: false },\r\n      gantt: { useMaxWidth: false },\r\n      class: { useMaxWidth: false },\r\n      state: { useMaxWidth: false },\r\n      er: { useMaxWidth: false },\r\n      pie: { useMaxWidth: false },\r\n      journey: { useMaxWidth: false },\r\n    });\r\n  }, [darkMode]);\r\n\r\n  // Render diagram with debounce\r\n  const renderDiagram = useCallback(\r\n    async (mermaidCode: string, mermaidConfig: string) => {\r\n      if (renderTimeoutRef.current) {\r\n        clearTimeout(renderTimeoutRef.current);\r\n      }\r\n\r\n      renderTimeoutRef.current = setTimeout(async () => {\r\n        const currentId = ++renderIdRef.current;\r\n\r\n        try {\r\n          // Parse config\r\n          let parsedConfig: Record<string, any> = {};\r\n          try {\r\n            parsedConfig = JSON.parse(mermaidConfig);\r\n          } catch {\r\n            // ignore invalid config\r\n          }\r\n\r\n          // Re-initialize with config\r\n          mermaid.initialize({\r\n            startOnLoad: false,\r\n            theme: darkMode ? 'dark' : 'default',\r\n            securityLevel: 'loose',\r\n            fontFamily: '\"trebuchet ms\", verdana, arial, sans-serif',\r\n            flowchart: { useMaxWidth: false, htmlLabels: true, padding: 15 },\r\n            sequence: { useMaxWidth: false },\r\n            gantt: { useMaxWidth: false },\r\n            class: { useMaxWidth: false },\r\n            state: { useMaxWidth: false },\r\n            er: { useMaxWidth: false },\r\n            pie: { useMaxWidth: false },\r\n            journey: { useMaxWidth: false },\r\n            ...parsedConfig,\r\n          });\r\n\r\n          // Validate syntax\r\n          await mermaid.parse(mermaidCode);\r\n\r\n          // Render\r\n          const uniqueId = `mermaid-preview-${currentId}-${Date.now()}`;\r\n          const { svg } = await mermaid.render(uniqueId, mermaidCode);\r\n\r\n          if (currentId === renderIdRef.current) {\r\n            // Remove inline max-width from SVG to prevent text clipping\r\n            const cleanedSvg = svg\r\n              .replace(/max-width:\\s*[\\d.]+px;?/gi, '')\r\n              .replace(/style=\"/i, 'style=\"max-width:none!important;');\r\n            setSvgOutput(cleanedSvg);\r\n            setError('');\r\n          }\r\n        } catch (err: any) {\r\n          if (currentId === renderIdRef.current) {\r\n            setError(err?.message || 'Failed to render diagram');\r\n          }\r\n        }\r\n      }, 300);\r\n    },\r\n    [darkMode],\r\n  );\r\n\r\n  // Re-render on code/config change\r\n  useEffect(() => {\r\n    renderDiagram(code, config);\r\n    return () => {\r\n      if (renderTimeoutRef.current) {\r\n        clearTimeout(renderTimeoutRef.current);\r\n      }\r\n    };\r\n  }, [code, config, renderDiagram]);\r\n\r\n  // Copy SVG to clipboard\r\n  const handleCopySvg = async () => {\r\n    if (!svgOutput) {\r\n      message.warning('No diagram to copy');\r\n      return;\r\n    }\r\n    try {\r\n      await navigator.clipboard.writeText(svgOutput);\r\n      message.success('SVG copied to clipboard');\r\n    } catch {\r\n      message.error('Failed to copy');\r\n    }\r\n  };\r\n\r\n  // Copy code to clipboard\r\n  const handleCopyCode = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(code);\r\n      message.success('Code copied to clipboard');\r\n    } catch {\r\n      message.error('Failed to copy');\r\n    }\r\n  };\r\n\r\n  // Download as SVG\r\n  const handleDownloadSvg = () => {\r\n    if (!svgOutput) {\r\n      message.warning('No diagram to download');\r\n      return;\r\n    }\r\n    const blob = new Blob([svgOutput], { type: 'image/svg+xml' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'mermaid-diagram.svg';\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n    message.success('SVG downloaded');\r\n  };\r\n\r\n  // Download as PNG\r\n  const handleDownloadPng = () => {\r\n    if (!svgOutput) {\r\n      message.warning('No diagram to download');\r\n      return;\r\n    }\r\n\r\n    const svgEl = document.createElement('div');\r\n    svgEl.innerHTML = svgOutput;\r\n    const svgNode = svgEl.querySelector('svg');\r\n    if (!svgNode) return;\r\n\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    if (!ctx) return;\r\n\r\n    const svgData = new XMLSerializer().serializeToString(svgNode);\r\n    const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });\r\n    const url = URL.createObjectURL(svgBlob);\r\n    const img = new Image();\r\n\r\n    img.onload = () => {\r\n      const scale = 2; // 2x resolution\r\n      canvas.width = img.width * scale;\r\n      canvas.height = img.height * scale;\r\n      ctx.scale(scale, scale);\r\n      ctx.fillStyle = darkMode ? '#1f1f1f' : '#ffffff';\r\n      ctx.fillRect(0, 0, img.width, img.height);\r\n      ctx.drawImage(img, 0, 0);\r\n      canvas.toBlob((blob) => {\r\n        if (!blob) return;\r\n        const pngUrl = URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = pngUrl;\r\n        a.download = 'mermaid-diagram.png';\r\n        a.click();\r\n        URL.revokeObjectURL(pngUrl);\r\n        message.success('PNG downloaded');\r\n      });\r\n      URL.revokeObjectURL(url);\r\n    };\r\n\r\n    img.src = url;\r\n  };\r\n\r\n  // Load sample diagram\r\n  const handleLoadSample = (key: string) => {\r\n    const sample = SAMPLE_DIAGRAMS[key];\r\n    if (sample) {\r\n      setCode(sample.code);\r\n      setActiveTab('code');\r\n    }\r\n  };\r\n\r\n  const editorContent = activeTab === 'code' ? code : config;\r\n  const editorLanguage = activeTab === 'code' ? 'markdown' : 'json';\r\n\r\n  const pageClass = classNames(styles.mermaidEditorPage, {\r\n    [styles.mermaidEditorPageDark]: darkMode,\r\n  });\r\n\r\n  return (\r\n    <div className={pageClass}>\r\n      {/* Toolbar */}\r\n      <div className={styles.toolbar}>\r\n        <div className={styles.toolbarLeft}>\r\n          <Title level={5} style={{ margin: 0 }}>\r\n            Mermaid Live Editor\r\n          </Title>\r\n          {error ? (\r\n            <Text type=\"danger\" style={{ fontSize: 12 }}>\r\n              ‚óè Syntax Error\r\n            </Text>\r\n          ) : svgOutput ? (\r\n            <Text type=\"success\" style={{ fontSize: 12 }}>\r\n              ‚óè Valid\r\n            </Text>\r\n          ) : null}\r\n        </div>\r\n        <div className={styles.toolbarRight}>\r\n          <Tooltip title=\"Copy Code\">\r\n            <Button icon={<CopyOutlined />} size=\"small\" onClick={handleCopyCode} />\r\n          </Tooltip>\r\n          <Tooltip title=\"Copy SVG\">\r\n            <Button icon={<CodeOutlined />} size=\"small\" onClick={handleCopySvg} />\r\n          </Tooltip>\r\n          <Tooltip title=\"Download SVG\">\r\n            <Button icon={<DownloadOutlined />} size=\"small\" onClick={handleDownloadSvg} />\r\n          </Tooltip>\r\n          <Tooltip title=\"Download PNG\">\r\n            <Button icon={<FileImageOutlined />} size=\"small\" onClick={handleDownloadPng} />\r\n          </Tooltip>\r\n          <Tooltip title=\"Fullscreen\">\r\n            <Button icon={<ExpandOutlined />} size=\"small\" onClick={() => setIsFullscreen(true)} />\r\n          </Tooltip>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Editor & Preview */}\r\n      <Splitter className={styles.editorContainer} layout={isMobile ? 'vertical' : 'horizontal'}>\r\n        <Splitter.Panel defaultSize=\"30%\" min=\"20%\">\r\n          <div className={styles.editorPane}>\r\n            {/* Editor Tabs */}\r\n            <div className={styles.editorTabs}>\r\n              <div\r\n                className={classNames(styles.editorTab, { [styles.active]: activeTab === 'code' })}\r\n                onClick={() => setActiveTab('code')}\r\n              >\r\n                <CodeOutlined /> Code\r\n              </div>\r\n              <div\r\n                className={classNames(styles.editorTab, {\r\n                  [styles.active]: activeTab === 'config',\r\n                })}\r\n                onClick={() => setActiveTab('config')}\r\n              >\r\n                <SettingOutlined /> Config\r\n              </div>\r\n            </div>\r\n\r\n            {/* Code Editor */}\r\n            <div className={styles.editorContent}>\r\n              <Editor\r\n                height=\"100%\"\r\n                language={editorLanguage}\r\n                value={editorContent}\r\n                theme={darkMode ? 'vs-dark' : 'vs'}\r\n                onChange={(value) => {\r\n                  if (activeTab === 'code') {\r\n                    setCode(value || '');\r\n                  } else {\r\n                    setConfig(value || '');\r\n                  }\r\n                }}\r\n                options={{\r\n                  minimap: { enabled: false },\r\n                  fontSize: 14,\r\n                  lineNumbers: 'on',\r\n                  wordWrap: 'on',\r\n                  scrollBeyondLastLine: false,\r\n                  automaticLayout: true,\r\n                  padding: { top: 12 },\r\n                  tabSize: 2,\r\n                }}\r\n              />\r\n            </div>\r\n\r\n            {/* Sample Diagrams */}\r\n            <Collapse\r\n              ghost\r\n              size=\"small\"\r\n              items={[\r\n                {\r\n                  key: 'samples',\r\n                  label: (\r\n                    <span>\r\n                      <AppstoreOutlined /> Sample Diagrams\r\n                    </span>\r\n                  ),\r\n                  children: (\r\n                    <div className={styles.sampleDiagramsPanel}>\r\n                      <div className={styles.sampleGrid}>\r\n                        {Object.entries(SAMPLE_DIAGRAMS).map(([key, sample]) => (\r\n                          <div\r\n                            key={key}\r\n                            className={styles.sampleCard}\r\n                            onClick={() => handleLoadSample(key)}\r\n                          >\r\n                            <div className={styles.sampleIcon}>{sample.icon}</div>\r\n                            <div>{sample.label}</div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  ),\r\n                },\r\n              ]}\r\n            />\r\n          </div>\r\n        </Splitter.Panel>\r\n\r\n        <Splitter.Panel min=\"20%\">\r\n          <div className={styles.previewPane}>\r\n            {/* Preview Header */}\r\n            <div className={styles.previewHeader}>\r\n              <span className={styles.previewTitle}>\r\n                <EyeOutlined /> Preview\r\n                <Text type=\"secondary\" style={{ fontSize: 11, marginLeft: 8 }}>\r\n                  {Math.round(zoom * 100)}%\r\n                </Text>\r\n              </span>\r\n              <div className={styles.previewActions}>\r\n                <Tooltip title=\"Toggle Grid\">\r\n                  <Button\r\n                    type={showGrid ? 'primary' : 'text'}\r\n                    size=\"small\"\r\n                    icon={<BorderOutlined />}\r\n                    onClick={() => setShowGrid((v) => !v)}\r\n                  />\r\n                </Tooltip>\r\n                <ColorPicker\r\n                  size=\"small\"\r\n                  value={previewBg}\r\n                  onChange={(_, hex) => setPreviewBg(hex)}\r\n                  presets={[\r\n                    {\r\n                      label: 'Presets',\r\n                      colors: BG_PRESETS,\r\n                    },\r\n                  ]}\r\n                />\r\n                <Tooltip title=\"Zoom In\">\r\n                  <Button\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    icon={<ZoomInOutlined />}\r\n                    onClick={() => setZoom((z) => Math.min(ZOOM_MAX, z + ZOOM_STEP))}\r\n                  />\r\n                </Tooltip>\r\n                <Tooltip title=\"Zoom Out\">\r\n                  <Button\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    icon={<ZoomOutOutlined />}\r\n                    onClick={() => setZoom((z) => Math.max(ZOOM_MIN, z - ZOOM_STEP))}\r\n                  />\r\n                </Tooltip>\r\n                <Tooltip title=\"Reset View\">\r\n                  <Button type=\"text\" size=\"small\" icon={<AimOutlined />} onClick={resetView} />\r\n                </Tooltip>\r\n                <Tooltip title=\"Fullscreen\">\r\n                  <Button\r\n                    type=\"text\"\r\n                    size=\"small\"\r\n                    icon={<ExpandOutlined />}\r\n                    onClick={() => setIsFullscreen(true)}\r\n                  />\r\n                </Tooltip>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Preview Content */}\r\n            <div\r\n              className={styles.previewContent}\r\n              ref={previewRef}\r\n              onWheel={handleWheel}\r\n              onMouseDown={handleMouseDown}\r\n              onMouseMove={handleMouseMove}\r\n              onMouseUp={handleMouseUp}\r\n              onMouseLeave={handleMouseUp}\r\n              style={{ cursor: 'grab', ...getPreviewBgStyle(previewBg, showGrid) }}\r\n            >\r\n              {error ? (\r\n                <div className={styles.errorMessage}>{error}</div>\r\n              ) : svgOutput ? (\r\n                <div\r\n                  className={styles.mermaidOutput}\r\n                  style={{\r\n                    transform: `translate(${pan.x}px, ${pan.y}px) scale(${zoom})`,\r\n                    transformOrigin: 'center center',\r\n                    transition: isPanningRef.current ? 'none' : 'transform 0.1s ease-out',\r\n                  }}\r\n                  dangerouslySetInnerHTML={{ __html: svgOutput }}\r\n                />\r\n              ) : (\r\n                <Text type=\"secondary\">Enter Mermaid code to see preview...</Text>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Splitter.Panel>\r\n      </Splitter>\r\n\r\n      {/* Fullscreen Preview */}\r\n      {isFullscreen && (\r\n        <div className={styles.fullscreenOverlay}>\r\n          <div className={styles.fullscreenHeader}>\r\n            <Title level={5} style={{ margin: 0 }}>\r\n              Mermaid Diagram Preview\r\n            </Title>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n              <Text type=\"secondary\" style={{ fontSize: 12 }}>\r\n                {Math.round(fsZoom * 100)}%\r\n              </Text>\r\n              <Tooltip title=\"Zoom In\">\r\n                <Button\r\n                  size=\"small\"\r\n                  icon={<ZoomInOutlined />}\r\n                  onClick={() => setFsZoom((z) => Math.min(ZOOM_MAX, z + ZOOM_STEP))}\r\n                />\r\n              </Tooltip>\r\n              <Tooltip title=\"Zoom Out\">\r\n                <Button\r\n                  size=\"small\"\r\n                  icon={<ZoomOutOutlined />}\r\n                  onClick={() => setFsZoom((z) => Math.max(ZOOM_MIN, z - ZOOM_STEP))}\r\n                />\r\n              </Tooltip>\r\n              <Tooltip title=\"Reset View\">\r\n                <Button size=\"small\" icon={<AimOutlined />} onClick={resetFsView} />\r\n              </Tooltip>\r\n              <Button\r\n                icon={<CompressOutlined />}\r\n                onClick={() => {\r\n                  setIsFullscreen(false);\r\n                  resetFsView();\r\n                }}\r\n              >\r\n                Exit Fullscreen\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={styles.fullscreenContent}\r\n            ref={fullscreenPreviewRef}\r\n            onWheel={handleFsWheel}\r\n            onMouseDown={handleFsMouseDown}\r\n            onMouseMove={handleFsMouseMove}\r\n            onMouseUp={handleFsMouseUp}\r\n            onMouseLeave={handleFsMouseUp}\r\n            style={{ cursor: 'grab', ...getPreviewBgStyle(previewBg, showGrid) }}\r\n          >\r\n            {error ? (\r\n              <div className={styles.errorMessage}>{error}</div>\r\n            ) : svgOutput ? (\r\n              <div\r\n                className={styles.mermaidOutput}\r\n                style={{\r\n                  transform: `translate(${fsPan.x}px, ${fsPan.y}px) scale(${fsZoom})`,\r\n                  transformOrigin: 'center center',\r\n                  transition: isFsPanningRef.current ? 'none' : 'transform 0.1s ease-out',\r\n                }}\r\n                dangerouslySetInnerHTML={{ __html: svgOutput }}\r\n              />\r\n            ) : (\r\n              <Text type=\"secondary\">No diagram to display</Text>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MermaidEditorPage;\r\n"],"names":[],"mappings":"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"}