(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["6842bed9"],{"6bac0e4a":function(e,l,t){t.d(l,"__esModule",{value:!0}),t.e(l,{default:function(){return Z;}});var r=t("777fffbe"),n=t("852bbaa9"),s=t("1a7c85b4"),a=t("d43df923"),i=t("934a4b0d"),d=t("93cff216"),o=r._(d),u=t("d2d0b3b6"),c=r._(u),f=t("d322be42"),h=n._(f),m=t("fd90e66d"),x=r._(m),j=t("85c4e0d9"),v=r._(j),g=h.forwardRef(function(e,l){return h.createElement(v.default,(0,c.default)((0,c.default)({},e),{},{ref:l,icon:x.default}));}),p=t("84cd549f"),y=r._(p),b=t("076b2e3c"),k=r._(b),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M511.4 124C290.5 124.3 112 303 112 523.9c0 128 60.2 242 153.8 315.2l-37.5 48c-4.1 5.3-.3 13 6.3 12.9l167-.8c5.2 0 9-4.9 7.7-9.9L369.8 727a8 8 0 00-14.1-3L315 776.1c-10.2-8-20-16.7-29.3-26a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-7.5 7.5-15.3 14.5-23.4 21.2a7.93 7.93 0 00-1.2 11.1l39.4 50.5c2.8 3.5 7.9 4.1 11.4 1.3C854.5 760.8 912 649.1 912 523.9c0-221.1-179.4-400.2-400.6-399.9z"}}]},name:"undo",theme:"outlined"},N=h.forwardRef(function(e,l){return h.createElement(v.default,(0,c.default)((0,c.default)({},e),{},{ref:l,icon:w}));}),C=t("b2a1469e"),S=r._(C),_=t("e9bcd22d"),M=r._(_),T=t("e2967699"),A=r._(T),E=t("c9d8dc0b"),$=r._(E),z=t("a5512054"),I=r._(z),H=t("3eb6f542"),R=r._(H),L=t("ea21718c"),B=r._(L),D=t("6effc0fd"),F=r._(D),U=t("4fa5c282"),O=r._(U);let{Title:P,Text:V}=F.default,{Option:W}=R.default,Y=e=>e.map(e=>e.map(e=>({...e,notes:new Set([...e.notes])}))),q=e=>e.map(e=>e.map(e=>e.value??0)),G=(e,l)=>e.map((e,t)=>e.map((e,r)=>({r:t,c:r,value:0===e?null:e,given:l?!!l[t][r]:0!==e,notes:new Set}))),J=(e,l,t,r)=>{for(let n=0;n<9;n++)if(e[l][n]===r||e[n][t]===r)return!1;let n=3*Math.floor(l/3),s=3*Math.floor(t/3);for(let l=0;l<3;l++)for(let t=0;t<3;t++)if(e[n+l][s+t]===r)return!1;return!0;},K=e=>{let l=e.map(e=>e.slice()),t=[];for(let e=0;e<9;e++)for(let r=0;r<9;r++)0===l[e][r]&&t.push([e,r]);let r=e=>{if(e>=t.length)return!0;let[n,s]=t[e];for(let t=1;t<=9;t++)if(J(l,n,s,t)){if(l[n][s]=t,r(e+1))return!0;l[n][s]=0;}return!1;};return r(0)?l:null;},Q=()=>{let e=Array.from({length:9},()=>Array(9).fill(0)),l=(t=0)=>{if(81===t)return!0;let r=Math.floor(t/9),n=t%9;for(let s of[1,2,3,4,5,6,7,8,9].sort(()=>Math.random()-.5))if(J(e,r,n,s)){if(e[r][n]=s,l(t+1))return!0;e[r][n]=0;}return!1;};return l(0),e;},X=(e,l)=>{let t={easy:36,medium:32,hard:28,expert:24}[l]??32,r=e.map(e=>e.slice()),n=Array.from({length:9},()=>Array(9).fill(!0));for(let e of Array.from({length:81},(e,l)=>l).sort(()=>Math.random()-.5)){let l=Math.floor(e/9),s=e%9;if(!n[l][s])continue;let a=r[l][s];if(r[l][s]=0,n[l][s]=!1,K(r)){if(n.flat().filter(Boolean).length<=t)break;}else r[l][s]=a,n[l][s]=!0;}return{puzzle:r,givensMask:n};},Z=()=>{let e=(0,a.useIsMobile)();(0,i.useIsTouchDevice)();let[l,t]=(0,h.useState)("medium"),[r,n]=(0,h.useState)(null),[d,u]=(0,h.useState)(()=>G(Array.from({length:9},()=>Array(9).fill(0)))),[c,f]=(0,h.useState)(!1),[m,x]=(0,h.useState)(0),[j,v]=(0,h.useState)(null),[p,b]=(0,h.useState)(!1),[w,C]=(0,h.useState)(null),[_,T]=(0,h.useState)(!1),E=(0,h.useRef)([]),z=(0,h.useRef)([]),H=(e=l)=>{L();let r=Q(),{puzzle:s,givensMask:a}=X(r,e);n(r),u(G(s,a)),t(e),f(!0),x(0),T(!1),E.current=[],z.current=[],$.default.success("New Sudoku ready \u2014 good luck!"),D();};(0,h.useEffect)(()=>{H(l);},[]);let L=()=>{j&&(window.clearInterval(j),v(null));},D=()=>{j||v(window.setInterval(()=>x(e=>e+1),1e3));};(0,h.useEffect)(()=>()=>L(),[]);let F=e=>{E.current.push(Y(e)),E.current.length>200&&E.current.shift(),z.current=[];},U=()=>{let e=E.current;if(!e.length)return $.default.info("Nothing to undo");let l=e.pop();z.current.push(Y(d)),u(l);},K=()=>{let e=z.current;if(!e.length)return $.default.info("Nothing to redo");let l=e.pop();E.current.push(Y(d)),u(l);},Z=e=>{let l=q(e),t=new Set;for(let e=0;e<9;e++)for(let r=0;r<9;r++){let n=l[e][r];0!==n&&(l[e][r]=0,J(l,e,r,n)||t.add(`${e},${r}`),l[e][r]=n);}let r=Y(e);for(let e=0;e<9;e++)for(let l=0;l<9;l++)r[e][l].wrong=t.has(`${e},${l}`);u(r),t.size?$.default.error(`Found ${t.size} mistake(s)`):$.default.success("No obvious mistakes found");},ee=()=>{if(!r)return $.default.error("No solution available");let e=[];for(let l=0;l<9;l++)for(let t=0;t<9;t++)d[l][t].value||e.push([l,t]);if(!e.length)return $.default.info("Board already complete");let[l,t]=e[Math.floor(Math.random()*e.length)];F(d);let n=Y(d);n[l][t].value=r[l][t],n[l][t].notes.clear(),u(n),z.current=[];},el=()=>{if(!r)return $.default.error("No solution available");F(d),u(G(r,Array.from({length:9},()=>Array(9).fill(!0)))),L(),T(!0),$.default.success("Solved (cheater mode)");},et=(e,l,t)=>{if(d[e][l].given)return;F(d);let n=Y(d),s=n[e][l];null===t?(s.value=null,s.notes.clear()):p?s.notes.has(t)?s.notes.delete(t):s.notes.add(t):(s.value=t,s.notes.clear()),u(n),z.current=[];let a=q(n);a.every(e=>e.every(e=>0!==e))&&r&&(a.every((e,l)=>e.every((e,t)=>e===r[l][t]))?(L(),T(!0),$.default.success("\u{1F389} Puzzle solved \u2014 congratulations!")):Z(n));};(0,h.useEffect)(()=>{let e=e=>{if(!w)return;let[l,t]=w;e.key>="1"&&e.key<="9"?et(l,t,Number(e.key)):"Backspace"===e.key||"Delete"===e.key||"0"===e.key?et(l,t,null):"n"===e.key&&(b(e=>!e),$.default.info(`Notes mode ${p?"off":"on"}`));};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e);},[w,p,d,r]);let er=e=>{let l=["sud-cell"];return e.given&&l.push("sud-given"),e.value&&!e.given&&l.push("sud-user"),e.wrong&&l.push("sud-wrong"),l.join(" ");},en=(e,l=24)=>{if(!Array.from(e.notes).sort((e,l)=>e-l).length)return null;let t=Math.max(8,Math.floor(l/4));return(0,s.jsx)("div",{className:"sud-notes",style:{fontSize:t},children:Array.from({length:9},(l,t)=>(0,s.jsx)("div",{className:"sud-note-slot",children:e.notes.has(t+1)?t+1:""},t))});};return(0,s.jsxs)("div",{className:"sud-page",children:[_&&(0,s.jsx)(O.default,{}),(0,s.jsxs)(M.default,{className:"sud-card",bordered:!1,children:[(0,s.jsxs)(I.default,{justify:"space-between",align:"middle",children:[(0,s.jsxs)(A.default,{children:[(0,s.jsx)(P,{level:3,children:"\u{1F9E9} Sudoku"}),(0,s.jsx)(V,{type:"secondary",style:{display:"block",marginTop:8,maxWidth:640,lineHeight:1.6},children:"Sudoku is a logic-based, combinatorial number-placement puzzle. In classic Sudoku, the objective is to fill a 9 \xd7 9 grid with digits so that each column, each row, and each of the nine 3 \xd7 3 subgrids that compose the grid contains all of the digits from 1 to 9."}),(0,s.jsx)(V,{type:"secondary",children:"Responsive, notes, hints, undo/redo, and solver."})]}),(0,s.jsx)(A.default,{children:(0,s.jsxs)(B.default,{wrap:!0,children:[(0,s.jsx)(V,{children:"Difficulty"}),(0,s.jsxs)(R.default,{value:l,onChange:e=>t(e),children:[(0,s.jsx)(W,{value:"easy",children:"Easy"}),(0,s.jsx)(W,{value:"medium",children:"Medium"}),(0,s.jsx)(W,{value:"hard",children:"Hard"}),(0,s.jsx)(W,{value:"expert",children:"Expert"})]}),(0,s.jsx)(S.default,{onClick:()=>H(l),type:"primary",children:"New"}),(0,s.jsx)(S.default,{onClick:()=>U(),icon:(0,s.jsx)(N,{})}),(0,s.jsx)(S.default,{onClick:()=>K(),icon:(0,s.jsx)(k.default,{})}),(0,s.jsx)(S.default,{onClick:()=>Z(d),icon:(0,s.jsx)(g,{})}),(0,s.jsx)(S.default,{onClick:()=>ee(),icon:(0,s.jsx)(o.default,{})}),(0,s.jsx)(S.default,{onClick:()=>el(),danger:!0,children:"Solve"})]})})]}),(0,s.jsx)("div",{style:{marginTop:12,display:"flex",justifyContent:e?"center":"flex-start",gap:16},children:(0,s.jsxs)("div",{className:"sud-layout",children:[(0,s.jsx)("div",{className:"sud-grid",children:(0,s.jsxs)("div",{style:{minWidth:340},children:[(0,s.jsx)("div",{className:"sud-grid",role:"grid","aria-label":"Sudoku board",children:d.map((e,l)=>(0,s.jsx)("div",{className:"sud-row",children:e.map((e,t)=>(0,s.jsx)("div",{role:"gridcell",tabIndex:0,className:`${er(e)} ${w&&w[0]===l&&w[1]===t?"sud-selected":""}`,onClick:()=>C([l,t]),onDoubleClick:()=>C([l,t]),children:e.value?(0,s.jsx)("div",{className:"sud-val",children:e.value}):(0,s.jsx)("div",{className:"sud-empty",children:en(e)})},`${l}-${t}`))},l))}),(0,s.jsxs)("div",{style:{marginTop:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(V,{strong:!0,children:"Time:"})," ",(0,s.jsxs)(V,{children:[m,"s"]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(B.default,{children:[(0,s.jsx)(S.default,{onClick:()=>b(e=>!e),children:p?"Notes: ON":"Notes: OFF"}),(0,s.jsx)(S.default,{onClick:()=>et((null==w?void 0:w[0])??0,(null==w?void 0:w[1])??0,null),icon:(0,s.jsx)(y.default,{}),children:"Erase"})]})})]})]})}),(0,s.jsxs)("div",{className:"sud-number-wrap",children:[(0,s.jsx)("div",{className:"sud-number-palette",children:Array.from({length:9},(e,l)=>l+1).map(e=>(0,s.jsx)(S.default,{onClick:()=>{if(!w)return $.default.info("Select a cell first");et(w[0],w[1],e);},children:e},e))}),(0,s.jsxs)("div",{className:"sud-control-buttons",children:[(0,s.jsx)(S.default,{onClick:()=>ee(),children:"Hint"}),(0,s.jsx)(S.default,{onClick:()=>Z(d),children:"Validate"})]})]})]})}),(0,s.jsxs)("div",{style:{marginTop:24,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,s.jsx)(P,{level:4,children:"\u{1F9E0} How to Play"}),(0,s.jsxs)("ul",{style:{paddingLeft:20,lineHeight:1.7},children:[(0,s.jsx)("li",{children:"Click any empty cell to select it."}),(0,s.jsx)("li",{children:"Use the number palette or keyboard (1\u20139) to fill in digits."}),(0,s.jsxs)("li",{children:["Toggle ",(0,s.jsx)("strong",{children:"Notes Mode"})," to jot down possible numbers."]}),(0,s.jsxs)("li",{children:["Click ",(0,s.jsx)("strong",{children:"Validate"})," to check for mistakes."]}),(0,s.jsxs)("li",{children:["Use ",(0,s.jsx)("strong",{children:"Undo"})," and ",(0,s.jsx)("strong",{children:"Redo"})," to revert moves."]}),(0,s.jsxs)("li",{children:["Click ",(0,s.jsx)("strong",{children:"Hint"})," to reveal a random correct number."]}),(0,s.jsx)("li",{children:"You win when the entire grid is correctly filled!"})]})]}),(0,s.jsx)("div",{style:{marginTop:12,textAlign:"center"},children:(0,s.jsx)(V,{type:"secondary",children:"Made with \u2764\uFE0F \u2014 responsive and keyboard friendly."})})]})]});};}}]);
//# sourceMappingURL=6842bed9-async.1129e31a.js.map