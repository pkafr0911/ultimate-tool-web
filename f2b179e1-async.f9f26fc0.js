(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["f2b179e1"],{ed5a3f36:function(e,t,r){"use strict";r.d(t,"__esModule",{value:!0}),r.d(t,"default",{enumerable:!0,get:function(){return x;}});var s=r("777fffbe"),n=r("1a7c85b4"),a=s._(r("b2a1469e")),l=s._(r("e9bcd22d")),d=s._(r("2aa4d12e")),o=s._(r("ea21718c")),i=s._(r("5d5723f8")),c=s._(r("6effc0fd")),u=s._(r("c9d8dc0b")),f=r("d322be42"),h=s._(r("4fa5c282"));let{Title:y,Text:m}=c.default;var x=()=>{let[e,t]=(0,f.useState)(20),[r,s]=(0,f.useState)(75),[c,x]=(0,f.useState)([{x:10,y:10}]),[v,b]=(0,f.useState)("RIGHT"),[w,g]=(0,f.useState)({x:5,y:5}),[j,p]=(0,f.useState)(!1),[T,k]=(0,f.useState)(!1),[E,L]=(0,f.useState)(0),[S,R]=(0,f.useState)(!1),[C,G]=(0,f.useState)(!0),N=(0,f.useRef)(null),I=(0,f.useRef)(0),W=(0,f.useRef)(0),_=(0,f.useRef)(0),H=(0,f.useRef)(0),[D,F]=(0,f.useState)(!1);(0,f.useEffect)(()=>{let e=()=>F(window.innerWidth<=768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e);},[]);let M=()=>({x:Math.floor(Math.random()*e),y:Math.floor(Math.random()*e)}),O=()=>{if(e<10){u.default.error("Grid size must be at least 10!");return;}x([{x:Math.floor(e/2),y:Math.floor(e/2)}]),g(M()),L(0),k(!1),p(!0),R(!1),b("RIGHT");},P=()=>{x(t=>{let r=[...t],s={...r[0]};switch(v){case"UP":s.y-=1;break;case"DOWN":s.y+=1;break;case"LEFT":s.x-=1;break;case"RIGHT":s.x+=1;}if(C){if(s.x<0||s.y<0||s.x>=e||s.y>=e)return k(!0),t;}else s.x<0&&(s.x=e-1),s.x>=e&&(s.x=0),s.y<0&&(s.y=e-1),s.y>=e&&(s.y=0);return r.some(e=>e.x===s.x&&e.y===s.y)?(k(!0),t):(r.unshift(s),s.x===w.x&&s.y===w.y?(L(e=>e+10),g(M())):r.pop(),r);});},U=e=>{if(j&&!T)switch(e.key.toLowerCase()){case"arrowup":case"w":"DOWN"!==v&&b("UP");break;case"arrowdown":case"s":"UP"!==v&&b("DOWN");break;case"arrowleft":case"a":"RIGHT"!==v&&b("LEFT");break;case"arrowright":case"d":"LEFT"!==v&&b("RIGHT");}};(0,f.useEffect)(()=>{let e=e=>e.preventDefault();return D&&j&&!T?(document.body.style.overflow="hidden",document.body.style.position="fixed",document.body.style.width="100%",document.body.style.touchAction="none",window.addEventListener("touchmove",e,{passive:!1})):(document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.touchAction="",window.removeEventListener("touchmove",e)),()=>{document.body.style.overflow="",document.body.style.position="",document.body.style.width="",document.body.style.touchAction="",window.removeEventListener("touchmove",e);};},[j,T]);let z=e=>{j&&!T&&("UP"===e&&"DOWN"!==v||"DOWN"===e&&"UP"!==v||"LEFT"===e&&"RIGHT"!==v||"RIGHT"===e&&"LEFT"!==v)&&b(e);};return(0,f.useEffect)(()=>(j&&!T&&(N.current=setInterval(P,r)),()=>clearInterval(N.current)),[j,r,v,T]),(0,f.useEffect)(()=>(window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)),[j,v,T]),(0,f.useEffect)(()=>{T&&(clearInterval(N.current),u.default.error("\u{1F480} Game Over!"),R(!0));},[T]),(0,n.jsxs)("div",{className:"tic-container",children:[S&&T&&(0,n.jsx)(h.default,{}),(0,n.jsxs)(l.default,{className:"tic-card",variant:"borderless",children:[(0,n.jsx)(y,{level:3,children:"\u{1F40D} Snake Xenzia"}),j?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"snake-board",style:{display:"grid",gridTemplateColumns:`repeat(${e}, ${D?"10px":"20px"})`,gap:2,marginTop:20,justifyContent:"center"},onTouchStart:e=>{I.current=e.touches[0].clientX,W.current=e.touches[0].clientY;},onTouchMove:e=>{_.current=e.touches[0].clientX,H.current=e.touches[0].clientY;},onTouchEnd:()=>{if(!j||T)return;let e=_.current-I.current,t=H.current-W.current;Math.abs(e)>Math.abs(t)?e>30&&"LEFT"!==v?b("RIGHT"):e<-30&&"RIGHT"!==v&&b("LEFT"):t>30&&"UP"!==v?b("DOWN"):t<-30&&"DOWN"!==v&&b("UP");},children:Array.from({length:e}).map((t,r)=>Array.from({length:e}).map((e,t)=>{let s=c.some(e=>e.x===t&&e.y===r),a=c.length&&c[0].x===t&&c[0].y===r,l=w.x===t&&w.y===r;return(0,n.jsx)("div",{className:"snake-cell",style:{width:D?10:20,height:D?10:20,backgroundColor:a?"#52c41a":s?"#73d13d":l?"#ff7875":"#f0f0f0",borderRadius:l?"50%":2}},`${r}-${t}`);}))}),(0,n.jsx)("div",{style:{marginTop:20},children:T?(0,n.jsxs)(y,{level:4,style:{color:"#ff4d4f"},children:["Game Over! Final Score: ",E]}):(0,n.jsxs)(y,{level:4,children:["Score: ",E]})}),(0,n.jsxs)("div",{className:"manual-controls",children:[(0,n.jsx)("div",{className:"control-row",children:(0,n.jsx)(a.default,{disabled:!j||T,onClick:()=>z("UP"),children:"\u2B06\uFE0F / W"})}),(0,n.jsxs)("div",{className:"control-row",children:[(0,n.jsx)(a.default,{disabled:!j||T,onClick:()=>z("LEFT"),children:"\u2B05\uFE0F / A"}),(0,n.jsx)(a.default,{disabled:!j||T,onClick:()=>z("DOWN"),children:"\u2B07\uFE0F / S"}),(0,n.jsx)(a.default,{disabled:!j||T,onClick:()=>z("RIGHT"),children:"\u27A1\uFE0F / D"})]})]}),(0,n.jsxs)(o.default,{style:{marginTop:16},children:[(0,n.jsx)(a.default,{onClick:O,children:"Restart"}),(0,n.jsx)(a.default,{danger:!0,onClick:()=>{p(!1),x([]),L(0),k(!1),R(!1);},children:"New Setup"})]})]}):(0,n.jsxs)(o.default,{direction:"vertical",size:"large",style:{marginTop:24},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{strong:!0,children:"Grid Size:"}),(0,n.jsx)(d.default,{min:10,max:50,value:e,onChange:e=>t(e||20),style:{marginLeft:10}})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{strong:!0,children:"Speed (ms):"}),(0,n.jsx)(d.default,{min:10,max:500,step:10,value:r,onChange:e=>s(e||150),style:{marginLeft:10}}),(0,n.jsx)(m,{type:"secondary",style:{marginLeft:8},children:"(Lower = faster)"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{strong:!0,children:"Walls Enabled:"}),(0,n.jsx)(i.default,{checked:C,onChange:G,style:{marginLeft:10}}),(0,n.jsx)(m,{type:"secondary",style:{marginLeft:8},children:C?"Hit wall = Game over":"Wrap around mode"})]}),(0,n.jsx)(a.default,{type:"primary",size:"large",onClick:O,children:"Start Game"})]})]})]});};}}]);
//# sourceMappingURL=f2b179e1-async.f9f26fc0.js.map