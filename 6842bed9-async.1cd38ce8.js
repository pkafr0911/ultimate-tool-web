(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ultimate-tool-web"]||[]).push([["6842bed9"],{"7cb25a24":function(e,l,t){"use strict";t.d(l,"__esModule",{value:!0}),t.d(l,"default",{enumerable:!0,get:function(){return E;}});var r=t("777fffbe"),s=t("95bd365d"),n=t("20c112ff"),i=t("09ee2c27"),a=r._(t("46f73fdb")),d=r._(t("897c06fb")),o=r._(t("30963339")),u=r._(t("13afdc7a")),c=r._(t("d90c6c6d")),f=r._(t("0ec3d373")),h=r._(t("bb4b9fac")),m=r._(t("c213ceab")),x=r._(t("0ed998a9")),j=r._(t("e015c964")),v=r._(t("4f331305")),g=r._(t("5a83e636")),p=r._(t("522a0302")),y=t("314fd1a3"),b=r._(t("f3cfb986"));let{Title:k,Text:w}=p.default,{Option:N}=v.default,C=e=>e.map(e=>e.map(e=>({...e,notes:new Set([...e.notes])}))),S=e=>e.map(e=>e.map(e=>e.value??0)),_=(e,l)=>e.map((e,t)=>e.map((e,r)=>({r:t,c:r,value:0===e?null:e,given:l?!!l[t][r]:0!==e,notes:new Set}))),M=(e,l,t,r)=>{for(let s=0;s<9;s++)if(e[l][s]===r||e[s][t]===r)return!1;let s=3*Math.floor(l/3),n=3*Math.floor(t/3);for(let l=0;l<3;l++)for(let t=0;t<3;t++)if(e[s+l][n+t]===r)return!1;return!0;},T=e=>{let l=e.map(e=>e.slice()),t=[];for(let e=0;e<9;e++)for(let r=0;r<9;r++)0===l[e][r]&&t.push([e,r]);let r=e=>{if(e>=t.length)return!0;let[s,n]=t[e];for(let t=1;t<=9;t++)if(M(l,s,n,t)){if(l[s][n]=t,r(e+1))return!0;l[s][n]=0;}return!1;};return r(0)?l:null;},A=()=>{let e=Array.from({length:9},()=>Array(9).fill(0)),l=(t=0)=>{if(81===t)return!0;let r=Math.floor(t/9),s=t%9;for(let n of[1,2,3,4,5,6,7,8,9].sort(()=>Math.random()-.5))if(M(e,r,s,n)){if(e[r][s]=n,l(t+1))return!0;e[r][s]=0;}return!1;};return l(0),e;},$=(e,l)=>{let t={easy:36,medium:32,hard:28,expert:24}[l]??32,r=e.map(e=>e.slice()),s=Array.from({length:9},()=>Array(9).fill(!0));for(let e of Array.from({length:81},(e,l)=>l).sort(()=>Math.random()-.5)){let l=Math.floor(e/9),n=e%9;if(!s[l][n])continue;let i=r[l][n];if(r[l][n]=0,s[l][n]=!1,T(r)){if(s.flat().filter(Boolean).length<=t)break;}else r[l][n]=i,s[l][n]=!0;}return{puzzle:r,givensMask:s};};var E=()=>{let e=(0,n.useIsMobile)();(0,i.useIsTouchDevice)();let[l,t]=(0,y.useState)("medium"),[r,p]=(0,y.useState)(null),[T,E]=(0,y.useState)(()=>_(Array.from({length:9},()=>Array(9).fill(0)))),[I,z]=(0,y.useState)(!1),[H,D]=(0,y.useState)(0),[R,B]=(0,y.useState)(null),[F,L]=(0,y.useState)(!1),[U,O]=(0,y.useState)(null),[P,V]=(0,y.useState)(!1),W=(0,y.useRef)([]),Y=(0,y.useRef)([]),q=(e=l)=>{G();let r=A(),{puzzle:s,givensMask:n}=$(r,e);p(r),E(_(s,n)),t(e),z(!0),D(0),V(!1),W.current=[],Y.current=[],x.default.success("New Sudoku ready \u2014 good luck!"),J();};(0,y.useEffect)(()=>{q(l);},[]);let G=()=>{R&&(window.clearInterval(R),B(null));},J=()=>{R||B(window.setInterval(()=>D(e=>e+1),1e3));};(0,y.useEffect)(()=>()=>G(),[]);let K=e=>{W.current.push(C(e)),W.current.length>200&&W.current.shift(),Y.current=[];},Q=()=>{let e=W.current;if(!e.length)return x.default.info("Nothing to undo");let l=e.pop();Y.current.push(C(T)),E(l);},X=()=>{let e=Y.current;if(!e.length)return x.default.info("Nothing to redo");let l=e.pop();W.current.push(C(T)),E(l);},Z=e=>{let l=S(e),t=new Set;for(let e=0;e<9;e++)for(let r=0;r<9;r++){let s=l[e][r];0!==s&&(l[e][r]=0,M(l,e,r,s)||t.add(`${e},${r}`),l[e][r]=s);}let r=C(e);for(let e=0;e<9;e++)for(let l=0;l<9;l++)r[e][l].wrong=t.has(`${e},${l}`);E(r),t.size?x.default.error(`Found ${t.size} mistake(s)`):x.default.success("No obvious mistakes found");},ee=()=>{if(!r)return x.default.error("No solution available");let e=[];for(let l=0;l<9;l++)for(let t=0;t<9;t++)T[l][t].value||e.push([l,t]);if(!e.length)return x.default.info("Board already complete");let[l,t]=e[Math.floor(Math.random()*e.length)];K(T);let s=C(T);s[l][t].value=r[l][t],s[l][t].notes.clear(),E(s),Y.current=[];},el=()=>{if(!r)return x.default.error("No solution available");K(T),E(_(r,Array.from({length:9},()=>Array(9).fill(!0)))),G(),V(!0),x.default.success("Solved (cheater mode)");},et=(e,l,t)=>{if(T[e][l].given)return;K(T);let s=C(T),n=s[e][l];null===t?(n.value=null,n.notes.clear()):F?n.notes.has(t)?n.notes.delete(t):n.notes.add(t):(n.value=t,n.notes.clear()),E(s),Y.current=[];let i=S(s);i.every(e=>e.every(e=>0!==e))&&r&&(i.every((e,l)=>e.every((e,t)=>e===r[l][t]))?(G(),V(!0),x.default.success("\u{1F389} Puzzle solved \u2014 congratulations!")):Z(s));};(0,y.useEffect)(()=>{let e=e=>{if(!U)return;let[l,t]=U;e.key>="1"&&e.key<="9"?et(l,t,Number(e.key)):"Backspace"===e.key||"Delete"===e.key||"0"===e.key?et(l,t,null):"n"===e.key&&(L(e=>!e),x.default.info(`Notes mode ${F?"off":"on"}`));};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e);},[U,F,T,r]);let er=e=>{let l=["sud-cell"];return e.given&&l.push("sud-given"),e.value&&!e.given&&l.push("sud-user"),e.wrong&&l.push("sud-wrong"),l.join(" ");},es=(e,l=24)=>{if(!Array.from(e.notes).sort((e,l)=>e-l).length)return null;let t=Math.max(8,Math.floor(l/4));return(0,s.jsx)("div",{className:"sud-notes",style:{fontSize:t},children:Array.from({length:9},(l,t)=>(0,s.jsx)("div",{className:"sud-note-slot",children:e.notes.has(t+1)?t+1:""},t))});};return(0,s.jsxs)("div",{className:"sud-page",children:[P&&(0,s.jsx)(b.default,{}),(0,s.jsxs)(h.default,{className:"sud-card",bordered:!1,children:[(0,s.jsxs)(j.default,{justify:"space-between",align:"middle",children:[(0,s.jsxs)(m.default,{children:[(0,s.jsx)(k,{level:3,children:"\u{1F9E9} Sudoku"}),(0,s.jsx)(w,{type:"secondary",style:{display:"block",marginTop:8,maxWidth:640,lineHeight:1.6},children:"Sudoku is a logic-based, combinatorial number-placement puzzle. In classic Sudoku, the objective is to fill a 9 \xd7 9 grid with digits so that each column, each row, and each of the nine 3 \xd7 3 subgrids that compose the grid contains all of the digits from 1 to 9."}),(0,s.jsx)(w,{type:"secondary",children:"Responsive, notes, hints, undo/redo, and solver."})]}),(0,s.jsx)(m.default,{children:(0,s.jsxs)(g.default,{wrap:!0,children:[(0,s.jsx)(w,{children:"Difficulty"}),(0,s.jsxs)(v.default,{value:l,onChange:e=>t(e),children:[(0,s.jsx)(N,{value:"easy",children:"Easy"}),(0,s.jsx)(N,{value:"medium",children:"Medium"}),(0,s.jsx)(N,{value:"hard",children:"Hard"}),(0,s.jsx)(N,{value:"expert",children:"Expert"})]}),(0,s.jsx)(f.default,{onClick:()=>q(l),type:"primary",children:"New"}),(0,s.jsx)(f.default,{onClick:()=>Q(),icon:(0,s.jsx)(c.default,{})}),(0,s.jsx)(f.default,{onClick:()=>X(),icon:(0,s.jsx)(u.default,{})}),(0,s.jsx)(f.default,{onClick:()=>Z(T),icon:(0,s.jsx)(d.default,{})}),(0,s.jsx)(f.default,{onClick:()=>ee(),icon:(0,s.jsx)(a.default,{})}),(0,s.jsx)(f.default,{onClick:()=>el(),danger:!0,children:"Solve"})]})})]}),(0,s.jsx)("div",{style:{marginTop:12,display:"flex",justifyContent:e?"center":"flex-start",gap:16},children:(0,s.jsxs)("div",{className:"sud-layout",children:[(0,s.jsx)("div",{className:"sud-grid",children:(0,s.jsxs)("div",{style:{minWidth:340},children:[(0,s.jsx)("div",{className:"sud-grid",role:"grid","aria-label":"Sudoku board",children:T.map((e,l)=>(0,s.jsx)("div",{className:"sud-row",children:e.map((e,t)=>(0,s.jsx)("div",{role:"gridcell",tabIndex:0,className:`${er(e)} ${U&&U[0]===l&&U[1]===t?"sud-selected":""}`,onClick:()=>O([l,t]),onDoubleClick:()=>O([l,t]),children:e.value?(0,s.jsx)("div",{className:"sud-val",children:e.value}):(0,s.jsx)("div",{className:"sud-empty",children:es(e)})},`${l}-${t}`))},l))}),(0,s.jsxs)("div",{style:{marginTop:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(w,{strong:!0,children:"Time:"})," ",(0,s.jsxs)(w,{children:[H,"s"]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(g.default,{children:[(0,s.jsx)(f.default,{onClick:()=>L(e=>!e),children:F?"Notes: ON":"Notes: OFF"}),(0,s.jsx)(f.default,{onClick:()=>et((null==U?void 0:U[0])??0,(null==U?void 0:U[1])??0,null),icon:(0,s.jsx)(o.default,{}),children:"Erase"})]})})]})]})}),(0,s.jsxs)("div",{className:"sud-number-wrap",children:[(0,s.jsx)("div",{className:"sud-number-palette",children:Array.from({length:9},(e,l)=>l+1).map(e=>(0,s.jsx)(f.default,{onClick:()=>{if(!U)return x.default.info("Select a cell first");et(U[0],U[1],e);},children:e},e))}),(0,s.jsxs)("div",{className:"sud-control-buttons",children:[(0,s.jsx)(f.default,{onClick:()=>ee(),children:"Hint"}),(0,s.jsx)(f.default,{onClick:()=>Z(T),children:"Validate"})]})]})]})}),(0,s.jsxs)("div",{style:{marginTop:24,paddingTop:12,borderTop:"1px solid #f0f0f0"},children:[(0,s.jsx)(k,{level:4,children:"\u{1F9E0} How to Play"}),(0,s.jsxs)("ul",{style:{paddingLeft:20,lineHeight:1.7},children:[(0,s.jsx)("li",{children:"Click any empty cell to select it."}),(0,s.jsx)("li",{children:"Use the number palette or keyboard (1\u20139) to fill in digits."}),(0,s.jsxs)("li",{children:["Toggle ",(0,s.jsx)("strong",{children:"Notes Mode"})," to jot down possible numbers."]}),(0,s.jsxs)("li",{children:["Click ",(0,s.jsx)("strong",{children:"Validate"})," to check for mistakes."]}),(0,s.jsxs)("li",{children:["Use ",(0,s.jsx)("strong",{children:"Undo"})," and ",(0,s.jsx)("strong",{children:"Redo"})," to revert moves."]}),(0,s.jsxs)("li",{children:["Click ",(0,s.jsx)("strong",{children:"Hint"})," to reveal a random correct number."]}),(0,s.jsx)("li",{children:"You win when the entire grid is correctly filled!"})]})]}),(0,s.jsx)("div",{style:{marginTop:12,textAlign:"center"},children:(0,s.jsx)(w,{type:"secondary",children:"Made with \u2764\uFE0F \u2014 responsive and keyboard friendly."})})]})]});};}}]);
//# sourceMappingURL=6842bed9-async.1cd38ce8.js.map